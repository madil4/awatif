---
layout: layout.html
title: Awatif User Interface
breadcrumb: User Interface
---

<!-- Content -->
<div class="w-full pt-10 px-4 sm:px-6 md:px-8 lg:ps-72">
  <!-- Page Heading -->
  <header>
    <!-- Icon Blocks -->
    <div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
      <div class="max-w-3xl mx-auto">
        <!-- Grid -->
        <div class="grid gap-12">
          <!-- Title  -->
          <div>
            <h2 class="text-3xl text-gray-800 font-bold">Awatif User Interface</h2>
          </div>
          <!-- End Title  -->

          <!-- Introduction -->
          <div>
            <p>
              Building an interactive web app from scratch is a challenging task. awatif-ui takes care of all the boilerplate and infrastructure, allowing you to focus on the logic of your app. It is based on a simple concept: exposing parameters
              that you want the user to interact with, and at each parameter change, rerunning the script or algorithm for modeling, analysis, design, and reporting of your structure.
            </p>
          </div>
          <!-- End Introduction -->

          <!-- Features -->
          <div class="max-w-[85rem] mx-auto">
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 items-center gap-12">
              <!-- Icon Block -->
              <!-- Icon Block -->
              <div>
                <div
                  class="relative flex justify-center items-center size-12 bg-white rounded-xl before:absolute before:-inset-px before:-z-[1] before:bg-gradient-to-br before:from-primary before:via-transparent before:to-primary-light before:rounded-xl"
                >
                  <svg class="flex-shrink-0 size-6 text-primary" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon class="cls-1" points="9.13 22.54 5.29 22.54 5.29 6.25 5.29 1.46 9.13 1.46 9.13 22.54" />
                    <polygon class="cls-1" points="1.46 6.25 22.54 6.25 22.54 5.29 9.13 1.46 5.29 1.46 1.46 5.29 1.46 6.25" />
                    <line class="cls-1" x1="23.5" y1="22.54" x2="0.5" y2="22.54" />
                    <path class="cls-1" d="M20.62,6.25V9.64a1.82,1.82,0,0,0,.9,1.63A1.92,1.92,0,1,1,18.71,13" />
                    <line class="cls-1" x1="9.13" y1="16.79" x2="5.29" y2="20.63" />
                    <line class="cls-1" x1="5.29" y1="12" x2="9.13" y2="15.83" />
                    <line class="cls-1" x1="9.13" y1="7.21" x2="5.29" y2="11.04" />
                  </svg>
                </div>
                <div class="mt-5">
                  <h3 class="text-lg text-gray-800">For Structural Engineers</h3>
                  <p class="mt-1 text-gray-600">Components for visualizing engineering results & reports.</p>
                </div>
              </div>
              <!-- End Icon Block -->

              <div>
                <div
                  class="relative flex justify-center items-center size-12 bg-white rounded-xl before:absolute before:-inset-px before:-z-[1] before:bg-gradient-to-br before:from-primary before:via-transparent before:to-primary-light before:rounded-xl"
                >
                  <svg class="flex-shrink-0 size-6 text-primary" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 32 32" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                      d="M-0.136 16.708c0.152-8.765 6.287-15.005 13.797-16.015 8.959-1.199 16.495 4.895 17.943 12.979 1.375 7.667-2.839 14.844-9.787 17.688-0.599 0.244-0.927 0.109-1.156-0.5l-3.453-8.969c-0.197-0.527-0.063-0.855 0.453-1.088 1.563-0.709 2.536-1.896 2.797-3.6 0.411-2.64-1.5-5.077-4.161-5.307-2.423-0.235-4.609 1.453-5 3.853-0.339 2.131 0.713 4.115 2.697 5.016 0.62 0.281 0.745 0.557 0.505 1.188l-3.469 9.031c-0.167 0.443-0.531 0.6-1 0.417-3.661-1.432-6.667-4.167-8.437-7.677-1.609-3.177-1.624-5.661-1.729-7.021zM1.213 16.584c0.027 0.427 0.041 0.921 0.084 1.427 0.405 4.64 3.197 9.26 8.452 11.817 0.209 0.093 0.287 0.052 0.365-0.145 0.959-2.527 1.927-5.052 2.901-7.579 0.083-0.208 0.041-0.307-0.152-0.427-2.041-1.287-3.057-3.131-2.943-5.552 0.063-1.391 0.6-2.615 1.537-3.636 1.932-2.109 4.968-2.568 7.453-1.135 2.052 1.187 3.197 3.484 2.916 5.839-0.235 1.968-1.244 3.479-2.953 4.5-0.172 0.104-0.224 0.187-0.145 0.389 0.979 2.532 1.953 5.063 2.916 7.595 0.079 0.203 0.157 0.244 0.36 0.145 2.297-1.068 4.208-2.599 5.688-4.64 2.244-3.115 3.171-6.579 2.728-10.391-0.88-7.584-7.703-13.865-16.489-12.781-6.844 0.839-12.604 6.615-12.719 14.573z"
                    />
                  </svg>
                </div>
                <div class="mt-5">
                  <h3 class="text-xl text-gray-800">Open source</h3>
                  <p class="mt-1 text-gray-600">Full control of behavior and looks</p>
                </div>
              </div>
              <!-- End Icon Block -->

              <!-- Icon Block -->
              <div>
                <div
                  class="relative flex justify-center items-center size-12 bg-white rounded-xl before:absolute before:-inset-px before:-z-[1] before:bg-gradient-to-br before:from-primary before:via-transparent before:to-primary-light before:rounded-xl"
                >
                  <svg class="flex-shrink-0 size-6 text-primary" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path
                      d="M15.5777 3.38197L17.5777 4.43152C19.7294 5.56066 20.8052 6.12523 21.4026 7.13974C22 8.15425 22 9.41667 22 11.9415V12.0585C22 14.5833 22 15.8458 21.4026 16.8603C20.8052 17.8748 19.7294 18.4393 17.5777 19.5685L15.5777 20.618C13.8221 21.5393 12.9443 22 12 22C11.0557 22 10.1779 21.5393 8.42229 20.618L6.42229 19.5685C4.27063 18.4393 3.19479 17.8748 2.5974 16.8603C2 15.8458 2 14.5833 2 12.0585V11.9415C2 9.41667 2 8.15425 2.5974 7.13974C3.19479 6.12523 4.27063 5.56066 6.42229 4.43152L8.42229 3.38197C10.1779 2.46066 11.0557 2 12 2C12.9443 2 13.8221 2.46066 15.5777 3.38197Z"
                    />
                    <path d="M21 7.5L12 12M12 12L3 7.5M12 12V21.5" />
                  </svg>
                </div>
                <div class="mt-5">
                  <h3 class="text-lg text-gray-800">Extensible</h3>
                  <p class="mt-1 text-gray-600">Built on Three.js library for drawing complex geometry</p>
                </div>
              </div>
              <!-- End Icon Block -->
            </div>
          </div>
          <!-- End Features -->

          <!-- Installation -->
          <div>
            <h2 id="install" class="mb-3 text-lg text-gray-800 font-bold">Installation</h2>

            <pre><code class="language-ts">npm install awatif-ui</code></pre>
          </div>
          <!-- End Installation -->

          <!-- Usage -->
          <div class="overflow-auto">
            <h3 class="mb-3 text-lg text-gray-800 font-bold">Usage</h3>

            <pre><code class="language-ts">import { Node, Element, AnalysisInput } from "awatif-data-model";
import { app, Parameters, Model } from "awatif-ui";
import { analyze } from "awatif-fem";

const parameters: Parameters = {
  xPosition: { value: 12, min: 1, max: 20 },
  zPosition: { value: 0, min: 1, max: 10 },
};

function onParameterChange(parameters: Parameters): Model {
  const nodes: Node[] = [
    [5, 0, 0],
    [parameters.xPosition.value, 0, parameters.zPosition.value],
    [5, 0, 8],
  ];
  const elements: Element[] = [
    [0, 1],
    [1, 2],
  ];

  const analysisInputs: AnalysisInputs = {
    materials: new Map(),
    sections: new Map(),
    pointSupports: new Map(),
    pointLoads: new Map(),
  };

  analysisInputs.materials?.set(0, { elasticity: 200 });
  analysisInputs.sections?.set(0, { area: 1.2 });
  analysisInputs.materials?.set(1, { elasticity: 200 });
  analysisInputs.sections?.set(1, { area: 1.2 });
  analysisInputs.pointSupports?.set(0, [true, true, true, true, true, true]);
  analysisInputs.pointSupports?.set(2, [true, true, true, true, true, true]);
  analysisInputs.pointLoads?.set(1, [0, 0, -10, 0, 0, 0]);

  const analysisOutputs = analyze(nodes, elements, analysisInputs);

  return { nodes, elements, analysisInputs, analysisOutputs };
}

app({
  parameters,
  onParameterChange,
});</code></pre>
          </div>
          <!-- End Usage -->

          <!-- Examples -->
          <div>
            <h3 class="mb-3 text-lg text-gray-800 font-bold">Examples</h3>

            <ol class="mb-3 list-decimal list-inside text-gray-800">
              <li>
                Bars - <a href="/examples/bars/" class="text-primary-light hover:underline">view</a> -
                <a href="https://github.com/madil4/awatif/blob/main/examples/src/bars/main.ts" class="text-primary-light hover:underline">source code</a>
              </li>
              <li>
                Beams - <a href="/examples/beams/" class="text-primary-light hover:underline">view</a> -
                <a href="https://github.com/madil4/awatif/blob/main/examples/src/beams/main.ts" class="text-primary-light hover:underline">source code</a>
              </li>
              <li><a href="/examples/" class="text-primary-light hover:underline">More Examples</a></li>
            </ol>

            <p class="mb-3">When you toggle the bending moment setting located at the top-left corner, you should see this:</p>
            <img class="w-3/4" src="/img/awatif-ui/portal-frame.jpg" alt="portal-frame bending moment" />
          </div>
          <!-- End Examples -->

          <!-- API Reference -->
          <div>
            <h3 id="api" class="mb-3 text-lg text-gray-800 font-bold scroll-mt-24">API Reference</h3>

            <div class="mb-5 hs-accordion-group" data-hs-accordion-always-open>
              <!-- App -->
              <div class="hs-accordion" id="app-heading">
                <button
                  class="hs-accordion-toggle hs-accordion-active:text-primary-light py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-primary-light"
                  aria-controls="app-collapse"
                >
                  <svg class="hs-accordion-active:hidden block size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m6 9 6 6 6-6" />
                  </svg>
                  <svg class="hs-accordion-active:block hidden size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m18 15-6-6-6 6" />
                  </svg>
                  app
                </button>

                <!-- Property Bar and Beam -->
                <div id="app-collapse" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="app-heading">
                  <p class="mb-3">This library exposes a single function called app, which accepts the following inputs: Parameters, OnParameterChange, and Settings. It then returns a 3D HTML canvas appended to the body element.</p>

                  <!-- Inputs -->
                  <div class="hs-accordion-group ps-6" data-hs-accordion-always-open>
                    <!-- Parameters -->
                    <div class="hs-accordion" id="parameters-heading">
                      <button
                        class="hs-accordion-toggle hs-accordion-active:text-primary-light py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none"
                        aria-controls="parameters-collapse"
                      >
                        <svg class="hs-accordion-active:hidden block size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                          <path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="hs-accordion-active:block hidden size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        Parameters
                      </button>
                      <div id="parameters-collapse" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="parameters-heading">
                        <p class="mb-3">This is a list of parameters that your app exposes to end-users. It follows this data structure:</p>
                        <pre class="mb-3"><code class="language-ts">type Parameters = Record<
  string,
  {
    value: number | boolean;
    min?: number;
    max?: number;
    step?: number;
    label?: string;
  }
></code></pre>
                        <ul class="list-disc list-inside text-gray-800">
                          <li><code class="text-red-500 text-[0.85rem]">`value`</code>: The initial value of the parameter, which can either be a number or boolean.</li>
                          <li><code class="text-red-500 text-[0.85rem]">`min`</code>: In the case of a number parameter, this is the minimum value.</li>
                          <li><code class="text-red-500 text-[0.85rem]">`max`</code>: In the case of a number parameter, this is the maximum value.</li>
                          <li><code class="text-red-500 text-[0.85rem]">`step`</code>: In the case of a number parameter, this is the step value.</li>
                          <li><code class="text-red-500 text-[0.85rem]">`label`</code>: Optimally defines a different parameter label rather than the parameter key.</li>
                        </ul>
                      </div>
                    </div>
                    <!-- End parameters -->

                    <!-- onParameterChange -->
                    <div class="hs-accordion" id="on-parameter-change-heading">
                      <button
                        class="hs-accordion-toggle hs-accordion-active:text-primary-light py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none"
                        aria-controls="on-parameter-change-collapse"
                      >
                        <svg class="hs-accordion-active:hidden block size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                          <path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="hs-accordion-active:block hidden size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        onParameterChange
                      </button>
                      <div id="on-parameter-change-collapse" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="on-parameter-change-heading">
                        <p>
                          Here is where all the magic happens. It is a function that will be triggered as the user changes the parameters. It takes the parameters list as input and returns a new model as output. The model consists of nodes, elements,
                          analysisInputs, and analysis outputs, as described in <a href="/awatif-data-model/" class="text-primary-light hover:underline">awatif-data-model</a>.
                        </p>
                        <pre class="mb-3 grid grid-cols-1"><code class="language-ts">function onParameterChange(parameters) {
    // Recompute the model according to the newly changed parameters
    // ...
    return { nodes, elements, analysisInputs, analysisOutputs };
}</code></pre>
                      </div>
                    </div>
                    <!-- End onParameterChange -->

                    <!-- Settings -->
                    <div class="hs-accordion" id="settings-heading">
                      <button
                        class="hs-accordion-toggle hs-accordion-active:text-primary-light py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none"
                        aria-controls="settings-collapse"
                      >
                        <svg class="hs-accordion-active:hidden block size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                          <path d="M8.12421 13.36V2.35999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        <svg class="hs-accordion-active:block hidden size-3" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.62421 7.86L13.6242 7.85999" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        </svg>
                        Settings
                      </button>
                      <div id="settings-collapse" class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300" aria-labelledby="settings-heading">
                        <p class="mb-3">A settings object is used to control the user interface.</p>
                        <pre class="mb-3"><code class="language-ts">type Settings = {
  gridSize?: number;
  displayScale?: number;
  nodes?: boolean;
  elements?: boolean;
  nodesIndexes?: boolean;
  elementsIndexes?: boolean;
  orientations?: boolean;
  supports?: boolean;
  loads?: boolean;
  deformedShape?: boolean;
  elementResults?: string;
  nodeResults?: string;
};</code></pre>
                        <ul class="list-disc list-inside text-gray-800">
                          <li><code class="text-red-500 text-[0.85rem]">`gridSize`</code>: This determines the size of the grid and, consequently, the size of your model. The default value is 25, resulting in a grid size of 25x25 units in length</li>
                          <li><code class="text-red-500 text-[0.85rem]">`displayScale`</code>: Controls the scale of diagrams and labels presented in the viewer</li>
                          <li><code class="text-red-500 text-[0.85rem]">`nodes`</code>: Toggles nodes on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`elements`</code>: Toggles elements on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`nodesIndexes`</code>: Toggles nodes indexes on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`elementsIndexes`</code>: Toggles elements indexes on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`orientations`</code>: Toggles orientations on and off, using red, green, and blue for the x-axis, y-axis, and z-axis, respectively</li>
                          <li><code class="text-red-500 text-[0.85rem]">`supports`</code>: Toggles supports indexes on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`loads`</code>: Toggles loads indexes on and off</li>
                          <li><code class="text-red-500 text-[0.85rem]">`deformedShape`</code>: Shows the deformed shape after the application of loads</li>
                          <li><code class="text-red-500 text-[0.85rem]">`elementResults`</code>: Switches between analysis results related to elements</li>
                          <li><code class="text-red-500 text-[0.85rem]">`nodeResults`</code>: Switches between analysis results related to nodes</li>
                        </ul>
                      </div>
                    </div>
                    <!-- End Settings -->
                  </div>
                </div>
                <!-- End Inputs -->
              </div>
              <!-- End App -->
            </div>

            <a href="https://github.com/madil4/awatif/tree/main/awatif-ui" class="text-primary-light hover:underline">source code</a>
          </div>
          <!-- End API Reference -->
        </div>
        <!-- End Grid -->
      </div>
    </div>
    <!-- End Icon Blocks -->
  </header>
  <!-- End Page Heading -->
</div>
<!-- End Content -->

<script src="/js/prism.js"></script>
