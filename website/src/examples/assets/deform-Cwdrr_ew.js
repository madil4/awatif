import{_ as Te,t as Ae,D as gt,C as Fr}from"./mesh-Cs8aYJBQ.js";var Bn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function xn(r,e){if(Fe(r,e))return r[e];throw typeof r[e]=="function"&&ya(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Sn(r,e,n){if(Fe(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Fe(r,e){return!Aa(r)&&!Array.isArray(r)?!1:ie(Fa,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ya(r,e){return r==null||typeof r[e]!="function"||ie(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ie(Ea,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Aa(r){return typeof r=="object"&&r&&r.constructor===Object}var Fa={length:!0,name:!0},Ea={toString:!0,valueOf:!0,toLocaleString:!0};class wa{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return xn(this.wrappedObject,e)}set(e,n){return Sn(this.wrappedObject,e,n),this}has(e){return Fe(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Ca(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){Fe(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Ca(r,e){return{next:()=>{var n=r.next();return n.done?n:{value:e(n.value),done:!1}}}}function pr(r){return typeof r=="number"}function mr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function _a(r){return typeof r=="bigint"}function rt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function et(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Mn(r){return r&&r.constructor.prototype.isUnit===!0||!1}function zr(r){return typeof r=="string"}var cr=Array.isArray;function lr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Ee(r){return Array.isArray(r)||lr(r)}function Nn(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function zn(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Tn(r){return r&&r.constructor.prototype.isRange===!0||!1}function $e(r){return r&&r.constructor.prototype.isIndex===!0||!1}function ba(r){return typeof r=="boolean"}function Ba(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function xa(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Sa(r){return typeof r=="function"}function Ma(r){return r instanceof Date}function Na(r){return r instanceof RegExp}function tt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!rt(r)&&!et(r))}function za(r){return r?r instanceof Map||r instanceof wa||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function Ta(r){return r===null}function $a(r){return r===void 0}function Oa(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function qa(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ra(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ua(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pa(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ia(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function La(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Va(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Za(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ja(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qa(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xa(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ya(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ka(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ga(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wa(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ha(r){return r&&r.constructor.prototype.isChain===!0||!1}function Tr(r){var e=typeof r;return e==="object"?r===null?"null":mr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function ir(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return ir(n)});if(r instanceof Date)return new Date(r.valueOf());if(mr(r))return r;if(tt(r))return ja(r,ir);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function ja(r,e){var n={};for(var a in r)ie(r,a)&&(n[a]=e(r[a]));return n}function $n(r,e){for(var n in e)ie(e,n)&&(r[n]=e[n]);return r}function Zr(r,e){var n,a,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(a=0,t=r.length;a<t;a++)if(!Zr(r[a],e[a]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!Zr(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function ie(r,e){return r&&Object.hasOwnProperty.call(r,e)}function ka(r,e){for(var n={},a=0;a<e.length;a++){var t=e[a],o=r[t];o!==void 0&&(n[t]=o)}return n}var ru=["Matrix","Array"],eu=["number","BigNumber","Fraction"],Br=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Bn)};Te(Br,Bn,{MATRIX_OPTIONS:ru,NUMBER_OPTIONS:eu});function Y(r,e,n,a){function t(o){var v=ka(o,e.map(au));return tu(r,e,o),n(v)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),a&&(t.meta=a),t}function tu(r,e,n){var a=e.filter(o=>!nu(o)).every(o=>n[o]!==void 0);if(!a){var t=e.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function nu(r){return r&&r[0]==="?"}function au(r){return r&&r[0]==="?"?r.slice(1):r}function hr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var uu=Math.sign||function(r){return r>0?1:r<0?-1:0};function Je(r,e,n){var a={2:"0b",8:"0o",16:"0x"},t=a[e],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!hr(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!hr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),o="i".concat(n)}var v="";return r<0&&(r=-r,v="-"),"".concat(v).concat(t).concat(r.toString(e)).concat(o)}function Ke(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:n,precision:a,wordSize:t}=On(e);switch(n){case"fixed":return ou(r,a);case"exponential":return qn(r,a);case"engineering":return iu(r,a);case"bin":return Je(r,2,t);case"oct":return Je(r,8,t);case"hex":return Je(r,16,t);case"auto":return su(r,a,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],v=arguments[4];return o!=="."?o+v:v});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function On(r){var e="auto",n,a;if(r!==void 0)if(pr(r))n=r;else if(mr(r))n=r.toNumber();else if(tt(r))r.precision!==void 0&&(n=yt(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(a=yt(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:a}}function Oe(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],a=e[2],t=parseFloat(e[4]||"0"),o=a.indexOf(".");t+=o!==-1?o-1:a.length-1;var v=a.replace(".","").replace(/^0*/,function(p){return t-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return v.length===0&&(v.push(0),t++),{sign:n,coefficients:v,exponent:t}}function iu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Oe(r),a=qe(n,e),t=a.exponent,o=a.coefficients,v=t%3===0?t:t<0?t-3-t%3:t-t%3;if(pr(e))for(;e>o.length||t-v+1>o.length;)o.push(0);else for(var p=Math.abs(t-v)-(o.length-1),f=0;f<p;f++)o.push(0);for(var c=Math.abs(t-v),u=1;c>0;)u++,c--;var i=o.slice(u).join(""),D=pr(e)&&i.length||i.match(/[1-9]/)?"."+i:"",l=o.slice(0,u).join("")+D+"e"+(t>=0?"+":"")+v.toString();return a.sign+l}function ou(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Oe(r),a=typeof e=="number"?qe(n,n.exponent+1+e):n,t=a.coefficients,o=a.exponent+1,v=o+(e||0);return t.length<v&&(t=t.concat(Hr(v-t.length))),o<0&&(t=Hr(-o+1).concat(t),o=1),o<t.length&&t.splice(o,0,o===0?"0.":"."),a.sign+t.join("")}function qn(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Oe(r),a=e?qe(n,e):n,t=a.coefficients,o=a.exponent;t.length<e&&(t=t.concat(Hr(e-t.length)));var v=t.shift();return a.sign+v+(t.length>0?"."+t.join(""):"")+"e"+(o>=0?"+":"")+o}function su(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var a=At(n==null?void 0:n.lowerExp,-3),t=At(n==null?void 0:n.upperExp,5),o=Oe(r),v=e?qe(o,e):o;if(v.exponent<a||v.exponent>=t)return qn(r,e);var p=v.coefficients,f=v.exponent;p.length<e&&(p=p.concat(Hr(e-p.length))),p=p.concat(Hr(f-p.length+1+(p.length<e?e-p.length:0))),p=Hr(-f).concat(p);var c=f>0?f:0;return c<p.length-1&&p.splice(c+1,0,"."),v.sign+p.join("")}function qe(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},a=n.coefficients;e<=0;)a.unshift(0),n.exponent++,e++;if(a.length>e){var t=a.splice(e,a.length-e);if(t[0]>=5){var o=e-1;for(a[o]++;a[o]===10;)a.pop(),o===0&&(a.unshift(0),n.exponent++,o++),o--,a[o]++}}return n}function Hr(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function fu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Pr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(a<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(n*Math.max(Math.abs(r),Math.abs(e)),a)}function yt(r,e){if(pr(r))return r;if(mr(r))return r.toNumber();e()}function At(r,e){return pr(r)?r:mr(r)?r.toNumber():e}var Rn=function(){return Rn=Ae.create,Ae},vu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],cu=Y("typed",vu,function(e){var{BigNumber:n,Complex:a,DenseMatrix:t,Fraction:o}=e,v=Rn();return v.clear(),v.addTypes([{name:"number",test:pr},{name:"Complex",test:rt},{name:"BigNumber",test:mr},{name:"bigint",test:_a},{name:"Fraction",test:et},{name:"Unit",test:Mn},{name:"identifier",test:p=>zr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:zr},{name:"Chain",test:Ha},{name:"Array",test:cr},{name:"Matrix",test:lr},{name:"DenseMatrix",test:Nn},{name:"SparseMatrix",test:zn},{name:"Range",test:Tn},{name:"Index",test:$e},{name:"boolean",test:ba},{name:"ResultSet",test:Ba},{name:"Help",test:xa},{name:"function",test:Sa},{name:"Date",test:Ma},{name:"RegExp",test:Na},{name:"null",test:Ta},{name:"undefined",test:$a},{name:"AccessorNode",test:Oa},{name:"ArrayNode",test:qa},{name:"AssignmentNode",test:Ra},{name:"BlockNode",test:Ua},{name:"ConditionalNode",test:Pa},{name:"ConstantNode",test:Ia},{name:"FunctionNode",test:Va},{name:"FunctionAssignmentNode",test:La},{name:"IndexNode",test:Za},{name:"Node",test:Ja},{name:"ObjectNode",test:Qa},{name:"OperatorNode",test:Xa},{name:"ParenthesisNode",test:Ya},{name:"RangeNode",test:Ka},{name:"RelationalNode",test:Ga},{name:"SymbolNode",test:Wa},{name:"Map",test:za},{name:"Object",test:tt}]),v.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(n||pe(f),fu(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new n(f)}},{from:"number",to:"Complex",convert:function(f){return a||he(f),new a(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return a||he(f),new a(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return n||pe(f),new n(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return o||de(f),new o(f.toString())}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return a||he(f),new a(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||de(f);var c=new o(f);if(c.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(f){var c=Number(f);if(isNaN(c))throw new Error('Cannot convert "'+f+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(f){n||pe(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){o||de(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){a||he(f);try{return new a(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return n||pe(f),new n(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||de(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return t||lu(),new t(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),v.onMismatch=(p,f,c)=>{var u=v.createError(p,f,c);if(["wrongType","mismatch"].includes(u.data.category)&&f.length===1&&Ee(f[0])&&c.some(D=>!D.params.includes(","))){var i=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw i.data=u.data,i}throw u},v.onMismatch=(p,f,c)=>{var u=v.createError(p,f,c);if(["wrongType","mismatch"].includes(u.data.category)&&f.length===1&&Ee(f[0])&&c.some(D=>!D.params.includes(","))){var i=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw i.data=u.data,i}throw u},v});function pe(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function he(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function lu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function de(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Du="BigNumber",pu=["?on","config"],hu=Y(Du,pu,r=>{var{on:e,config:n}=r,a=gt.clone({precision:n.precision,modulo:gt.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},e&&e("config",function(t,o){t.precision!==o.precision&&a.config({precision:t.precision})}),a},{isClass:!0}),du="Complex",mu=[],gu=Y(du,mu,()=>(Object.defineProperty(Fr,"name",{value:"Complex"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Complex",Fr.prototype.isComplex=!0,Fr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fr.prototype.format=function(r){var e="",n=this.im,a=this.re,t=Ke(this.re,r),o=Ke(this.im,r),v=pr(r)?r:r?r.precision:null;if(v!==null){var p=Math.pow(10,-v);Math.abs(a/n)<p&&(a=0),Math.abs(n/a)<p&&(n=0)}return n===0?e=t:a===0?n===1?e="i":n===-1?e="-i":e=o+"i":n<0?n===-1?e=t+" - i":e=t+" - "+o.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+o+"i",e},Fr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Fr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],a=arguments[1];if(pr(n)){if(Mn(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),pr(a))return new Fr({r:n,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fr.prototype.valueOf=Fr.prototype.toString,Fr.fromJSON=function(r){return new Fr(r)},Fr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Fr),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var yu=2e3,j={s:1,n:0,d:1};function Rr(r,e){if(isNaN(r=parseInt(r,10)))throw ye();return r*e}function gr(r,e){if(e===0)throw nt();var n=Object.create(_r.prototype);n.s=r<0?-1:1,r=r<0?-r:r;var a=Gr(r,e);return n.n=r/a,n.d=e/a,n}function Ft(r){for(var e={},n=r,a=2,t=4;t<=n;){for(;n%a===0;)n/=a,e[a]=(e[a]||0)+1;t+=1+2*a++}return n!==r?n>1&&(e[n]=(e[n]||0)+1):e[r]=(e[r]||0)+1,e}var Mr=function(r,e){var n=0,a=1,t=1,o=0,v=0,p=0,f=1,c=1,u=0,i=1,D=1,l=1,h=1e7,s;if(r!=null)if(e!==void 0){if(n=r,a=e,t=n*a,n%1!==0||a%1!==0)throw wu()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)n=r.n,a=r.d,"s"in r&&(n*=r.s);else if(0 in r)n=r[0],1 in r&&(a=r[1]);else throw ye();t=n*a;break}case"number":{if(r<0&&(t=r,r=-r),r%1===0)n=r;else if(r>0){for(r>=1&&(c=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=c);i<=h&&l<=h;)if(s=(u+D)/(i+l),r===s){i+l<=h?(n=u+D,a=i+l):l>i?(n=D,a=l):(n=u,a=i);break}else r>s?(u+=D,i+=l):(D+=u,l+=i),i>h?(n=D,a=l):(n=u,a=i);n*=c}else(isNaN(r)||isNaN(e))&&(a=n=NaN);break}case"string":{if(i=r.match(/\d+|./g),i===null)throw ye();if(i[u]==="-"?(t=-1,u++):i[u]==="+"&&u++,i.length===u+1?v=Rr(i[u++],t):i[u+1]==="."||i[u]==="."?(i[u]!=="."&&(o=Rr(i[u++],t)),u++,(u+1===i.length||i[u+1]==="("&&i[u+3]===")"||i[u+1]==="'"&&i[u+3]==="'")&&(v=Rr(i[u],t),f=Math.pow(10,i[u].length),u++),(i[u]==="("&&i[u+2]===")"||i[u]==="'"&&i[u+2]==="'")&&(p=Rr(i[u+1],t),c=Math.pow(10,i[u+1].length)-1,u+=3)):i[u+1]==="/"||i[u+1]===":"?(v=Rr(i[u],t),f=Rr(i[u+2],1),u+=3):i[u+3]==="/"&&i[u+1]===" "&&(o=Rr(i[u],t),v=Rr(i[u+2],t),f=Rr(i[u+4],1),u+=5),i.length<=u){a=f*c,t=n=p+a*o+c*v;break}}default:throw ye()}if(a===0)throw nt();j.s=t<0?-1:1,j.n=Math.abs(n),j.d=Math.abs(a)};function Au(r,e,n){for(var a=1;e>0;r=r*r%n,e>>=1)e&1&&(a=a*r%n);return a}function Fu(r,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var n=10%e,a=1;n!==1;a++)if(n=n*10%e,a>yu)return 0;return a}function Eu(r,e,n){for(var a=1,t=Au(10,n,e),o=0;o<300;o++){if(a===t)return o;a=a*10%e,t=t*10%e}return 0}function Gr(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function _r(r,e){if(Mr(r,e),this instanceof _r)r=Gr(j.d,j.n),this.s=j.s,this.n=j.n/r,this.d=j.d/r;else return gr(j.s*j.n,j.d)}var nt=function(){return new Error("Division by Zero")},ye=function(){return new Error("Invalid argument")},wu=function(){return new Error("Parameters must be integer")};_r.prototype={s:1,n:0,d:1,abs:function(){return gr(this.n,this.d)},neg:function(){return gr(-this.s*this.n,this.d)},add:function(r,e){return Mr(r,e),gr(this.s*this.n*j.d+j.s*this.d*j.n,this.d*j.d)},sub:function(r,e){return Mr(r,e),gr(this.s*this.n*j.d-j.s*this.d*j.n,this.d*j.d)},mul:function(r,e){return Mr(r,e),gr(this.s*j.s*this.n*j.n,this.d*j.d)},div:function(r,e){return Mr(r,e),gr(this.s*j.s*this.n*j.d,this.d*j.n)},clone:function(){return gr(this.s*this.n,this.d)},mod:function(r,e){if(isNaN(this.n)||isNaN(this.d))return new _r(NaN);if(r===void 0)return gr(this.s*this.n%this.d,1);if(Mr(r,e),j.n===0&&this.d===0)throw nt();return gr(this.s*(j.d*this.n)%(j.n*this.d),j.d*this.d)},gcd:function(r,e){return Mr(r,e),gr(Gr(j.n,this.n)*Gr(j.d,this.d),j.d*this.d)},lcm:function(r,e){return Mr(r,e),j.n===0&&this.n===0?gr(0,1):gr(j.n*this.n,Gr(j.n,this.n)*Gr(j.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new _r(NaN):gr(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new _r(NaN):gr(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new _r(NaN):gr(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,e){return Mr(r,e),gr(this.s*Math.round(this.n*j.d/(this.d*j.n))*j.n,j.d)},inverse:function(){return gr(this.s*this.d,this.n)},pow:function(r,e){if(Mr(r,e),j.d===1)return j.s<0?gr(Math.pow(this.s*this.d,j.n),Math.pow(this.n,j.n)):gr(Math.pow(this.s*this.n,j.n),Math.pow(this.d,j.n));if(this.s<0)return null;var n=Ft(this.n),a=Ft(this.d),t=1,o=1;for(var v in n)if(v!=="1"){if(v==="0"){t=0;break}if(n[v]*=j.n,n[v]%j.d===0)n[v]/=j.d;else return null;t*=Math.pow(v,n[v])}for(var v in a)if(v!=="1"){if(a[v]*=j.n,a[v]%j.d===0)a[v]/=j.d;else return null;o*=Math.pow(v,a[v])}return j.s<0?gr(o,t):gr(t,o)},equals:function(r,e){return Mr(r,e),this.s*this.n*j.d===j.s*j.n*this.d},compare:function(r,e){Mr(r,e);var n=this.s*this.n*j.d-j.s*j.n*this.d;return(0<n)-(n<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var e=this.abs(),n=e.toContinued(),a=1;a<n.length;a++){for(var t=gr(n[a-1],1),o=a-2;o>=0;o--)t=t.inverse().add(n[o]);if(Math.abs(t.sub(e).valueOf())<r)return t.mul(this.s)}return this},divisible:function(r,e){return Mr(r,e),!(!(j.n*this.d)||this.n*j.d%(j.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var e,n="",a=this.n,t=this.d;return this.s<0&&(n+="-"),t===1?n+=a:(r&&(e=Math.floor(a/t))>0&&(n+=e,n+=" ",a%=t),n+=a,n+="/",n+=t),n},toLatex:function(r){var e,n="",a=this.n,t=this.d;return this.s<0&&(n+="-"),t===1?n+=a:(r&&(e=Math.floor(a/t))>0&&(n+=e,a%=t),n+="\\frac{",n+=a,n+="}{",n+=t,n+="}"),n},toContinued:function(){var r,e=this.n,n=this.d,a=[];if(isNaN(e)||isNaN(n))return a;do a.push(Math.floor(e/n)),r=e%n,e=n,n=r;while(e!==1);return a},toString:function(r){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";r=r||15;var a=Fu(e,n),t=Eu(e,n,a),o=this.s<0?"-":"";if(o+=e/n|0,e%=n,e*=10,e&&(o+="."),a){for(var v=t;v--;)o+=e/n|0,e%=n,e*=10;o+="(";for(var v=a;v--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(var v=r;e&&v--;)o+=e/n|0,e%=n,e*=10;return o}};var Cu="Fraction",_u=[],bu=Y(Cu,_u,()=>(Object.defineProperty(_r,"name",{value:"Fraction"}),_r.prototype.constructor=_r,_r.prototype.type="Fraction",_r.prototype.isFraction=!0,_r.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},_r.fromJSON=function(r){return new _r(r)},_r),{isClass:!0}),Bu="Matrix",xu=[],Su=Y(Bu,xu,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,a){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,a){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Qe(r,e,n){var a=r.constructor,t=new a(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!hr(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),o="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function Mu(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:a,wordSize:t}=On(e);switch(n){case"fixed":return zu(r,a);case"exponential":return Et(r,a);case"engineering":return Nu(r,a);case"bin":return Qe(r,2,t);case"oct":return Qe(r,8,t);case"hex":return Qe(r,16,t);case"auto":{var o=wt(e==null?void 0:e.lowerExp,-3),v=wt(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var p,f=r.toSignificantDigits(a),c=f.e;return c>=o&&c<v?p=f.toFixed():p=Et(r,a),p.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],i=arguments[4];return u!=="."?u+i:i})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Nu(r,e){var n=r.e,a=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-a)),o=t.toPrecision(e);if(o.includes("e")){var v=r.constructor;o=new v(o).toFixed()}return o+"e"+(n>=0?"+":"")+a.toString()}function Et(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function zu(r,e){return r.toFixed(e)}function wt(r,e){return pr(r)?r:mr(r)?r.toNumber():e}function dr(r,e){var n=Tu(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Tu(r,e){if(typeof r=="number")return Ke(r,e);if(mr(r))return Mu(r,e);if($u(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Un(r,e);if(zr(r))return Ct(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(a=>Ct(a)+": "+dr(r[a],e));return"{"+n.join(", ")+"}"}return String(r)}function Ct(r){for(var e=String(r),n="",a=0;a<e.length;){var t=e.charAt(a);n+=t in _t?_t[t]:t,a++}return'"'+n+'"'}var _t={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Un(r,e){if(Array.isArray(r)){for(var n="[",a=r.length,t=0;t<a;t++)t!==0&&(n+=", "),n+=Un(r[t],e);return n+="]",n}else return dr(r,e)}function $u(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function ar(r,e,n){if(!(this instanceof ar))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ar.prototype=new RangeError;ar.prototype.constructor=RangeError;ar.prototype.name="DimensionError";ar.prototype.isDimensionError=!0;function Qr(r,e,n){if(!(this instanceof Qr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Qr.prototype=new RangeError;Qr.prototype.constructor=RangeError;Qr.prototype.name="IndexError";Qr.prototype.isIndexError=!0;function fr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Pn(r,e,n){var a,t=r.length;if(t!==e[n])throw new ar(t,e[n]);if(n<e.length-1){var o=n+1;for(a=0;a<t;a++){var v=r[a];if(!Array.isArray(v))throw new ar(e.length-1,e.length,"<");Pn(r[a],e,o)}}else for(a=0;a<t;a++)if(Array.isArray(r[a]))throw new ar(e.length+1,e.length,">")}function bt(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new ar(r.length,0)}else Pn(r,e,0)}function we(r,e){var n=r.isMatrix?r._size:fr(r),a=e._sourceSize;a.forEach((t,o)=>{if(t!==null&&t!==n[o])throw new ar(t,n[o])})}function Dr(r,e){if(r!==void 0){if(!pr(r)||!hr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Qr(r,e)}}function jr(r){for(var e=0;e<r._dimensions.length;++e){var n=r._dimensions[e];if(n._data&&cr(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(zr(n)&&n.length===0)return!0}return!1}function Ce(r,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!pr(t)||!hr(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+dr(e)+")")}),(pr(r)||mr(r))&&(r=[r]);var a=n!==void 0?n:0;return Ge(r,e,0,a),r}function Ge(r,e,n,a){var t,o,v=r.length,p=e[n],f=Math.min(v,p);if(r.length=p,n<e.length-1){var c=n+1;for(t=0;t<f;t++)o=r[t],Array.isArray(o)||(o=[o],r[t]=o),Ge(o,e,c,a);for(t=f;t<p;t++)o=[],r[t]=o,Ge(o,e,c,a)}else{for(t=0;t<f;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=f;t<p;t++)r[t]=a}}function at(r,e){var n=We(r),a=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ar(0,a,"!=");e=ut(e,a);var t=In(e);if(a!==t)throw new ar(t,a,"!=");try{return Ou(n,e)}catch(o){throw o instanceof ar?new ar(t,a,"!="):o}}function ut(r,e){var n=In(r),a=r.slice(),t=-1,o=r.indexOf(t),v=r.indexOf(t,o+1)>=0;if(v)throw new Error("More than one wildcard in sizes");var p=o>=0,f=e%n===0;if(p)if(f)a[o]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return a}function In(r){return r.reduce((e,n)=>e*n,1)}function Ou(r,e){for(var n=r,a,t=e.length-1;t>0;t--){var o=e[t];a=[];for(var v=n.length/o,p=0;p<v;p++)a.push(n.slice(p*o,(p+1)*o));n=a}return n}function Bt(r,e){for(var n=fr(r);Array.isArray(r)&&r.length===1;)r=r[0],n.shift();for(var a=n.length;n[a-1]===1;)a--;return a<n.length&&(r=Ln(r,a,0),n.length=a),r}function Ln(r,e,n){var a,t;if(n<e){var o=n+1;for(a=0,t=r.length;a<t;a++)r[a]=Ln(r[a],e,o)}else for(;Array.isArray(r);)r=r[0];return r}function Vn(r,e,n,a){var t=a||fr(r);if(n)for(var o=0;o<n;o++)r=[r],t.unshift(1);for(r=Zn(r,e,0);t.length<e;)t.push(1);return r}function Zn(r,e,n){var a,t;if(Array.isArray(r)){var o=n+1;for(a=0,t=r.length;a<t;a++)r[a]=Zn(r[a],e,o)}else for(var v=n;v<e;v++)r=[r];return r}function We(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(a){Array.isArray(a)?a.forEach(n):e.push(a)}),e}function Re(r,e){for(var n,a=0,t=0;t<r.length;t++){var o=r[t],v=Array.isArray(o);if(t===0&&v&&(a=o.length),v&&o.length!==a)return;var p=v?Re(o,e):e(o);if(n===void 0)n=p;else if(n!==p)return"mixed"}return n}function Jn(r,e,n,a){if(a<n){if(r.length!==e.length)throw new ar(r.length,e.length);for(var t=[],o=0;o<r.length;o++)t[o]=Jn(r[o],e[o],n,a+1);return t}else return r.concat(e)}function Qn(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(n,a){return Jn(n,a,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Xn(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];for(var a=e.map(D=>D.length),t=Math.max(...a),o=new Array(t).fill(null),v=0;v<e.length;v++)for(var p=e[v],f=a[v],c=0;c<f;c++){var u=t-f+c;p[c]>o[u]&&(o[u]=p[c])}for(var i=0;i<e.length;i++)Yn(e[i],o);return o}function Yn(r,e){for(var n=e.length,a=r.length,t=0;t<a;t++){var o=n-a+t;if(r[t]<e[o]&&r[t]>1||r[t]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(a," with size ").concat(r[t]," to size ").concat(e[o]))}}function He(r,e){var n=fr(r);if(Zr(n,e))return r;Yn(n,e);var a=Xn(n,e),t=a.length,o=[...Array(t-n.length).fill(1),...n],v=Ru(r);n.length<t&&(v=at(v,o),n=fr(v));for(var p=0;p<t;p++)n[p]<a[p]&&(v=qu(v,a[p],p),n=fr(v));return v}function qu(r,e,n){return Qn(...Array(e).fill(r),n)}function Kn(r,e){if(!Array.isArray(r))throw new Error("Array expected");var n=fr(r);if(e.length!==n.length)throw new ar(e.length,n.length);for(var a=0;a<e.length;a++)Dr(e[a],n[a]);return e.reduce((t,o)=>t[o],r)}function Ru(r){return Te([],r)}function _e(r,e,n){if(Ae.isTypedFunction(r)){var a=(e.isMatrix?e.size():fr(e)).map(()=>0),t=e.isMatrix?e.get(a):Kn(e,a),o=Object.keys(r.signatures).length===1,v=Uu(r,t,a,e),p=o?Object.values(r.signatures)[0]:r;return v>=1&&v<=3?function(){for(var f=arguments.length,c=new Array(f),u=0;u<f;u++)c[u]=arguments[u];return xt(p,c.slice(0,v),n,r.name)}:function(){for(var f=arguments.length,c=new Array(f),u=0;u<f;u++)c[u]=arguments[u];return xt(p,c,n,r.name)}}return r}function Uu(r,e,n,a){for(var t=[e,n,a],o=3;o>0;o--){var v=t.slice(0,o);if(Ae.resolve(r,v)!==null)return o}}function xt(r,e,n,a){try{return r(...e)}catch(t){Pu(t,e,n,a)}}function Pu(r,e,n,a){var t;if(r instanceof TypeError&&((t=r.data)===null||t===void 0?void 0:t.category)==="wrongType"){var o=[];throw o.push("value: ".concat(Tr(e[0]))),e.length>=2&&o.push("index: ".concat(Tr(e[1]))),e.length>=3&&o.push("array: ".concat(Tr(e[2]))),new TypeError("Function ".concat(n," cannot apply callback arguments ")+"".concat(a,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(n," cannot apply callback arguments ")+"to function ".concat(a,": ").concat(r.message))}var Iu="DenseMatrix",Lu=["Matrix"],Vu=Y(Iu,Lu,r=>{var{Matrix:e}=r;function n(u,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(i&&!zr(i))throw new Error("Invalid datatype: "+i);if(lr(u))u.type==="DenseMatrix"?(this._data=ir(u._data),this._size=ir(u._size),this._datatype=i||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=i||u._datatype);else if(u&&cr(u.data)&&cr(u.size))this._data=u.data,this._size=u.size,bt(this._data,this._size),this._datatype=i||u.datatype;else if(cr(u))this._data=c(u),this._size=fr(this._data),bt(this._data,this._size),this._datatype=i;else{if(u)throw new TypeError("Unsupported type of data ("+Tr(u)+")");this._data=[],this._size=[0],this._datatype=i}}n.prototype=new e,n.prototype.createDenseMatrix=function(u,i){return new n(u,i)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Re(this._data,Tr)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(u,i){return new n(u,i)},n.prototype.subset=function(u,i,D){switch(arguments.length){case 1:return a(this,u);case 2:case 3:return o(this,u,i,D);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(u){return Kn(this._data,u)},n.prototype.set=function(u,i,D){if(!cr(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ar(u.length,this._size.length,"<");var l,h,s,m=u.map(function(w){return w+1});f(this,m,D);var g=this._data;for(l=0,h=u.length-1;l<h;l++)s=u[l],Dr(s,g.length),g=g[s];return s=u[u.length-1],Dr(s,g.length),g[s]=i,this};function a(u,i){if(!$e(i))throw new TypeError("Invalid index");var D=i.isScalar();if(D)return u.get(i.min());var l=i.size();if(l.length!==u._size.length)throw new ar(l.length,u._size.length);for(var h=i.min(),s=i.max(),m=0,g=u._size.length;m<g;m++)Dr(h[m],u._size[m]),Dr(s[m],u._size[m]);return new n(t(u._data,i,l.length,0),u._datatype)}function t(u,i,D,l){var h=l===D-1,s=i.dimension(l);return h?s.map(function(m){return Dr(m,u.length),u[m]}).valueOf():s.map(function(m){Dr(m,u.length);var g=u[m];return t(g,i,D,l+1)}).valueOf()}function o(u,i,D,l){if(!i||i.isIndex!==!0)throw new TypeError("Invalid index");var h=i.size(),s=i.isScalar(),m;if(lr(D)?(m=D.size(),D=D.valueOf()):m=fr(D),s){if(m.length!==0)throw new TypeError("Scalar expected");u.set(i.min(),D,l)}else{if(!Zr(m,h))try{m.length===0?D=He([D],h):D=He(D,h),m=fr(D)}catch{}if(h.length<u._size.length)throw new ar(h.length,u._size.length,"<");if(m.length<h.length){for(var g=0,w=0;h[g]===1&&m[g]===1;)g++;for(;h[g]===1;)w++,g++;D=Vn(D,h.length,w,m)}if(!Zr(h,m))throw new ar(h,m,">");var A=i.max().map(function(d){return d+1});f(u,A,l);var b=h.length,E=0;v(u._data,i,D,b,E)}return u}function v(u,i,D,l,h){var s=h===l-1,m=i.dimension(h);s?m.forEach(function(g,w){Dr(g),u[g]=D[w[0]]}):m.forEach(function(g,w){Dr(g),v(u[g],i,D[w[0]],l,h+1)})}n.prototype.resize=function(u,i,D){if(!Ee(u))throw new TypeError("Array or Matrix expected");var l=u.valueOf().map(s=>Array.isArray(s)&&s.length===1?s[0]:s),h=D?this.clone():this;return p(h,l,i)};function p(u,i,D){if(i.length===0){for(var l=u._data;cr(l);)l=l[0];return l}return u._size=i.slice(0),u._data=Ce(u._data,u._size,D),u}n.prototype.reshape=function(u,i){var D=i?this.clone():this;D._data=at(D._data,u);var l=D._size.reduce((h,s)=>h*s);return D._size=ut(u,l),D};function f(u,i,D){for(var l=u._size.slice(0),h=!1;l.length<i.length;)l.push(0),h=!0;for(var s=0,m=i.length;s<m;s++)i[s]>l[s]&&(l[s]=i[s],h=!0);h&&p(u,l,D)}n.prototype.clone=function(){var u=new n({data:ir(this._data),size:ir(this._size),datatype:this._datatype});return u},n.prototype.size=function(){return this._size.slice(0)},n.prototype._forEach=function(u){var i=this,D=i.size();if(D.length===1){for(var l=0;l<D[0];l++)u(i._data,l,[l]);return}var h=Array(D.length).fill(0),s=Array(D.length-1),m=s.length-1;s[0]=i._data[0];for(var g=0;g<m;g++)s[g+1]=s[g][0];for(h[m]=-1;;){var w=void 0;for(w=m;w>=0;w--){if(h[w]++,h[w]===D[w]){h[w]=0;continue}s[w]=w===0?i._data[h[w]]:s[w-1][h[w]];for(var A=w;A<m;A++)s[A+1]=s[A][0];for(var b=0;b<D[s.length];b++)h[s.length]=b,u(s[m],b,h.slice(0));break}if(w===-1)break}},n.prototype.map=function(u){var i=this,D=new n(i),l=_e(u,i._data,"map");return D._forEach(function(h,s,m){h[s]=l(h[s],m,i)}),D},n.prototype.forEach=function(u){var i=this,D=_e(u,i._data,"map");i._forEach(function(l,h,s){D(l[h],s,i)})},n.prototype[Symbol.iterator]=function*(){var u=function*(D,l){if(cr(D))for(var h=0;h<D.length;h++)yield*u(D[h],l.concat(h));else yield{value:D,index:l}};yield*u(this._data,[])},n.prototype.rows=function(){var u=[],i=this.size();if(i.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var l of D)u.push(new n([l],this._datatype));return u},n.prototype.columns=function(){var u=this,i=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var l=this._data,h=function(g){var w=l.map(A=>[A[g]]);i.push(new n(w,u._datatype))},s=0;s<D[1];s++)h(s);return i},n.prototype.toArray=function(){return ir(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(u){return dr(this._data,u)},n.prototype.toString=function(){return dr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(u){if(u){if(mr(u)&&(u=u.toNumber()),!pr(u)||!hr(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var i=u>0?u:0,D=u<0?-u:0,l=this._size[0],h=this._size[1],s=Math.min(l-D,h-i),m=[],g=0;g<s;g++)m[g]=this._data[g+D][g+i];return new n({data:m,size:[s],datatype:this._datatype})},n.diagonal=function(u,i,D,l){if(!cr(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(_){if(mr(_)&&(_=_.toNumber()),!pr(_)||!hr(_)||_<1)throw new Error("Size values must be positive integers");return _}),D){if(mr(D)&&(D=D.toNumber()),!pr(D)||!hr(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var h=D>0?D:0,s=D<0?-D:0,m=u[0],g=u[1],w=Math.min(m-s,g-h),A;if(cr(i)){if(i.length!==w)throw new Error("Invalid value array length");A=function(C){return i[C]}}else if(lr(i)){var b=i.size();if(b.length!==1||b[0]!==w)throw new Error("Invalid matrix length");A=function(C){return i.get([C])}}else A=function(){return i};l||(l=mr(A(0))?A(0).mul(0):0);var E=[];if(u.length>0){E=Ce(E,u,l);for(var d=0;d<w;d++)E[d+s][d+h]=A(d)}return new n({data:E,size:[m,g]})},n.fromJSON=function(u){return new n(u)},n.prototype.swapRows=function(u,i){if(!pr(u)||!hr(u)||!pr(i)||!hr(i))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Dr(u,this._size[0]),Dr(i,this._size[0]),n._swapRows(u,i,this._data),this},n._swapRows=function(u,i,D){var l=D[u];D[u]=D[i],D[i]=l};function c(u){return lr(u)?c(u.valueOf()):cr(u)?u.map(c):u}return n},{isClass:!0});function Sr(r,e,n){return r&&typeof r.map=="function"?r.map(function(a){return Sr(a,e)}):e(r)}var St="isInteger",Zu=["typed"],Ju=Y(St,Zu,r=>{var{typed:e}=r;return e(St,{number:hr,BigNumber:function(a){return a.isInt()},bigint:function(a){return!0},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),it="number",Ue="number, number";function Gn(r){return Math.abs(r)}Gn.signature=it;function Wn(r,e){return r+e}Wn.signature=Ue;function Hn(r,e){return r-e}Hn.signature=Ue;function jn(r,e){return r*e}jn.signature=Ue;function kn(r){return-r}kn.signature=it;function je(r){return uu(r)}je.signature=it;function ra(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}ra.signature=Ue;var Qu="number";function ea(r){return r>0}ea.signature=Qu;function kr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(a<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(n),a))}var Mt="isPositive",Xu=["typed","config"],Yu=Y(Mt,Xu,r=>{var{typed:e,config:n}=r;return e(Mt,{number:a=>Pr(a,0,n.relTol,n.absTol)?!1:ea(a),BigNumber:a=>kr(a,new a.constructor(0),n.relTol,n.absTol)?!1:!a.isNeg()&&!a.isZero()&&!a.isNaN(),bigint:a=>a>0n,Fraction:a=>a.s>0&&a.n>0,Unit:e.referToSelf(a=>t=>e.find(a,t.valueType())(t.value)),"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))})}),Nt="isZero",Ku=["typed","equalScalar"],Gu=Y(Nt,Ku,r=>{var{typed:e,equalScalar:n}=r;return e(Nt,{"number | BigNumber | Complex | Fraction":a=>n(a,0),bigint:a=>a===0n,Unit:e.referToSelf(a=>t=>e.find(a,t.valueType())(t.value)),"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))})});function Wu(r,e,n,a){return Pr(r.re,e.re,n,a)&&Pr(r.im,e.im,n,a)}var oe=Y("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(!a.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[a.valueType(),t.valueType()])(a.value,t.value)})}}),be="equalScalar",Hu=["typed","config"],ju=Y(be,Hu,r=>{var{typed:e,config:n}=r,a=oe({typed:e});return e(be,{"boolean, boolean":function(o,v){return o===v},"number, number":function(o,v){return Pr(o,v,n.relTol,n.absTol)},"BigNumber, BigNumber":function(o,v){return o.eq(v)||kr(o,v,n.relTol,n.absTol)},"bigint, bigint":function(o,v){return o===v},"Fraction, Fraction":function(o,v){return o.equals(v)},"Complex, Complex":function(o,v){return Wu(o,v,n.relTol,n.absTol)}},a)});Y(be,["typed","config"],r=>{var{typed:e,config:n}=r;return e(be,{"number, number":function(t,o){return Pr(t,o,n.relTol,n.absTol)}})});var ku="SparseMatrix",ri=["typed","equalScalar","Matrix"],ei=Y(ku,ri,r=>{var{typed:e,equalScalar:n,Matrix:a}=r;function t(s,m){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!zr(m))throw new Error("Invalid datatype: "+m);if(lr(s))o(this,s,m);else if(s&&cr(s.index)&&cr(s.ptr)&&cr(s.size))this._values=s.values,this._index=s.index,this._ptr=s.ptr,this._size=s.size,this._datatype=m||s.datatype;else if(cr(s))v(this,s,m);else{if(s)throw new TypeError("Unsupported type of data ("+Tr(s)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(s,m,g){m.type==="SparseMatrix"?(s._values=m._values?ir(m._values):void 0,s._index=ir(m._index),s._ptr=ir(m._ptr),s._size=ir(m._size),s._datatype=g||m._datatype):v(s,m.valueOf(),g||m._datatype)}function v(s,m,g){s._values=[],s._index=[],s._ptr=[],s._datatype=g;var w=m.length,A=0,b=n,E=0;if(zr(g)&&(b=e.find(n,[g,g])||n,E=e.convert(0,g)),w>0){var d=0;do{s._ptr.push(s._index.length);for(var _=0;_<w;_++){var C=m[_];if(cr(C)){if(d===0&&A<C.length&&(A=C.length),d<C.length){var y=C[d];b(y,E)||(s._values.push(y),s._index.push(_))}}else d===0&&A<1&&(A=1),b(C,E)||(s._values.push(C),s._index.push(_))}d++}while(d<A)}s._ptr.push(s._index.length),s._size=[w,A]}t.prototype=new a,t.prototype.createSparseMatrix=function(s,m){return new t(s,m)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Re(this._values,Tr)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(s,m){return new t(s,m)},t.prototype.density=function(){var s=this._size[0],m=this._size[1];return s!==0&&m!==0?this._index.length/(s*m):0},t.prototype.subset=function(s,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,s);case 2:case 3:return f(this,s,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function p(s,m){if(!$e(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return s.get(m.min());var w=m.size();if(w.length!==s._size.length)throw new ar(w.length,s._size.length);var A,b,E,d,_=m.min(),C=m.max();for(A=0,b=s._size.length;A<b;A++)Dr(_[A],s._size[A]),Dr(C[A],s._size[A]);var y=s._values,B=s._index,x=s._ptr,F=m.dimension(0),S=m.dimension(1),z=[],T=[];F.forEach(function(M,O){T[M]=O[0],z[M]=!0});var N=y?[]:void 0,U=[],$=[];return S.forEach(function(M){for($.push(U.length),E=x[M],d=x[M+1];E<d;E++)A=B[E],z[A]===!0&&(U.push(T[A]),N&&N.push(y[E]))}),$.push(U.length),new t({values:N,index:U,ptr:$,size:w,datatype:s._datatype})}function f(s,m,g,w){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var A=m.size(),b=m.isScalar(),E;if(lr(g)?(E=g.size(),g=g.toArray()):E=fr(g),b){if(E.length!==0)throw new TypeError("Scalar expected");s.set(m.min(),g,w)}else{if(A.length!==1&&A.length!==2)throw new ar(A.length,s._size.length,"<");if(E.length<A.length){for(var d=0,_=0;A[d]===1&&E[d]===1;)d++;for(;A[d]===1;)_++,d++;g=Vn(g,A.length,_,E)}if(!Zr(A,E))throw new ar(A,E,">");if(A.length===1){var C=m.dimension(0);C.forEach(function(x,F){Dr(x),s.set([x,0],g[F[0]],w)})}else{var y=m.dimension(0),B=m.dimension(1);y.forEach(function(x,F){Dr(x),B.forEach(function(S,z){Dr(S),s.set([x,S],g[F[0]][z[0]],w)})})}}return s}t.prototype.get=function(s){if(!cr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ar(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=s[0],g=s[1];Dr(m,this._size[0]),Dr(g,this._size[1]);var w=c(m,this._ptr[g],this._ptr[g+1],this._index);return w<this._ptr[g+1]&&this._index[w]===m?this._values[w]:0},t.prototype.set=function(s,m,g){if(!cr(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ar(s.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=s[0],A=s[1],b=this._size[0],E=this._size[1],d=n,_=0;zr(this._datatype)&&(d=e.find(n,[this._datatype,this._datatype])||n,_=e.convert(0,this._datatype)),(w>b-1||A>E-1)&&(D(this,Math.max(w+1,b),Math.max(A+1,E),g),b=this._size[0],E=this._size[1]),Dr(w,b),Dr(A,E);var C=c(w,this._ptr[A],this._ptr[A+1],this._index);return C<this._ptr[A+1]&&this._index[C]===w?d(m,_)?u(C,A,this._values,this._index,this._ptr):this._values[C]=m:d(m,_)||i(C,w,A,m,this._values,this._index,this._ptr),this};function c(s,m,g,w){if(g-m===0)return g;for(var A=m;A<g;A++)if(w[A]===s)return A;return m}function u(s,m,g,w,A){g.splice(s,1),w.splice(s,1);for(var b=m+1;b<A.length;b++)A[b]--}function i(s,m,g,w,A,b,E){A.splice(s,0,w),b.splice(s,0,m);for(var d=g+1;d<E.length;d++)E[d]++}t.prototype.resize=function(s,m,g){if(!Ee(s))throw new TypeError("Array or Matrix expected");var w=s.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(b){if(!pr(b)||!hr(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+dr(w)+")")});var A=g?this.clone():this;return D(A,w[0],w[1],m)};function D(s,m,g,w){var A=w||0,b=n,E=0;zr(s._datatype)&&(b=e.find(n,[s._datatype,s._datatype])||n,E=e.convert(0,s._datatype),A=e.convert(A,s._datatype));var d=!b(A,E),_=s._size[0],C=s._size[1],y,B,x;if(g>C){for(B=C;B<g;B++)if(s._ptr[B]=s._values.length,d)for(y=0;y<_;y++)s._values.push(A),s._index.push(y);s._ptr[g]=s._values.length}else g<C&&(s._ptr.splice(g+1,C-g),s._values.splice(s._ptr[g],s._values.length),s._index.splice(s._ptr[g],s._index.length));if(C=g,m>_){if(d){var F=0;for(B=0;B<C;B++){s._ptr[B]=s._ptr[B]+F,x=s._ptr[B+1]+F;var S=0;for(y=_;y<m;y++,S++)s._values.splice(x+S,0,A),s._index.splice(x+S,0,y),F++}s._ptr[C]=s._values.length}}else if(m<_){var z=0;for(B=0;B<C;B++){s._ptr[B]=s._ptr[B]-z;var T=s._ptr[B],N=s._ptr[B+1]-z;for(x=T;x<N;x++)y=s._index[x],y>m-1&&(s._values.splice(x,1),s._index.splice(x,1),z++)}s._ptr[B]=s._values.length}return s._size[0]=m,s._size[1]=g,s}t.prototype.reshape=function(s,m){if(!cr(s))throw new TypeError("Array expected");if(s.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");s.forEach(function(M){if(!pr(M)||!hr(M)||M<=-2||M===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+dr(s)+")")});var g=this._size[0]*this._size[1];s=ut(s,g);var w=s[0]*s[1];if(g!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var A=m?this.clone():this;if(this._size[0]===s[0]&&this._size[1]===s[1])return A;for(var b=[],E=0;E<A._ptr.length;E++)for(var d=0;d<A._ptr[E+1]-A._ptr[E];d++)b.push(E);for(var _=A._values.slice(),C=A._index.slice(),y=0;y<A._index.length;y++){var B=C[y],x=b[y],F=B*A._size[1]+x;b[y]=F%s[1],C[y]=Math.floor(F/s[1])}A._values.length=0,A._index.length=0,A._ptr.length=s[1]+1,A._size=s.slice();for(var S=0;S<A._ptr.length;S++)A._ptr[S]=0;for(var z=0;z<_.length;z++){var T=C[z],N=b[z],U=_[z],$=c(T,A._ptr[N],A._ptr[N+1],A._index);i($,T,N,U,A._values,A._index,A._ptr)}return A},t.prototype.clone=function(){var s=new t({values:this._values?ir(this._values):void 0,index:ir(this._index),ptr:ir(this._ptr),size:ir(this._size),datatype:this._datatype});return s},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(s,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,w=this._size[0],A=this._size[1],b=_e(s,g,"map"),E=function(_,C,y){return b(_,[C,y],g)};return l(this,0,w-1,0,A-1,E,m)};function l(s,m,g,w,A,b,E){var d=[],_=[],C=[],y=n,B=0;zr(s._datatype)&&(y=e.find(n,[s._datatype,s._datatype])||n,B=e.convert(0,s._datatype));for(var x=function(R,P,K){var Z=b(R,P,K);y(Z,B)||(d.push(Z),_.push(P))},F=w;F<=A;F++){C.push(d.length);var S=s._ptr[F],z=s._ptr[F+1];if(E)for(var T=S;T<z;T++){var N=s._index[T];N>=m&&N<=g&&x(s._values[T],N-m,F-w)}else{for(var U={},$=S;$<z;$++){var M=s._index[$];U[M]=s._values[$]}for(var O=m;O<=g;O++){var I=O in U?U[O]:0;x(I,O-m,F-w)}}}return C.push(d.length),new t({values:d,index:_,ptr:C,size:[g-m+1,A-w+1]})}t.prototype.forEach=function(s,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,w=this._size[0],A=this._size[1],b=_e(s,g,"forEach"),E=0;E<A;E++){var d=this._ptr[E],_=this._ptr[E+1];if(m)for(var C=d;C<_;C++){var y=this._index[C];b(this._values[C],[y,E],g)}else{for(var B={},x=d;x<_;x++){var F=this._index[x];B[F]=this._values[x]}for(var S=0;S<w;S++){var z=S in B?B[S]:0;b(z,[S,E],g)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var s=this._size[1],m=0;m<s;m++)for(var g=this._ptr[m],w=this._ptr[m+1],A=g;A<w;A++){var b=this._index[A];yield{value:this._values[A],index:[b,m]}}},t.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(s,m,g,w,A){var b=w[0],E=w[1],d=[],_,C;for(_=0;_<b;_++)for(d[_]=[],C=0;C<E;C++)d[_][C]=0;for(C=0;C<E;C++)for(var y=g[C],B=g[C+1],x=y;x<B;x++)_=m[x],d[_][C]=s?A?ir(s[x]):s[x]:1;return d}return t.prototype.format=function(s){for(var m=this._size[0],g=this._size[1],w=this.density(),A="Sparse Matrix ["+dr(m,s)+" x "+dr(g,s)+"] density: "+dr(w,s)+`
`,b=0;b<g;b++)for(var E=this._ptr[b],d=this._ptr[b+1],_=E;_<d;_++){var C=this._index[_];A+=`
    (`+dr(C,s)+", "+dr(b,s)+") ==> "+(this._values?dr(this._values[_],s):"X")}return A},t.prototype.toString=function(){return dr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(s){if(s){if(mr(s)&&(s=s.toNumber()),!pr(s)||!hr(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var m=s>0?s:0,g=s<0?-s:0,w=this._size[0],A=this._size[1],b=Math.min(w-g,A-m),E=[],d=[],_=[];_[0]=0;for(var C=m;C<A&&E.length<b;C++)for(var y=this._ptr[C],B=this._ptr[C+1],x=y;x<B;x++){var F=this._index[x];if(F===C-m+g){E.push(this._values[x]),d[E.length-1]=F-g;break}}return _.push(E.length),new t({values:E,index:d,ptr:_,size:[b,1]})},t.fromJSON=function(s){return new t(s)},t.diagonal=function(s,m,g,w,A){if(!cr(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(M){if(mr(M)&&(M=M.toNumber()),!pr(M)||!hr(M)||M<1)throw new Error("Size values must be positive integers");return M}),g){if(mr(g)&&(g=g.toNumber()),!pr(g)||!hr(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var b=n,E=0;zr(A)&&(b=e.find(n,[A,A])||n,E=e.convert(0,A));var d=g>0?g:0,_=g<0?-g:0,C=s[0],y=s[1],B=Math.min(C-_,y-d),x;if(cr(m)){if(m.length!==B)throw new Error("Invalid value array length");x=function(O){return m[O]}}else if(lr(m)){var F=m.size();if(F.length!==1||F[0]!==B)throw new Error("Invalid matrix length");x=function(O){return m.get([O])}}else x=function(){return m};for(var S=[],z=[],T=[],N=0;N<y;N++){T.push(S.length);var U=N-d;if(U>=0&&U<B){var $=x(U);b($,E)||(z.push(U+_),S.push($))}}return T.push(S.length),new t({values:S,index:z,ptr:T,size:[C,y]})},t.prototype.swapRows=function(s,m){if(!pr(s)||!hr(s)||!pr(m)||!hr(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Dr(s,this._size[0]),Dr(m,this._size[0]),t._swapRows(s,m,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(s,m,g,w,A){for(var b=w[s],E=w[s+1],d=b;d<E;d++)A(g[d],m[d])},t._swapRows=function(s,m,g,w,A,b){for(var E=0;E<g;E++){var d=b[E],_=b[E+1],C=c(s,d,_,A),y=c(m,d,_,A);if(C<_&&y<_&&A[C]===s&&A[y]===m){if(w){var B=w[C];w[C]=w[y],w[y]=B}continue}if(C<_&&A[C]===s&&(y>=_||A[y]!==m)){var x=w?w[C]:void 0;A.splice(y,0,m),w&&w.splice(y,0,x),A.splice(y<=C?C+1:C,1),w&&w.splice(y<=C?C+1:C,1);continue}if(y<_&&A[y]===m&&(C>=_||A[C]!==s)){var F=w?w[y]:void 0;A.splice(C,0,s),w&&w.splice(C,0,F),A.splice(C<=y?y+1:y,1),w&&w.splice(C<=y?y+1:y,1)}}},t},{isClass:!0}),ti="number",ni=["typed"];function ai(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],a=e[2],t=e[3];return{input:r,radix:n,integerPart:a,fractionalPart:t}}else return null}function ui(r){for(var e=parseInt(r.integerPart,r.radix),n=0,a=0;a<r.fractionalPart.length;a++){var t=parseInt(r.fractionalPart[a],r.radix);n+=t/Math.pow(r.radix,a+1)}var o=e+n;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is not a valid number');return o}var ii=Y(ti,ni,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var o=ai(t);if(o)return ui(o);var v=0,p=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(v=Number(p[2]),t=p[1]);var f=Number(t);if(isNaN(f))throw new SyntaxError('String "'+t+'" is not a valid number');if(p){if(f>2**v-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));f>=2**(v-1)&&(f=f-2**v)}return f},BigNumber:function(t){return t.toNumber()},bigint:function(t){return Number(t)},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),null:function(t){return 0},"Unit, string | Unit":function(t,o){return t.toNumber(o)},"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))});return n.fromJSON=function(a){return parseFloat(a.value)},n}),oi="bignumber",si=["typed","BigNumber"],fi=Y(oi,si,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var o=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var v=o[2],p=n(o[1]),f=new n(2).pow(Number(v));if(p.gt(f.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var c=new n(2).pow(Number(v)-1);return p.gte(c)?p.sub(f):p}return new n(t)},BigNumber:function(t){return t},bigint:function(t){return new n(t.toString())},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))})}),vi="complex",ci=["typed","Complex"],li=Y(vi,ci,r=>{var{typed:e,Complex:n}=r;return e("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,o){return new n(t,o)},"BigNumber, BigNumber":function(t,o){return new n(t.toNumber(),o.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))})}),Di="fraction",pi=["typed","Fraction"],hi=Y(Di,pi,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,o){return new n(t,o)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},bigint:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(a=>t=>Sr(t,a))})}),zt="matrix",di=["typed","Matrix","DenseMatrix","SparseMatrix"],mi=Y(zt,di,r=>{var{typed:e,Matrix:n,DenseMatrix:a,SparseMatrix:t}=r;return e(zt,{"":function(){return o([])},string:function(p){return o([],p)},"string, string":function(p,f){return o([],p,f)},Array:function(p){return o(p)},Matrix:function(p){return o(p,p.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(v,p,f){if(p==="dense"||p==="default"||p===void 0)return new a(v,f);if(p==="sparse")return new t(v,f);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),Tt="matrixFromColumns",gi=["typed","matrix","flatten","size"],yi=Y(Tt,gi,r=>{var{typed:e,matrix:n,flatten:a,size:t}=r;return e(Tt,{"...Array":function(f){return o(f)},"...Matrix":function(f){return n(o(f.map(c=>c.toArray())))}});function o(p){if(p.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var f=v(p[0]),c=[],u=0;u<f;u++)c[u]=[];for(var i of p){var D=v(i);if(D!==f)throw new TypeError("The vectors had different length: "+(f|0)+" ≠ "+(D|0));for(var l=a(i),h=0;h<f;h++)c[h].push(l[h])}return c}function v(p){var f=t(p);if(f.length===1)return f[0];if(f.length===2){if(f[0]===1)return f[1];if(f[1]===1)return f[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),$t="unaryMinus",Ai=["typed"],Fi=Y($t,Ai,r=>{var{typed:e}=r;return e($t,{number:kn,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:e.referToSelf(n=>a=>{var t=a.clone();return t.value=e.find(n,t.valueType())(a.value),t}),"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),Ot="abs",Ei=["typed"],wi=Y(Ot,Ei,r=>{var{typed:e}=r;return e(Ot,{number:Gn,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),qt="addScalar",Ci=["typed"],_i=Y(qt,Ci,r=>{var{typed:e}=r;return e(qt,{"number, number":Wn,"Complex, Complex":function(a,t){return a.add(t)},"BigNumber, BigNumber":function(a,t){return a.plus(t)},"bigint, bigint":function(a,t){return a+t},"Fraction, Fraction":function(a,t){return a.add(t)},"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var o=a.clone();return o.value=e.find(n,[o.valueType(),t.valueType()])(o.value,t.value),o.fixPrefix=!1,o})})}),Rt="subtractScalar",bi=["typed"],Bi=Y(Rt,bi,r=>{var{typed:e}=r;return e(Rt,{"number, number":Hn,"Complex, Complex":function(a,t){return a.sub(t)},"BigNumber, BigNumber":function(a,t){return a.minus(t)},"bigint, bigint":function(a,t){return a-t},"Fraction, Fraction":function(a,t){return a.sub(t)},"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var o=a.clone();return o.value=e.find(n,[o.valueType(),t.valueType()])(o.value,t.value),o.fixPrefix=!1,o})})}),xi="matAlgo11xS0s",Si=["typed","equalScalar"],ta=Y(xi,Si,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,v,p){var f=t._values,c=t._index,u=t._ptr,i=t._size,D=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=i[0],h=i[1],s,m=n,g=0,w=v;typeof D=="string"&&(s=D,m=e.find(n,[s,s]),g=e.convert(0,s),o=e.convert(o,s),w=e.find(v,[s,s]));for(var A=[],b=[],E=[],d=0;d<h;d++){E[d]=b.length;for(var _=u[d],C=u[d+1],y=_;y<C;y++){var B=c[y],x=p?w(o,f[y]):w(f[y],o);m(x,g)||(b.push(B),A.push(x))}}return E[h]=b.length,t.createSparseMatrix({values:A,index:b,ptr:E,size:[l,h],datatype:s})}}),Mi="matAlgo12xSfs",Ni=["typed","DenseMatrix"],re=Y(Mi,Ni,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,o,v,p){var f=t._values,c=t._index,u=t._ptr,i=t._size,D=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=i[0],h=i[1],s,m=v;typeof D=="string"&&(s=D,o=e.convert(o,s),m=e.find(v,[s,s]));for(var g=[],w=[],A=[],b=0;b<h;b++){for(var E=b+1,d=u[b],_=u[b+1],C=d;C<_;C++){var y=c[C];w[y]=f[C],A[y]=E}for(var B=0;B<l;B++)b===0&&(g[B]=[]),A[B]===E?g[B][b]=p?m(o,w[B]):m(w[B],o):g[B][b]=p?m(o,0):m(0,o)}return new n({data:g,size:[l,h],datatype:s})}}),zi="matAlgo14xDs",Ti=["typed"],ot=Y(zi,Ti,r=>{var{typed:e}=r;return function(t,o,v,p){var f=t._data,c=t._size,u=t._datatype,i,D=v;typeof u=="string"&&(i=u,o=e.convert(o,i),D=e.find(v,[i,i]));var l=c.length>0?n(D,0,c,c[0],f,o,p):[];return t.createDenseMatrix({data:l,size:ir(c),datatype:i})};function n(a,t,o,v,p,f,c){var u=[];if(t===o.length-1)for(var i=0;i<v;i++)u[i]=c?a(f,p[i]):a(p[i],f);else for(var D=0;D<v;D++)u[D]=n(a,t+1,o,o[t+1],p[D],f,c);return u}}),$i="matAlgo03xDSf",Oi=["typed"],ee=Y($i,Oi,r=>{var{typed:e}=r;return function(a,t,o,v){var p=a._data,f=a._size,c=a._datatype||a.getDataType(),u=t._values,i=t._index,D=t._ptr,l=t._size,h=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(f.length!==l.length)throw new ar(f.length,l.length);if(f[0]!==l[0]||f[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=f[0],m=f[1],g,w=0,A=o;typeof c=="string"&&c===h&&c!=="mixed"&&(g=c,w=e.convert(0,g),A=e.find(o,[g,g]));for(var b=[],E=0;E<s;E++)b[E]=[];for(var d=[],_=[],C=0;C<m;C++){for(var y=C+1,B=D[C],x=D[C+1],F=B;F<x;F++){var S=i[F];d[S]=v?A(u[F],p[S][C]):A(p[S][C],u[F]),_[S]=y}for(var z=0;z<s;z++)_[z]===y?b[z][C]=d[z]:b[z][C]=v?A(w,p[z][C]):A(p[z][C],w)}return a.createDenseMatrix({data:b,size:[s,m],datatype:c===a._datatype&&h===t._datatype?g:void 0})}}),qi="matAlgo05xSfSf",Ri=["typed","equalScalar"],Ui=Y(qi,Ri,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,v){var p=t._values,f=t._index,c=t._ptr,u=t._size,i=t._datatype||t._data===void 0?t._datatype:t.getDataType(),D=o._values,l=o._index,h=o._ptr,s=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==s.length)throw new ar(u.length,s.length);if(u[0]!==s[0]||u[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+s+")");var g=u[0],w=u[1],A,b=n,E=0,d=v;typeof i=="string"&&i===m&&i!=="mixed"&&(A=i,b=e.find(n,[A,A]),E=e.convert(0,A),d=e.find(v,[A,A]));var _=p&&D?[]:void 0,C=[],y=[],B=_?[]:void 0,x=_?[]:void 0,F=[],S=[],z,T,N,U;for(T=0;T<w;T++){y[T]=C.length;var $=T+1;for(N=c[T],U=c[T+1];N<U;N++)z=f[N],C.push(z),F[z]=$,B&&(B[z]=p[N]);for(N=h[T],U=h[T+1];N<U;N++)z=l[N],F[z]!==$&&C.push(z),S[z]=$,x&&(x[z]=D[N]);if(_)for(N=y[T];N<C.length;){z=C[N];var M=F[z],O=S[z];if(M===$||O===$){var I=M===$?B[z]:E,q=O===$?x[z]:E,R=d(I,q);b(R,E)?C.splice(N,1):(_.push(R),N++)}}}return y[w]=C.length,t.createSparseMatrix({values:_,index:C,ptr:y,size:[g,w],datatype:i===t._datatype&&m===o._datatype?A:void 0})}}),Pi="matAlgo13xDD",Ii=["typed"],Li=Y(Pi,Ii,r=>{var{typed:e}=r;return function(t,o,v){var p=t._data,f=t._size,c=t._datatype,u=o._data,i=o._size,D=o._datatype,l=[];if(f.length!==i.length)throw new ar(f.length,i.length);for(var h=0;h<f.length;h++){if(f[h]!==i[h])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+i+")");l[h]=f[h]}var s,m=v;typeof c=="string"&&c===D&&(s=c,m=e.find(v,[s,s]));var g=l.length>0?n(m,0,l,l[0],p,u):[];return t.createDenseMatrix({data:g,size:l,datatype:s})};function n(a,t,o,v,p,f){var c=[];if(t===o.length-1)for(var u=0;u<v;u++)c[u]=a(p[u],f[u]);else for(var i=0;i<v;i++)c[i]=n(a,t+1,o,o[t+1],p[i],f[i]);return c}});function Ar(r,e){if(Zr(r.size(),e.size()))return[r,e];var n=Xn(r.size(),e.size());return[r,e].map(a=>Vi(a,n))}function Vi(r,e){return Zr(r.size(),e)?r:r.create(He(r.valueOf(),e),r.datatype())}var Zi="matrixAlgorithmSuite",Ji=["typed","matrix"],Xr=Y(Zi,Ji,r=>{var{typed:e,matrix:n}=r,a=Li({typed:e}),t=ot({typed:e});return function(v){var p=v.elop,f=v.SD||v.DS,c;p?(c={"DenseMatrix, DenseMatrix":(l,h)=>a(...Ar(l,h),p),"Array, Array":(l,h)=>a(...Ar(n(l),n(h)),p).valueOf(),"Array, DenseMatrix":(l,h)=>a(...Ar(n(l),h),p),"DenseMatrix, Array":(l,h)=>a(...Ar(l,n(h)),p)},v.SS&&(c["SparseMatrix, SparseMatrix"]=(l,h)=>v.SS(...Ar(l,h),p,!1)),v.DS&&(c["DenseMatrix, SparseMatrix"]=(l,h)=>v.DS(...Ar(l,h),p,!1),c["Array, SparseMatrix"]=(l,h)=>v.DS(...Ar(n(l),h),p,!1)),f&&(c["SparseMatrix, DenseMatrix"]=(l,h)=>f(...Ar(h,l),p,!0),c["SparseMatrix, Array"]=(l,h)=>f(...Ar(n(h),l),p,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(l=>(h,s)=>a(...Ar(h,s),l)),"Array, Array":e.referToSelf(l=>(h,s)=>a(...Ar(n(h),n(s)),l).valueOf()),"Array, DenseMatrix":e.referToSelf(l=>(h,s)=>a(...Ar(n(h),s),l)),"DenseMatrix, Array":e.referToSelf(l=>(h,s)=>a(...Ar(h,n(s)),l))},v.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(l=>(h,s)=>v.SS(...Ar(h,s),l,!1))),v.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(l=>(h,s)=>v.DS(...Ar(h,s),l,!1)),c["Array, SparseMatrix"]=e.referToSelf(l=>(h,s)=>v.DS(...Ar(n(h),s),l,!1))),f&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(l=>(h,s)=>f(...Ar(s,h),l,!0)),c["SparseMatrix, Array"]=e.referToSelf(l=>(h,s)=>f(...Ar(n(s),h),l,!0))));var u=v.scalar||"any",i=v.Ds||v.Ss;i&&(p?(c["DenseMatrix,"+u]=(l,h)=>t(l,h,p,!1),c[u+", DenseMatrix"]=(l,h)=>t(h,l,p,!0),c["Array,"+u]=(l,h)=>t(n(l),h,p,!1).valueOf(),c[u+", Array"]=(l,h)=>t(n(h),l,p,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(l=>(h,s)=>t(h,s,l,!1)),c[u+", DenseMatrix"]=e.referToSelf(l=>(h,s)=>t(s,h,l,!0)),c["Array,"+u]=e.referToSelf(l=>(h,s)=>t(n(h),s,l,!1).valueOf()),c[u+", Array"]=e.referToSelf(l=>(h,s)=>t(n(s),h,l,!0).valueOf())));var D=v.sS!==void 0?v.sS:v.Ss;return p?(v.Ss&&(c["SparseMatrix,"+u]=(l,h)=>v.Ss(l,h,p,!1)),D&&(c[u+", SparseMatrix"]=(l,h)=>D(h,l,p,!0))):(v.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(l=>(h,s)=>v.Ss(h,s,l,!1))),D&&(c[u+", SparseMatrix"]=e.referToSelf(l=>(h,s)=>D(s,h,l,!0)))),p&&p.signatures&&$n(c,p.signatures),c}}),Qi="matAlgo01xDSid",Xi=["typed"],na=Y(Qi,Xi,r=>{var{typed:e}=r;return function(a,t,o,v){var p=a._data,f=a._size,c=a._datatype||a.getDataType(),u=t._values,i=t._index,D=t._ptr,l=t._size,h=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(f.length!==l.length)throw new ar(f.length,l.length);if(f[0]!==l[0]||f[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+l+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var s=f[0],m=f[1],g=typeof c=="string"&&c!=="mixed"&&c===h?c:void 0,w=g?e.find(o,[g,g]):o,A,b,E=[];for(A=0;A<s;A++)E[A]=[];var d=[],_=[];for(b=0;b<m;b++){for(var C=b+1,y=D[b],B=D[b+1],x=y;x<B;x++)A=i[x],d[A]=v?w(u[x],p[A][b]):w(p[A][b],u[x]),_[A]=C;for(A=0;A<s;A++)_[A]===C?E[A][b]=d[A]:E[A][b]=p[A][b]}return a.createDenseMatrix({data:E,size:[s,m],datatype:c===a._datatype&&h===t._datatype?g:void 0})}}),Yi="matAlgo04xSidSid",Ki=["typed","equalScalar"],Gi=Y(Yi,Ki,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,v){var p=t._values,f=t._index,c=t._ptr,u=t._size,i=t._datatype||t._data===void 0?t._datatype:t.getDataType(),D=o._values,l=o._index,h=o._ptr,s=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==s.length)throw new ar(u.length,s.length);if(u[0]!==s[0]||u[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+s+")");var g=u[0],w=u[1],A,b=n,E=0,d=v;typeof i=="string"&&i===m&&i!=="mixed"&&(A=i,b=e.find(n,[A,A]),E=e.convert(0,A),d=e.find(v,[A,A]));var _=p&&D?[]:void 0,C=[],y=[],B=p&&D?[]:void 0,x=p&&D?[]:void 0,F=[],S=[],z,T,N,U,$;for(T=0;T<w;T++){y[T]=C.length;var M=T+1;for(U=c[T],$=c[T+1],N=U;N<$;N++)z=f[N],C.push(z),F[z]=M,B&&(B[z]=p[N]);for(U=h[T],$=h[T+1],N=U;N<$;N++)if(z=l[N],F[z]===M){if(B){var O=d(B[z],D[N]);b(O,E)?F[z]=null:B[z]=O}}else C.push(z),S[z]=M,x&&(x[z]=D[N]);if(B&&x)for(N=y[T];N<C.length;)z=C[N],F[z]===M?(_[N]=B[z],N++):S[z]===M?(_[N]=x[z],N++):C.splice(N,1)}return y[w]=C.length,t.createSparseMatrix({values:_,index:C,ptr:y,size:[g,w],datatype:i===t._datatype&&m===o._datatype?A:void 0})}}),Wi="matAlgo10xSids",Hi=["typed","DenseMatrix"],aa=Y(Wi,Hi,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,o,v,p){var f=t._values,c=t._index,u=t._ptr,i=t._size,D=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=i[0],h=i[1],s,m=v;typeof D=="string"&&(s=D,o=e.convert(o,s),m=e.find(v,[s,s]));for(var g=[],w=[],A=[],b=0;b<h;b++){for(var E=b+1,d=u[b],_=u[b+1],C=d;C<_;C++){var y=c[C];w[y]=f[C],A[y]=E}for(var B=0;B<l;B++)b===0&&(g[B]=[]),A[B]===E?g[B][b]=p?m(o,w[B]):m(w[B],o):g[B][b]=o}return new n({data:g,size:[l,h],datatype:s})}}),ji="multiplyScalar",ki=["typed"],ro=Y(ji,ki,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":jn,"Complex, Complex":function(a,t){return a.mul(t)},"BigNumber, BigNumber":function(a,t){return a.times(t)},"bigint, bigint":function(a,t){return a*t},"Fraction, Fraction":function(a,t){return a.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),Ut="multiply",eo=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],to=Y(Ut,eo,r=>{var{typed:e,matrix:n,addScalar:a,multiplyScalar:t,equalScalar:o,dot:v}=r,p=ta({typed:e,equalScalar:o}),f=ot({typed:e});function c(E,d){switch(E.length){case 1:switch(d.length){case 1:if(E[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(E[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+d[0]+")");break;case 2:if(E[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function u(E,d,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return v(E,d)}function i(E,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(E,d)}function D(E,d){var _=E._data,C=E._size,y=E._datatype||E.getDataType(),B=d._data,x=d._size,F=d._datatype||d.getDataType(),S=C[0],z=x[1],T,N=a,U=t;y&&F&&y===F&&typeof y=="string"&&y!=="mixed"&&(T=y,N=e.find(a,[T,T]),U=e.find(t,[T,T]));for(var $=[],M=0;M<z;M++){for(var O=U(_[0],B[0][M]),I=1;I<S;I++)O=N(O,U(_[I],B[I][M]));$[M]=O}return E.createDenseMatrix({data:$,size:[z],datatype:y===E._datatype&&F===d._datatype?T:void 0})}var l=e("_multiplyMatrixVector",{"DenseMatrix, any":s,"SparseMatrix, any":w}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":A,"SparseMatrix, SparseMatrix":b});function s(E,d){var _=E._data,C=E._size,y=E._datatype||E.getDataType(),B=d._data,x=d._datatype||d.getDataType(),F=C[0],S=C[1],z,T=a,N=t;y&&x&&y===x&&typeof y=="string"&&y!=="mixed"&&(z=y,T=e.find(a,[z,z]),N=e.find(t,[z,z]));for(var U=[],$=0;$<F;$++){for(var M=_[$],O=N(M[0],B[0]),I=1;I<S;I++)O=T(O,N(M[I],B[I]));U[$]=O}return E.createDenseMatrix({data:U,size:[F],datatype:y===E._datatype&&x===d._datatype?z:void 0})}function m(E,d){var _=E._data,C=E._size,y=E._datatype||E.getDataType(),B=d._data,x=d._size,F=d._datatype||d.getDataType(),S=C[0],z=C[1],T=x[1],N,U=a,$=t;y&&F&&y===F&&typeof y=="string"&&y!=="mixed"&&y!=="mixed"&&(N=y,U=e.find(a,[N,N]),$=e.find(t,[N,N]));for(var M=[],O=0;O<S;O++){var I=_[O];M[O]=[];for(var q=0;q<T;q++){for(var R=$(I[0],B[0][q]),P=1;P<z;P++)R=U(R,$(I[P],B[P][q]));M[O][q]=R}}return E.createDenseMatrix({data:M,size:[S,T],datatype:y===E._datatype&&F===d._datatype?N:void 0})}function g(E,d){var _=E._data,C=E._size,y=E._datatype||E.getDataType(),B=d._values,x=d._index,F=d._ptr,S=d._size,z=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var T=C[0],N=S[1],U,$=a,M=t,O=o,I=0;y&&z&&y===z&&typeof y=="string"&&y!=="mixed"&&(U=y,$=e.find(a,[U,U]),M=e.find(t,[U,U]),O=e.find(o,[U,U]),I=e.convert(0,U));for(var q=[],R=[],P=[],K=d.createSparseMatrix({values:q,index:R,ptr:P,size:[T,N],datatype:y===E._datatype&&z===d._datatype?U:void 0}),Z=0;Z<N;Z++){P[Z]=R.length;var L=F[Z],J=F[Z+1];if(J>L)for(var Q=0,V=0;V<T;V++){for(var G=V+1,X=void 0,W=L;W<J;W++){var k=x[W];Q!==G?(X=M(_[V][k],B[W]),Q=G):X=$(X,M(_[V][k],B[W]))}Q===G&&!O(X,I)&&(R.push(V),q.push(X))}}return P[N]=R.length,K}function w(E,d){var _=E._values,C=E._index,y=E._ptr,B=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=d._data,F=d._datatype||d.getDataType(),S=E._size[0],z=d._size[0],T=[],N=[],U=[],$,M=a,O=t,I=o,q=0;B&&F&&B===F&&typeof B=="string"&&B!=="mixed"&&($=B,M=e.find(a,[$,$]),O=e.find(t,[$,$]),I=e.find(o,[$,$]),q=e.convert(0,$));var R=[],P=[];U[0]=0;for(var K=0;K<z;K++){var Z=x[K];if(!I(Z,q))for(var L=y[K],J=y[K+1],Q=L;Q<J;Q++){var V=C[Q];P[V]?R[V]=M(R[V],O(Z,_[Q])):(P[V]=!0,N.push(V),R[V]=O(Z,_[Q]))}}for(var G=N.length,X=0;X<G;X++){var W=N[X];T[X]=R[W]}return U[1]=N.length,E.createSparseMatrix({values:T,index:N,ptr:U,size:[S,1],datatype:B===E._datatype&&F===d._datatype?$:void 0})}function A(E,d){var _=E._values,C=E._index,y=E._ptr,B=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var x=d._data,F=d._datatype||d.getDataType(),S=E._size[0],z=d._size[0],T=d._size[1],N,U=a,$=t,M=o,O=0;B&&F&&B===F&&typeof B=="string"&&B!=="mixed"&&(N=B,U=e.find(a,[N,N]),$=e.find(t,[N,N]),M=e.find(o,[N,N]),O=e.convert(0,N));for(var I=[],q=[],R=[],P=E.createSparseMatrix({values:I,index:q,ptr:R,size:[S,T],datatype:B===E._datatype&&F===d._datatype?N:void 0}),K=[],Z=[],L=0;L<T;L++){R[L]=q.length;for(var J=L+1,Q=0;Q<z;Q++){var V=x[Q][L];if(!M(V,O))for(var G=y[Q],X=y[Q+1],W=G;W<X;W++){var k=C[W];Z[k]!==J?(Z[k]=J,q.push(k),K[k]=$(V,_[W])):K[k]=U(K[k],$(V,_[W]))}}for(var er=R[L],tr=q.length,nr=er;nr<tr;nr++){var rr=q[nr];I[nr]=K[rr]}}return R[T]=q.length,P}function b(E,d){var _=E._values,C=E._index,y=E._ptr,B=E._datatype||E._data===void 0?E._datatype:E.getDataType(),x=d._values,F=d._index,S=d._ptr,z=d._datatype||d._data===void 0?d._datatype:d.getDataType(),T=E._size[0],N=d._size[1],U=_&&x,$,M=a,O=t;B&&z&&B===z&&typeof B=="string"&&B!=="mixed"&&($=B,M=e.find(a,[$,$]),O=e.find(t,[$,$]));for(var I=U?[]:void 0,q=[],R=[],P=E.createSparseMatrix({values:I,index:q,ptr:R,size:[T,N],datatype:B===E._datatype&&z===d._datatype?$:void 0}),K=U?[]:void 0,Z=[],L,J,Q,V,G,X,W,k,er=0;er<N;er++){R[er]=q.length;var tr=er+1;for(G=S[er],X=S[er+1],V=G;V<X;V++)if(k=F[V],U)for(J=y[k],Q=y[k+1],L=J;L<Q;L++)W=C[L],Z[W]!==tr?(Z[W]=tr,q.push(W),K[W]=O(x[V],_[L])):K[W]=M(K[W],O(x[V],_[L]));else for(J=y[k],Q=y[k+1],L=J;L<Q;L++)W=C[L],Z[W]!==tr&&(Z[W]=tr,q.push(W));if(U)for(var nr=R[er],rr=q.length,sr=nr;sr<rr;sr++){var ur=q[sr];I[sr]=K[ur]}}return R[N]=q.length,P}return e(Ut,t,{"Array, Array":e.referTo("Matrix, Matrix",E=>(d,_)=>{c(fr(d),fr(_));var C=E(n(d),n(_));return lr(C)?C.valueOf():C}),"Matrix, Matrix":function(d,_){var C=d.size(),y=_.size();return c(C,y),C.length===1?y.length===1?u(d,_,C[0]):i(d,_):y.length===1?l(d,_):h(d,_)},"Matrix, Array":e.referTo("Matrix,Matrix",E=>(d,_)=>E(d,n(_))),"Array, Matrix":e.referToSelf(E=>(d,_)=>E(n(d,_.storage()),_)),"SparseMatrix, any":function(d,_){return p(d,_,t,!1)},"DenseMatrix, any":function(d,_){return f(d,_,t,!1)},"any, SparseMatrix":function(d,_){return p(_,d,t,!0)},"any, DenseMatrix":function(d,_){return f(_,d,t,!0)},"Array, any":function(d,_){return f(n(d),_,t,!1).valueOf()},"any, Array":function(d,_){return f(n(_),d,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(E=>(d,_,C)=>{for(var y=E(d,_),B=0;B<C.length;B++)y=E(y,C[B]);return y})})}),Pt="sign",no=["typed","BigNumber","Fraction","complex"],ao=Y(Pt,no,r=>{var{typed:e,BigNumber:n,complex:a,Fraction:t}=r;return e(Pt,{number:je,Complex:function(v){return v.im===0?a(je(v.re)):v.sign()},BigNumber:function(v){return new n(v.cmp(0))},bigint:function(v){return v>0n?1n:v<0n?-1n:0n},Fraction:function(v){return new t(v.s,1)},"Array | Matrix":e.referToSelf(o=>v=>Sr(v,o)),Unit:e.referToSelf(o=>v=>{if(!v._isDerived()&&v.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,v.valueType())(v.value)})})}),uo="sqrt",io=["config","typed","Complex"],oo=Y(uo,io,r=>{var{config:e,typed:n,Complex:a}=r;return n("sqrt",{number:t,Complex:function(v){return v.sqrt()},BigNumber:function(v){return!v.isNegative()||e.predictable?v.sqrt():t(v.toNumber())},Unit:function(v){return v.pow(.5)}});function t(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new a(o,0).sqrt()}}),It="subtract",so=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],fo=Y(It,so,r=>{var{typed:e,matrix:n,equalScalar:a,subtractScalar:t,unaryMinus:o,DenseMatrix:v,concat:p}=r,f=na({typed:e}),c=ee({typed:e}),u=Ui({typed:e,equalScalar:a}),i=aa({typed:e,DenseMatrix:v}),D=re({typed:e,DenseMatrix:v}),l=Xr({typed:e,matrix:n,concat:p});return e(It,{"any, any":t},l({elop:t,SS:u,DS:f,SD:c,Ss:D,sS:i}))}),vo="matAlgo07xSSf",co=["typed","DenseMatrix"],se=Y(vo,co,r=>{var{typed:e,DenseMatrix:n}=r;return function(o,v,p){var f=o._size,c=o._datatype||o._data===void 0?o._datatype:o.getDataType(),u=v._size,i=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(f.length!==u.length)throw new ar(f.length,u.length);if(f[0]!==u[0]||f[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+u+")");var D=f[0],l=f[1],h,s=0,m=p;typeof c=="string"&&c===i&&c!=="mixed"&&(h=c,s=e.convert(0,h),m=e.find(p,[h,h]));var g,w,A=[];for(g=0;g<D;g++)A[g]=[];var b=[],E=[],d=[],_=[];for(w=0;w<l;w++){var C=w+1;for(a(o,w,d,b,C),a(v,w,_,E,C),g=0;g<D;g++){var y=d[g]===C?b[g]:s,B=_[g]===C?E[g]:s;A[g][w]=m(y,B)}}return new n({data:A,size:[D,l],datatype:c===o._datatype&&i===v._datatype?h:void 0})};function a(t,o,v,p,f){for(var c=t._values,u=t._index,i=t._ptr,D=i[o],l=i[o+1];D<l;D++){var h=u[D];v[h]=f,p[h]=c[D]}}}),Lt="conj",lo=["typed"],Do=Y(Lt,lo,r=>{var{typed:e}=r;return e(Lt,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),Vt="im",po=["typed"],ho=Y(Vt,po,r=>{var{typed:e}=r;return e(Vt,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),Zt="re",mo=["typed"],go=Y(Zt,mo,r=>{var{typed:e}=r;return e(Zt,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":e.referToSelf(n=>a=>Sr(a,n))})}),Jt="concat",yo=["typed","matrix","isInteger"],Ao=Y(Jt,yo,r=>{var{typed:e,matrix:n,isInteger:a}=r;return e(Jt,{"...Array | Matrix | number | BigNumber":function(o){var v,p=o.length,f=-1,c,u=!1,i=[];for(v=0;v<p;v++){var D=o[v];if(lr(D)&&(u=!0),pr(D)||mr(D)){if(v!==p-1)throw new Error("Dimension must be specified as last argument");if(c=f,f=D.valueOf(),!a(f))throw new TypeError("Integer number expected for dimension");if(f<0||v>0&&f>c)throw new Qr(f,c+1)}else{var l=ir(D).valueOf(),h=fr(l);if(i[v]=l,c=f,f=h.length-1,v>0&&f!==c)throw new ar(c+1,f+1)}}if(i.length===0)throw new SyntaxError("At least one matrix expected");for(var s=i.shift();i.length;)s=Qn(s,i.shift(),f);return u?n(s):s},"...string":function(o){return o.join("")}})}),Qt="column",Fo=["typed","Index","matrix","range"],Eo=Y(Qt,Fo,r=>{var{typed:e,Index:n,matrix:a,range:t}=r;return e(Qt,{"Matrix, number":o,"Array, number":function(p,f){return o(a(ir(p)),f).valueOf()}});function o(v,p){if(v.size().length!==2)throw new Error("Only two dimensional matrix is supported");Dr(p,v.size()[1]);var f=t(0,v.size()[0]),c=new n(f,p),u=v.subset(c);return lr(u)?u:a([[u]])}}),Xt="cross",wo=["typed","matrix","subtract","multiply"],Co=Y(Xt,wo,r=>{var{typed:e,matrix:n,subtract:a,multiply:t}=r;return e(Xt,{"Matrix, Matrix":function(p,f){return n(o(p.toArray(),f.toArray()))},"Matrix, Array":function(p,f){return n(o(p.toArray(),f))},"Array, Matrix":function(p,f){return n(o(p,f.toArray()))},"Array, Array":o});function o(v,p){var f=Math.max(fr(v).length,fr(p).length);v=Bt(v),p=Bt(p);var c=fr(v),u=fr(p);if(c.length!==1||u.length!==1||c[0]!==3||u[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var i=[a(t(v[1],p[2]),t(v[2],p[1])),a(t(v[2],p[0]),t(v[0],p[2])),a(t(v[0],p[1]),t(v[1],p[0]))];return f>1?[i]:i}}),Yt="diag",_o=["typed","matrix","DenseMatrix","SparseMatrix"],bo=Y(Yt,_o,r=>{var{typed:e,matrix:n,DenseMatrix:a,SparseMatrix:t}=r;return e(Yt,{Array:function(c){return o(c,0,fr(c),null)},"Array, number":function(c,u){return o(c,u,fr(c),null)},"Array, BigNumber":function(c,u){return o(c,u.toNumber(),fr(c),null)},"Array, string":function(c,u){return o(c,0,fr(c),u)},"Array, number, string":function(c,u,i){return o(c,u,fr(c),i)},"Array, BigNumber, string":function(c,u,i){return o(c,u.toNumber(),fr(c),i)},Matrix:function(c){return o(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return o(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return o(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return o(c,0,c.size(),u)},"Matrix, number, string":function(c,u,i){return o(c,u,c.size(),i)},"Matrix, BigNumber, string":function(c,u,i){return o(c,u.toNumber(),c.size(),i)}});function o(f,c,u,i){if(!hr(c))throw new TypeError("Second parameter in function diag must be an integer");var D=c>0?c:0,l=c<0?-c:0;switch(u.length){case 1:return v(f,c,i,u[0],l,D);case 2:return p(f,c,i,u,l,D)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function v(f,c,u,i,D,l){var h=[i+D,i+l];if(u&&u!=="sparse"&&u!=="dense")throw new TypeError("Unknown matrix type ".concat(u,'"'));var s=u==="sparse"?t.diagonal(h,f,c):a.diagonal(h,f,c);return u!==null?s:s.valueOf()}function p(f,c,u,i,D,l){if(lr(f)){var h=f.diagonal(c);return u!==null?u!==h.storage()?n(h,u):h:h.valueOf()}for(var s=Math.min(i[0]-D,i[1]-l),m=[],g=0;g<s;g++)m[g]=f[g+D][g+l];return u!==null?n(m):m}}),Kt="flatten",Bo=["typed"],xo=Y(Kt,Bo,r=>{var{typed:e}=r;return e(Kt,{Array:function(a){return We(a)},Matrix:function(a){return a.create(We(a.toArray()),a.datatype())}})}),Gt="getMatrixDataType",So=["typed"],Mo=Y(Gt,So,r=>{var{typed:e}=r;return e(Gt,{Array:function(a){return Re(a,Tr)},Matrix:function(a){return a.getDataType()}})}),Wt="identity",No=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],zo=Y(Wt,No,r=>{var{typed:e,config:n,matrix:a,BigNumber:t,DenseMatrix:o,SparseMatrix:v}=r;return e(Wt,{"":function(){return n.matrix==="Matrix"?a([]):[]},string:function(u){return a(u)},"number | BigNumber":function(u){return f(u,u,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(u,i){return f(u,u,i)},"number | BigNumber, number | BigNumber":function(u,i){return f(u,i,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,i,D){return f(u,i,D)},Array:function(u){return p(u)},"Array, string":function(u,i){return p(u,i)},Matrix:function(u){return p(u.valueOf(),u.storage())},"Matrix, string":function(u,i){return p(u.valueOf(),i)}});function p(c,u){switch(c.length){case 0:return u?a(u):[];case 1:return f(c[0],c[0],u);case 2:return f(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function f(c,u,i){var D=mr(c)||mr(u)?t:null;if(mr(c)&&(c=c.toNumber()),mr(u)&&(u=u.toNumber()),!hr(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!hr(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var l=D?new t(1):1,h=D?new D(0):0,s=[c,u];if(i){if(i==="sparse")return v.diagonal(s,l,0,h);if(i==="dense")return o.diagonal(s,l,0,h);throw new TypeError('Unknown matrix type "'.concat(i,'"'))}for(var m=Ce([],s,h),g=c<u?c:u,w=0;w<g;w++)m[w][w]=l;return m}}),Ht="kron",To=["typed","matrix","multiplyScalar"],$o=Y(Ht,To,r=>{var{typed:e,matrix:n,multiplyScalar:a}=r;return e(Ht,{"Matrix, Matrix":function(v,p){return n(t(v.toArray(),p.toArray()))},"Matrix, Array":function(v,p){return n(t(v.toArray(),p))},"Array, Matrix":function(v,p){return n(t(v,p.toArray()))},"Array, Array":t});function t(o,v){if(fr(o).length===1&&(o=[o]),fr(v).length===1&&(v=[v]),fr(o).length>2||fr(v).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(v.length)+")");var p=[],f=[];return o.map(function(c){return v.map(function(u){return f=[],p.push(f),c.map(function(i){return u.map(function(D){return f.push(a(i,D))})})})})&&p}});function ua(){throw new Error('No "bignumber" implementation available')}function Oo(){throw new Error('No "fraction" implementation available')}function ia(){throw new Error('No "matrix" implementation available')}var jt="range",qo=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Ro=Y(jt,qo,r=>{var{typed:e,config:n,matrix:a,bignumber:t,smaller:o,smallerEq:v,larger:p,largerEq:f,add:c,isPositive:u}=r;return e(jt,{string:D,"string, boolean":D,"number, number":function(m,g){return i(l(m,g,1,!1))},"number, number, number":function(m,g,w){return i(l(m,g,w,!1))},"number, number, boolean":function(m,g,w){return i(l(m,g,1,w))},"number, number, number, boolean":function(m,g,w,A){return i(l(m,g,w,A))},"BigNumber, BigNumber":function(m,g){var w=m.constructor;return i(l(m,g,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,g,w){return i(l(m,g,w,!1))},"BigNumber, BigNumber, boolean":function(m,g,w){var A=m.constructor;return i(l(m,g,new A(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(m,g,w,A){return i(l(m,g,w,A))},"Unit, Unit, Unit":function(m,g,w){return i(l(m,g,w,!1))},"Unit, Unit, Unit, boolean":function(m,g,w,A){return i(l(m,g,w,A))}});function i(s){return n.matrix==="Matrix"?a?a(s):ia():s}function D(s,m){var g=h(s);if(!g)throw new SyntaxError('String "'+s+'" is no valid range');return n.number==="BigNumber"?(t===void 0&&ua(),i(l(t(g.start),t(g.end),t(g.step)))):i(l(g.start,g.end,g.step,m))}function l(s,m,g,w){for(var A=[],b=u(g)?w?v:o:w?f:p,E=s;b(E,m);)A.push(E),E=c(E,g);return A}function h(s){var m=s.split(":"),g=m.map(function(A){return Number(A)}),w=g.some(function(A){return isNaN(A)});if(w)return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}}),kt="reshape",Uo=["typed","isInteger","matrix"],Po=Y(kt,Uo,r=>{var{typed:e,isInteger:n}=r;return e(kt,{"Matrix, Array":function(t,o){return t.reshape(o,!0)},"Array, Array":function(t,o){return o.forEach(function(v){if(!n(v))throw new TypeError("Invalid size for dimension: "+v)}),at(t,o)}})}),rn="size",Io=["typed","config","?matrix"],Lo=Y(rn,Io,r=>{var{typed:e,config:n,matrix:a}=r;return e(rn,{Matrix:function(o){return o.create(o.size(),"number")},Array:fr,string:function(o){return n.matrix==="Array"?[o.length]:a([o.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:a?a([],"dense","number"):ia()}})}),en="subset",Vo=["typed","matrix","zeros","add"],Zo=Y(en,Vo,r=>{var{typed:e,matrix:n,zeros:a,add:t}=r;return e(en,{"Matrix, Index":function(p,f){return jr(f)?n():(we(p,f),p.subset(f))},"Array, Index":e.referTo("Matrix, Index",function(v){return function(p,f){var c=v(n(p),f);return f.isScalar()?c:c.valueOf()}}),"Object, Index":Qo,"string, Index":Jo,"Matrix, Index, any, any":function(p,f,c,u){return jr(f)?p:(we(p,f),p.clone().subset(f,o(c,f),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(v){return function(p,f,c,u){var i=v(n(p),f,c,u);return i.isMatrix?i.valueOf():i}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(v){return function(p,f,c){return v(n(p),f,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(v){return function(p,f,c){return v(p,f,c,void 0)}}),"string, Index, string":tn,"string, Index, string, string":tn,"Object, Index, any":Xo});function o(v,p){if(typeof v=="string")throw new Error("can't boradcast a string");if(p._isScalar)return v;var f=p.size();if(f.every(c=>c>0))try{return t(v,a(f))}catch{return v}else return v}});function Jo(r,e){if(!$e(e))throw new TypeError("Index expected");if(jr(e))return"";if(we(Array.from(r),e),e.size().length!==1)throw new ar(e.size().length,1);var n=r.length;Dr(e.min()[0],n),Dr(e.max()[0],n);var a=e.dimension(0),t="";return a.forEach(function(o){t+=r.charAt(o)}),t}function tn(r,e,n,a){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(jr(e))return r;if(we(Array.from(r),e),e.size().length!==1)throw new ar(e.size().length,1);if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";var t=e.dimension(0),o=t.size()[0];if(o!==n.length)throw new ar(t.size()[0],n.length);var v=r.length;Dr(e.min()[0]),Dr(e.max()[0]);for(var p=[],f=0;f<v;f++)p[f]=r.charAt(f);if(t.forEach(function(i,D){p[i]=n.charAt(D[0])}),p.length>v)for(var c=v-1,u=p.length;c<u;c++)p[c]||(p[c]=a);return p.join("")}function Qo(r,e){if(!jr(e)){if(e.size().length!==1)throw new ar(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return xn(r,n)}}function Xo(r,e,n){if(jr(e))return r;if(e.size().length!==1)throw new ar(e.size(),1);var a=e.dimension(0);if(typeof a!="string")throw new TypeError("String expected as index to retrieve an object property");var t=ir(r);return Sn(t,a,n),t}var nn="transpose",Yo=["typed","matrix"],Ko=Y(nn,Yo,r=>{var{typed:e,matrix:n}=r;return e(nn,{Array:v=>a(n(v)).valueOf(),Matrix:a,any:ir});function a(v){var p=v.size(),f;switch(p.length){case 1:f=v.clone();break;case 2:{var c=p[0],u=p[1];if(u===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+dr(p)+")");switch(v.storage()){case"dense":f=t(v,c,u);break;case"sparse":f=o(v,c,u);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+dr(p)+")")}return f}function t(v,p,f){for(var c=v._data,u=[],i,D=0;D<f;D++){i=u[D]=[];for(var l=0;l<p;l++)i[l]=ir(c[l][D])}return v.createDenseMatrix({data:u,size:[f,p],datatype:v._datatype})}function o(v,p,f){for(var c=v._values,u=v._index,i=v._ptr,D=c?[]:void 0,l=[],h=[],s=[],m=0;m<p;m++)s[m]=0;var g,w,A;for(g=0,w=u.length;g<w;g++)s[u[g]]++;for(var b=0,E=0;E<p;E++)h.push(b),b+=s[E],s[E]=h[E];for(h.push(b),A=0;A<f;A++)for(var d=i[A],_=i[A+1],C=d;C<_;C++){var y=s[u[C]]++;l[y]=A,c&&(D[y]=ir(c[C]))}return v.createSparseMatrix({values:D,index:l,ptr:h,size:[f,p],datatype:v._datatype})}}),an="ctranspose",Go=["typed","transpose","conj"],Wo=Y(an,Go,r=>{var{typed:e,transpose:n,conj:a}=r;return e(an,{any:function(o){return a(n(o))}})}),un="zeros",Ho=["typed","config","matrix","BigNumber"],jo=Y(un,Ho,r=>{var{typed:e,config:n,matrix:a,BigNumber:t}=r;return e(un,{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(c){var u=c[c.length-1];if(typeof u=="string"){var i=c.pop();return o(c,i)}else return n.matrix==="Array"?o(c):o(c,"default")},Array:o,Matrix:function(c){var u=c.storage();return o(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return o(c.valueOf(),u)}});function o(f,c){var u=v(f),i=u?new t(0):0;if(p(f),c){var D=a(c);return f.length>0?D.resize(f,i):D}else{var l=[];return f.length>0?Ce(l,f,i):l}}function v(f){var c=!1;return f.forEach(function(u,i,D){mr(u)&&(c=!0,D[i]=u.toNumber())}),c}function p(f){f.forEach(function(c){if(typeof c!="number"||!hr(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),ko="numeric",rs=["number","?bignumber","?fraction"],es=Y(ko,rs,r=>{var{number:e,bignumber:n,fraction:a}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:v=>e(v),BigNumber:n?v=>n(v):ua,bigint:v=>BigInt(v),Fraction:a?v=>a(v):Oo};return function(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var u=Tr(p);if(!(u in t))throw new TypeError("Cannot convert "+p+' of type "'+u+'"; valid input types are '+Object.keys(t).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+p+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===u?p:o[f](p)}}),on="divideScalar",ts=["typed","numeric"],ns=Y(on,ts,r=>{var{typed:e,numeric:n}=r;return e(on,{"number, number":function(t,o){return t/o},"Complex, Complex":function(t,o){return t.div(o)},"BigNumber, BigNumber":function(t,o){return t.div(o)},"bigint, bigint":function(t,o){return t/o},"Fraction, Fraction":function(t,o){return t.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,t)=>a.divide(t),"number | Fraction | Complex | BigNumber, Unit":(a,t)=>t.divideInto(a)})}),sn="pow",as=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],us=Y(sn,as,r=>{var{typed:e,config:n,identity:a,multiply:t,matrix:o,inv:v,number:p,fraction:f,Complex:c}=r;return e(sn,{"number, number":u,"Complex, Complex":function(h,s){return h.pow(s)},"BigNumber, BigNumber":function(h,s){return s.isInteger()||h>=0||n.predictable?h.pow(s):new c(h.toNumber(),0).pow(s.toNumber(),0)},"bigint, bigint":(l,h)=>l**h,"Fraction, Fraction":function(h,s){var m=h.pow(s);if(m!=null)return m;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(h.valueOf(),s.valueOf())},"Array, number":i,"Array, BigNumber":function(h,s){return i(h,s.toNumber())},"Matrix, number":D,"Matrix, BigNumber":function(h,s){return D(h,s.toNumber())},"Unit, number | BigNumber":function(h,s){return h.pow(s)}});function u(l,h){if(n.predictable&&!hr(h)&&l<0)try{var s=f(h),m=p(s);if((h===m||Math.abs((h-m)/h)<1e-14)&&s.d%2===1)return(s.n%2===0?1:-1)*Math.pow(-l,h)}catch{}return n.predictable&&(l<-1&&h===1/0||l>-1&&l<0&&h===-1/0)?NaN:hr(h)||l>=0||n.predictable?ra(l,h):l*l<1&&h===1/0||l*l>1&&h===-1/0?0:new c(l,0).pow(h,0)}function i(l,h){if(!hr(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var s=fr(l);if(s.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");if(h<0)try{return i(v(l),-h)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):w}for(var m=a(s[0]).valueOf(),g=l;h>=1;)(h&1)===1&&(m=t(g,m)),h>>=1,g=t(g,g);return m}function D(l,h){return o(i(l.valueOf(),h))}});function Pe(r){var{DenseMatrix:e}=r;return function(a,t,o){var v=a.size();if(v.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+dr(v)+")");var p=v[0],f=v[1];if(p!==f)throw new RangeError("Matrix must be square (size: "+dr(v)+")");var c=[];if(lr(t)){var u=t.size(),i=t._data;if(u.length===1){if(u[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<p;D++)c[D]=[i[D]];return new e({data:c,size:[p,1],datatype:t._datatype})}if(u.length===2){if(u[0]!==p||u[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Nn(t)){if(o){c=[];for(var l=0;l<p;l++)c[l]=[i[l][0]];return new e({data:c,size:[p,1],datatype:t._datatype})}return t}if(zn(t)){for(var h=0;h<p;h++)c[h]=[0];for(var s=t._values,m=t._index,g=t._ptr,w=g[1],A=g[0];A<w;A++){var b=m[A];c[b][0]=s[A]}return new e({data:c,size:[p,1],datatype:t._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(cr(t)){var E=fr(t);if(E.length===1){if(E[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<p;d++)c[d]=[t[d]];return new e({data:c,size:[p,1]})}if(E.length===2){if(E[0]!==p||E[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<p;_++)c[_]=[t[_][0]];return new e({data:c,size:[p,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var fn="lsolve",is=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],os=Y(fn,is,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:o,equalScalar:v,DenseMatrix:p}=r,f=Pe({DenseMatrix:p});return e(fn,{"SparseMatrix, Array | Matrix":function(D,l){return u(D,l)},"DenseMatrix, Array | Matrix":function(D,l){return c(D,l)},"Array, Array | Matrix":function(D,l){var h=n(D),s=c(h,l);return s.valueOf()}});function c(i,D){D=f(i,D,!0);for(var l=D._data,h=i._size[0],s=i._size[1],m=[],g=i._data,w=0;w<s;w++){var A=l[w][0]||0,b=void 0;if(v(A,0))b=0;else{var E=g[w][w];if(v(E,0))throw new Error("Linear system cannot be solved since matrix is singular");b=a(A,E);for(var d=w+1;d<h;d++)l[d]=[o(l[d][0]||0,t(b,g[d][w]))]}m[w]=[b]}return new p({data:m,size:[h,1]})}function u(i,D){D=f(i,D,!0);for(var l=D._data,h=i._size[0],s=i._size[1],m=i._values,g=i._index,w=i._ptr,A=[],b=0;b<s;b++){var E=l[b][0]||0;if(v(E,0))A[b]=[0];else{for(var d=0,_=[],C=[],y=w[b],B=w[b+1],x=y;x<B;x++){var F=g[x];F===b?d=m[x]:F>b&&(_.push(m[x]),C.push(F))}if(v(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=a(E,d),z=0,T=C.length;z<T;z++){var N=C[z];l[N]=[o(l[N][0]||0,t(S,_[z]))]}A[b]=[S]}}return new p({data:A,size:[h,1]})}}),vn="usolve",ss=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],fs=Y(vn,ss,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:o,equalScalar:v,DenseMatrix:p}=r,f=Pe({DenseMatrix:p});return e(vn,{"SparseMatrix, Array | Matrix":function(D,l){return u(D,l)},"DenseMatrix, Array | Matrix":function(D,l){return c(D,l)},"Array, Array | Matrix":function(D,l){var h=n(D),s=c(h,l);return s.valueOf()}});function c(i,D){D=f(i,D,!0);for(var l=D._data,h=i._size[0],s=i._size[1],m=[],g=i._data,w=s-1;w>=0;w--){var A=l[w][0]||0,b=void 0;if(v(A,0))b=0;else{var E=g[w][w];if(v(E,0))throw new Error("Linear system cannot be solved since matrix is singular");b=a(A,E);for(var d=w-1;d>=0;d--)l[d]=[o(l[d][0]||0,t(b,g[d][w]))]}m[w]=[b]}return new p({data:m,size:[h,1]})}function u(i,D){D=f(i,D,!0);for(var l=D._data,h=i._size[0],s=i._size[1],m=i._values,g=i._index,w=i._ptr,A=[],b=s-1;b>=0;b--){var E=l[b][0]||0;if(v(E,0))A[b]=[0];else{for(var d=0,_=[],C=[],y=w[b],B=w[b+1],x=B-1;x>=y;x--){var F=g[x];F===b?d=m[x]:F<b&&(_.push(m[x]),C.push(F))}if(v(d,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=a(E,d),z=0,T=C.length;z<T;z++){var N=C[z];l[N]=[o(l[N][0],t(S,_[z]))]}A[b]=[S]}}return new p({data:A,size:[h,1]})}}),cn="usolveAll",vs=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],cs=Y(cn,vs,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:o,equalScalar:v,DenseMatrix:p}=r,f=Pe({DenseMatrix:p});return e(cn,{"SparseMatrix, Array | Matrix":function(D,l){return u(D,l)},"DenseMatrix, Array | Matrix":function(D,l){return c(D,l)},"Array, Array | Matrix":function(D,l){var h=n(D),s=c(h,l);return s.map(m=>m.valueOf())}});function c(i,D){for(var l=[f(i,D,!0)._data.map(C=>C[0])],h=i._data,s=i._size[0],m=i._size[1],g=m-1;g>=0;g--)for(var w=l.length,A=0;A<w;A++){var b=l[A];if(v(h[g][g],0))if(v(b[g],0)){if(A===0){var d=[...b];d[g]=1;for(var _=g-1;_>=0;_--)d[_]=o(d[_],h[_][g]);l.push(d)}}else{if(A===0)return[];l.splice(A,1),A-=1,w-=1}else{b[g]=a(b[g],h[g][g]);for(var E=g-1;E>=0;E--)b[E]=o(b[E],t(b[g],h[E][g]))}}return l.map(C=>new p({data:C.map(y=>[y]),size:[s,1]}))}function u(i,D){for(var l=[f(i,D,!0)._data.map(I=>I[0])],h=i._size[0],s=i._size[1],m=i._values,g=i._index,w=i._ptr,A=s-1;A>=0;A--)for(var b=l.length,E=0;E<b;E++){for(var d=l[E],_=[],C=[],y=w[A],B=w[A+1],x=0,F=B-1;F>=y;F--){var S=g[F];S===A?x=m[F]:S<A&&(_.push(m[F]),C.push(S))}if(v(x,0))if(v(d[A],0)){if(E===0){var U=[...d];U[A]=1;for(var $=0,M=C.length;$<M;$++){var O=C[$];U[O]=o(U[O],_[$])}l.push(U)}}else{if(E===0)return[];l.splice(E,1),E-=1,b-=1}else{d[A]=a(d[A],x);for(var z=0,T=C.length;z<T;z++){var N=C[z];d[N]=o(d[N],t(d[A],_[z]))}}}return l.map(I=>new p({data:I.map(q=>[q]),size:[h,1]}))}}),Be="equal",ls=["typed","matrix","equalScalar","DenseMatrix","concat"],Ds=Y(Be,ls,r=>{var{typed:e,matrix:n,equalScalar:a,DenseMatrix:t,concat:o}=r,v=ee({typed:e}),p=se({typed:e,DenseMatrix:t}),f=re({typed:e,DenseMatrix:t}),c=Xr({typed:e,matrix:n,concat:o});return e(Be,ps({typed:e,equalScalar:a}),c({elop:a,SS:p,DS:v,Ss:f}))}),ps=Y(Be,["typed","equalScalar"],r=>{var{typed:e,equalScalar:n}=r;return e(Be,{"any, any":function(t,o){return t===null?o===null:o===null?t===null:t===void 0?o===void 0:o===void 0?t===void 0:n(t,o)}})}),xe="smaller",hs=["typed","config","matrix","DenseMatrix","concat"],ds=Y(xe,hs,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:o}=r,v=ee({typed:e}),p=se({typed:e,DenseMatrix:t}),f=re({typed:e,DenseMatrix:t}),c=Xr({typed:e,matrix:a,concat:o}),u=oe({typed:e});return e(xe,ms({typed:e,config:n}),{"boolean, boolean":(i,D)=>i<D,"BigNumber, BigNumber":function(D,l){return D.lt(l)&&!kr(D,l,n.relTol,n.absTol)},"bigint, bigint":(i,D)=>i<D,"Fraction, Fraction":(i,D)=>i.compare(D)===-1,"Complex, Complex":function(D,l){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:p,DS:v,Ss:f}))}),ms=Y(xe,["typed","config"],r=>{var{typed:e,config:n}=r;return e(xe,{"number, number":function(t,o){return t<o&&!Pr(t,o,n.relTol,n.absTol)}})}),Se="smallerEq",gs=["typed","config","matrix","DenseMatrix","concat"],ys=Y(Se,gs,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:o}=r,v=ee({typed:e}),p=se({typed:e,DenseMatrix:t}),f=re({typed:e,DenseMatrix:t}),c=Xr({typed:e,matrix:a,concat:o}),u=oe({typed:e});return e(Se,As({typed:e,config:n}),{"boolean, boolean":(i,D)=>i<=D,"BigNumber, BigNumber":function(D,l){return D.lte(l)||kr(D,l,n.relTol,n.absTol)},"bigint, bigint":(i,D)=>i<=D,"Fraction, Fraction":(i,D)=>i.compare(D)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:p,DS:v,Ss:f}))}),As=Y(Se,["typed","config"],r=>{var{typed:e,config:n}=r;return e(Se,{"number, number":function(t,o){return t<=o||Pr(t,o,n.relTol,n.absTol)}})}),Me="larger",Fs=["typed","config","matrix","DenseMatrix","concat"],Es=Y(Me,Fs,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:o}=r,v=ee({typed:e}),p=se({typed:e,DenseMatrix:t}),f=re({typed:e,DenseMatrix:t}),c=Xr({typed:e,matrix:a,concat:o}),u=oe({typed:e});return e(Me,ws({typed:e,config:n}),{"boolean, boolean":(i,D)=>i>D,"BigNumber, BigNumber":function(D,l){return D.gt(l)&&!kr(D,l,n.relTol,n.absTol)},"bigint, bigint":(i,D)=>i>D,"Fraction, Fraction":(i,D)=>i.compare(D)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:p,DS:v,Ss:f}))}),ws=Y(Me,["typed","config"],r=>{var{typed:e,config:n}=r;return e(Me,{"number, number":function(t,o){return t>o&&!Pr(t,o,n.relTol,n.absTol)}})}),Ne="largerEq",Cs=["typed","config","matrix","DenseMatrix","concat"],_s=Y(Ne,Cs,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:o}=r,v=ee({typed:e}),p=se({typed:e,DenseMatrix:t}),f=re({typed:e,DenseMatrix:t}),c=Xr({typed:e,matrix:a,concat:o}),u=oe({typed:e});return e(Ne,bs({typed:e,config:n}),{"boolean, boolean":(i,D)=>i>=D,"BigNumber, BigNumber":function(D,l){return D.gte(l)||kr(D,l,n.relTol,n.absTol)},"bigint, bigint":function(D,l){return D>=l},"Fraction, Fraction":(i,D)=>i.compare(D)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:p,DS:v,Ss:f}))}),bs=Y(Ne,["typed","config"],r=>{var{typed:e,config:n}=r;return e(Ne,{"number, number":function(t,o){return t>=o||Pr(t,o,n.relTol,n.absTol)}})}),Bs="ImmutableDenseMatrix",xs=["smaller","DenseMatrix"],Ss=Y(Bs,xs,r=>{var{smaller:e,DenseMatrix:n}=r;function a(t,o){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!zr(o))throw new Error("Invalid datatype: "+o);if(lr(t)||cr(t)){var v=new n(t,o);this._data=v._data,this._size=v._size,this._datatype=v._datatype,this._min=null,this._max=null}else if(t&&cr(t.data)&&cr(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=typeof t.min<"u"?t.min:null,this._max=typeof t.max<"u"?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+Tr(t)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return a.prototype=new n,a.prototype.type="ImmutableDenseMatrix",a.prototype.isImmutableDenseMatrix=!0,a.prototype.subset=function(t){switch(arguments.length){case 1:{var o=n.prototype.subset.call(this,t);return lr(o)?new a({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},a.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},a.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},a.prototype.clone=function(){return new a({data:ir(this._data),size:ir(this._size),datatype:this._datatype})},a.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},a.fromJSON=function(t){return new a(t)},a.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},a.prototype.min=function(){if(this._min===null){var t=null;this.forEach(function(o){(t===null||e(o,t))&&(t=o)}),this._min=t!==null?t:void 0}return this._min},a.prototype.max=function(){if(this._max===null){var t=null;this.forEach(function(o){(t===null||e(t,o))&&(t=o)}),this._max=t!==null?t:void 0}return this._max},a},{isClass:!0}),Ms="Index",Ns=["ImmutableDenseMatrix","getMatrixDataType"],zs=Y(Ms,Ns,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:n}=r;function a(o){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var v=0,p=arguments.length;v<p;v++){var f=arguments[v],c=cr(f),u=lr(f),i=null;if(Tn(f))this._dimensions.push(f),this._isScalar=!1;else if(c||u){var D=void 0;n(f)==="boolean"?(c&&(D=t(ln(f).valueOf())),u&&(D=t(ln(f._data).valueOf())),i=f.valueOf().length):D=t(f.valueOf()),this._dimensions.push(D);var l=D.size();(l.length!==1||l[0]!==1||i!==null)&&(this._isScalar=!1)}else if(typeof f=="number")this._dimensions.push(t([f]));else if(typeof f=="string")this._dimensions.push(f);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(i)}}a.prototype.type="Index",a.prototype.isIndex=!0;function t(o){for(var v=0,p=o.length;v<p;v++)if(typeof o[v]!="number"||!hr(o[v]))throw new TypeError("Index parameters must be positive integer numbers");return new e(o)}return a.prototype.clone=function(){var o=new a;return o._dimensions=ir(this._dimensions),o._isScalar=this._isScalar,o._sourceSize=this._sourceSize,o},a.create=function(o){var v=new a;return a.apply(v,o),v},a.prototype.size=function(){for(var o=[],v=0,p=this._dimensions.length;v<p;v++){var f=this._dimensions[v];o[v]=typeof f=="string"?1:f.size()[0]}return o},a.prototype.max=function(){for(var o=[],v=0,p=this._dimensions.length;v<p;v++){var f=this._dimensions[v];o[v]=typeof f=="string"?f:f.max()}return o},a.prototype.min=function(){for(var o=[],v=0,p=this._dimensions.length;v<p;v++){var f=this._dimensions[v];o[v]=typeof f=="string"?f:f.min()}return o},a.prototype.forEach=function(o){for(var v=0,p=this._dimensions.length;v<p;v++)o(this._dimensions[v],v,this)},a.prototype.dimension=function(o){return this._dimensions[o]||null},a.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},a.prototype.isScalar=function(){return this._isScalar},a.prototype.toArray=function(){for(var o=[],v=0,p=this._dimensions.length;v<p;v++){var f=this._dimensions[v];o.push(typeof f=="string"?f:f.toArray())}return o},a.prototype.valueOf=a.prototype.toArray,a.prototype.toString=function(){for(var o=[],v=0,p=this._dimensions.length;v<p;v++){var f=this._dimensions[v];typeof f=="string"?o.push(JSON.stringify(f)):o.push(f.toString())}return"["+o.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},a.fromJSON=function(o){return a.create(o.dimensions)},a},{isClass:!0});function ln(r){var e=[];return r.forEach((n,a)=>{n&&e.push(a)}),e}var Ts="FibonacciHeap",$s=["smaller","larger"],Os=Y(Ts,$s,r=>{var{smaller:e,larger:n}=r,a=1/Math.log((1+Math.sqrt(5))/2);function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}t.prototype.type="FibonacciHeap",t.prototype.isFibonacciHeap=!0,t.prototype.insert=function(u,i){var D={key:u,value:i,degree:0};if(this._minimum){var l=this._minimum;D.left=l,D.right=l.right,l.right=D,D.right.left=D,e(u,l.key)&&(this._minimum=D)}else D.left=D,D.right=D,this._minimum=D;return this._size++,D},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._minimum=null,this._size=0},t.prototype.isEmpty=function(){return this._size===0},t.prototype.extractMinimum=function(){var u=this._minimum;if(u===null)return u;for(var i=this._minimum,D=u.degree,l=u.child;D>0;){var h=l.right;l.left.right=l.right,l.right.left=l.left,l.left=i,l.right=i.right,i.right=l,l.right.left=l,l.parent=null,l=h,D--}return u.left.right=u.right,u.right.left=u.left,u===u.right?i=null:(i=u.right,i=c(i,this._size)),this._size--,this._minimum=i,u},t.prototype.remove=function(u){this._minimum=o(this._minimum,u,-1),this.extractMinimum()};function o(u,i,D){i.key=D;var l=i.parent;return l&&e(i.key,l.key)&&(v(u,i,l),p(u,l)),e(i.key,u.key)&&(u=i),u}function v(u,i,D){i.left.right=i.right,i.right.left=i.left,D.degree--,D.child===i&&(D.child=i.right),D.degree===0&&(D.child=null),i.left=u,i.right=u.right,u.right=i,i.right.left=i,i.parent=null,i.mark=!1}function p(u,i){var D=i.parent;D&&(i.mark?(v(u,i,D),p(D)):i.mark=!0)}var f=function(i,D){i.left.right=i.right,i.right.left=i.left,i.parent=D,D.child?(i.left=D.child,i.right=D.child.right,D.child.right=i,i.right.left=i):(D.child=i,i.right=i,i.left=i),D.degree++,i.mark=!1};function c(u,i){var D=Math.floor(Math.log(i)*a)+1,l=new Array(D),h=0,s=u;if(s)for(h++,s=s.right;s!==u;)h++,s=s.right;for(var m;h>0;){for(var g=s.degree,w=s.right;m=l[g],!!m;){if(n(s.key,m.key)){var A=m;m=s,s=A}f(m,s),l[g]=null,g++}l[g]=s,s=w,h--}u=null;for(var b=0;b<D;b++)m=l[b],m&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,e(m.key,u.key)&&(u=m)):u=m);return u}return t},{isClass:!0}),qs="Spa",Rs=["addScalar","equalScalar","FibonacciHeap"],Us=Y(qs,Rs,r=>{var{addScalar:e,equalScalar:n,FibonacciHeap:a}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new a}return t.prototype.type="Spa",t.prototype.isSpa=!0,t.prototype.set=function(o,v){if(this._values[o])this._values[o].value=v;else{var p=this._heap.insert(o,v);this._values[o]=p}},t.prototype.get=function(o){var v=this._values[o];return v?v.value:0},t.prototype.accumulate=function(o,v){var p=this._values[o];p?p.value=e(p.value,v):(p=this._heap.insert(o,v),this._values[o]=p)},t.prototype.forEach=function(o,v,p){var f=this._heap,c=this._values,u=[],i=f.extractMinimum();for(i&&u.push(i);i&&i.key<=v;)i.key>=o&&(n(i.value,0)||p(i.key,i.value,this)),i=f.extractMinimum(),i&&u.push(i);for(var D=0;D<u.length;D++){var l=u[D];i=f.insert(l.key,l.value),c[i.key]=i}},t.prototype.swap=function(o,v){var p=this._values[o],f=this._values[v];if(!p&&f)p=this._heap.insert(o,f.value),this._heap.remove(f),this._values[o]=p,this._values[v]=void 0;else if(p&&!f)f=this._heap.insert(v,p.value),this._heap.remove(p),this._values[v]=f,this._values[o]=void 0;else if(p&&f){var c=p.value;p.value=f.value,f.value=c}},t},{isClass:!0}),Ps="atan",Is=["typed"],Ls=Y(Ps,Is,r=>{var{typed:e}=r;return e("atan",{number:function(a){return Math.atan(a)},Complex:function(a){return a.atan()},BigNumber:function(a){return a.atan()}})}),oa=Y("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(n=>a=>{if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(n,a.valueType())(a.value)})}}),Dn="cos",Vs=["typed"],Zs=Y(Dn,Vs,r=>{var{typed:e}=r,n=oa({typed:e});return e(Dn,{number:Math.cos,"Complex | BigNumber":a=>a.cos()},n)}),pn="sin",Js=["typed"],Qs=Y(pn,Js,r=>{var{typed:e}=r,n=oa({typed:e});return e(pn,{number:Math.sin,"Complex | BigNumber":a=>a.sin()},n)}),hn="add",Xs=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Ys=Y(hn,Xs,r=>{var{typed:e,matrix:n,addScalar:a,equalScalar:t,DenseMatrix:o,SparseMatrix:v,concat:p}=r,f=na({typed:e}),c=Gi({typed:e,equalScalar:t}),u=aa({typed:e,DenseMatrix:o}),i=Xr({typed:e,matrix:n,concat:p});return e(hn,{"any, any":a,"any, any, ...any":e.referToSelf(D=>(l,h,s)=>{for(var m=D(l,h),g=0;g<s.length;g++)m=D(m,s[g]);return m})},i({elop:a,DS:f,SS:c,Ss:u}))}),dn="norm",Ks=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Gs=Y(dn,Ks,r=>{var{typed:e,abs:n,add:a,pow:t,conj:o,sqrt:v,multiply:p,equalScalar:f,larger:c,smaller:u,matrix:i,ctranspose:D,eigs:l}=r;return e(dn,{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return d(i(C),2)},Matrix:function(C){return d(C,2)},"Array, number | BigNumber | string":function(C,y){return d(i(C),y)},"Matrix, number | BigNumber | string":function(C,y){return d(C,y)}});function h(_){var C=0;return _.forEach(function(y){var B=n(y);c(B,C)&&(C=B)},!0),C}function s(_){var C;return _.forEach(function(y){var B=n(y);(!C||u(B,C))&&(C=B)},!0),C||0}function m(_,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return h(_);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return s(_);if(C==="fro")return d(_,2);if(typeof C=="number"&&!isNaN(C)){if(!f(C,0)){var y=0;return _.forEach(function(B){y=a(t(n(B),C),y)},!0),t(y,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function g(_){var C=0;return _.forEach(function(y,B){C=a(C,p(y,o(y)))}),n(v(C))}function w(_){var C=[],y=0;return _.forEach(function(B,x){var F=x[1],S=a(C[F]||0,n(B));c(S,y)&&(y=S),C[F]=S},!0),y}function A(_){var C=_.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var y=D(_),B=p(y,_),x=l(B).values.toArray(),F=x[x.length-1];return n(v(F))}function b(_){var C=[],y=0;return _.forEach(function(B,x){var F=x[0],S=a(C[F]||0,n(B));c(S,y)&&(y=S),C[F]=S},!0),y}function E(_,C){if(C===1)return w(_);if(C===Number.POSITIVE_INFINITY||C==="inf")return b(_);if(C==="fro")return g(_);if(C===2)return A(_);throw new Error("Unsupported parameter value "+C)}function d(_,C){var y=_.size();if(y.length===1)return m(_,C);if(y.length===2){if(y[0]&&y[1])return E(_,C);throw new RangeError("Invalid matrix dimensions")}}}),mn="dot",Ws=["typed","addScalar","multiplyScalar","conj","size"],Hs=Y(mn,Ws,r=>{var{typed:e,addScalar:n,multiplyScalar:a,conj:t,size:o}=r;return e(mn,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":f});function v(u,i){var D=c(u),l=c(i),h,s;if(D.length===1)h=D[0];else if(D.length===2&&D[1]===1)h=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(l.length===1)s=l[0];else if(l.length===2&&l[1]===1)s=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(h!==s)throw new RangeError("Vectors must have equal length ("+h+" != "+s+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function p(u,i){var D=v(u,i),l=lr(u)?u._data:u,h=lr(u)?u._datatype||u.getDataType():void 0,s=lr(i)?i._data:i,m=lr(i)?i._datatype||i.getDataType():void 0,g=c(u).length===2,w=c(i).length===2,A=n,b=a;if(h&&m&&h===m&&typeof h=="string"&&h!=="mixed"){var E=h;A=e.find(n,[E,E]),b=e.find(a,[E,E])}if(!g&&!w){for(var d=b(t(l[0]),s[0]),_=1;_<D;_++)d=A(d,b(t(l[_]),s[_]));return d}if(!g&&w){for(var C=b(t(l[0]),s[0][0]),y=1;y<D;y++)C=A(C,b(t(l[y]),s[y][0]));return C}if(g&&!w){for(var B=b(t(l[0][0]),s[0]),x=1;x<D;x++)B=A(B,b(t(l[x][0]),s[x]));return B}if(g&&w){for(var F=b(t(l[0][0]),s[0][0]),S=1;S<D;S++)F=A(F,b(t(l[S][0]),s[S][0]));return F}}function f(u,i){v(u,i);for(var D=u._index,l=u._values,h=i._index,s=i._values,m=0,g=n,w=a,A=0,b=0;A<D.length&&b<h.length;){var E=D[A],d=h[b];if(E<d){A++;continue}if(E>d){b++;continue}E===d&&(m=g(m,w(l[A],s[b])),A++,b++)}return m}function c(u){return lr(u)?u.size():o(u)}}),gn="index",js=["typed","Index"],ks=Y(gn,js,r=>{var{typed:e,Index:n}=r;return e(gn,{"...number | string | BigNumber | Range | Array | Matrix":function(t){var o=t.map(function(p){return mr(p)?p.toNumber():cr(p)||lr(p)?p.map(function(f){return mr(f)?f.toNumber():f}):p}),v=new n;return n.apply(v,o),v}})}),yn="lup",rf=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ef=Y(yn,rf,r=>{var{typed:e,matrix:n,abs:a,addScalar:t,divideScalar:o,multiplyScalar:v,subtractScalar:p,larger:f,equalScalar:c,unaryMinus:u,DenseMatrix:i,SparseMatrix:D,Spa:l}=r;return e(yn,{DenseMatrix:function(g){return h(g)},SparseMatrix:function(g){return s(g)},Array:function(g){var w=n(g),A=h(w);return{L:A.L.valueOf(),U:A.U.valueOf(),p:A.p}}});function h(m){var g=m._size[0],w=m._size[1],A=Math.min(g,w),b=ir(m._data),E=[],d=[g,A],_=[],C=[A,w],y,B,x,F=[];for(y=0;y<g;y++)F[y]=y;for(B=0;B<w;B++){if(B>0)for(y=0;y<g;y++){var S=Math.min(y,B),z=0;for(x=0;x<S;x++)z=t(z,v(b[y][x],b[x][B]));b[y][B]=p(b[y][B],z)}var T=B,N=0,U=0;for(y=B;y<g;y++){var $=b[y][B],M=a($);f(M,N)&&(T=y,N=M,U=$)}if(B!==T&&(F[B]=[F[T],F[T]=F[B]][0],i._swapRows(B,T,b)),B<g)for(y=B+1;y<g;y++){var O=b[y][B];c(O,0)||(b[y][B]=o(b[y][B],U))}}for(B=0;B<w;B++)for(y=0;y<g;y++){if(B===0&&(y<w&&(_[y]=[]),E[y]=[]),y<B){y<w&&(_[y][B]=b[y][B]),B<g&&(E[y][B]=0);continue}if(y===B){y<w&&(_[y][B]=b[y][B]),B<g&&(E[y][B]=1);continue}y<w&&(_[y][B]=0),B<g&&(E[y][B]=b[y][B])}var I=new i({data:E,size:d}),q=new i({data:_,size:C}),R=[];for(y=0,A=F.length;y<A;y++)R[F[y]]=y;return{L:I,U:q,p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function s(m){var g=m._size[0],w=m._size[1],A=Math.min(g,w),b=m._values,E=m._index,d=m._ptr,_=[],C=[],y=[],B=[g,A],x=[],F=[],S=[],z=[A,w],T,N,U,$=[],M=[];for(T=0;T<g;T++)$[T]=T,M[T]=T;var O=function(R,P){var K=M[R],Z=M[P];$[K]=P,$[Z]=R,M[R]=Z,M[P]=K},I=function(){var R=new l;N<g&&(y.push(_.length),_.push(1),C.push(N)),S.push(x.length);var P=d[N],K=d[N+1];for(U=P;U<K;U++)T=E[U],R.set($[T],b[U]);N>0&&R.forEach(0,N-1,function(Q,V){D._forEachRow(Q,_,C,y,function(G,X){G>Q&&R.accumulate(G,u(v(X,V)))})});var Z=N,L=R.get(N),J=a(L);R.forEach(N+1,g-1,function(Q,V){var G=a(V);f(G,J)&&(Z=Q,J=G,L=V)}),N!==Z&&(D._swapRows(N,Z,B[1],_,C,y),D._swapRows(N,Z,z[1],x,F,S),R.swap(N,Z),O(N,Z)),R.forEach(0,g-1,function(Q,V){Q<=N?(x.push(V),F.push(Q)):(V=o(V,L),c(V,0)||(_.push(V),C.push(Q)))})};for(N=0;N<w;N++)I();return S.push(x.length),y.push(_.length),{L:new D({values:_,index:C,ptr:y,size:B}),U:new D({values:x,index:F,ptr:S,size:z}),p:$,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),An="qr",tf=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],nf=Y(An,tf,r=>{var{typed:e,matrix:n,zeros:a,identity:t,isZero:o,equal:v,sign:p,sqrt:f,conj:c,unaryMinus:u,addScalar:i,divideScalar:D,multiplyScalar:l,subtractScalar:h,complex:s}=r;return Te(e(An,{DenseMatrix:function(b){return g(b)},SparseMatrix:function(b){return w()},Array:function(b){var E=n(b),d=g(E);return{Q:d.Q.valueOf(),R:d.R.valueOf()}}}),{_denseQRimpl:m});function m(A){var b=A._size[0],E=A._size[1],d=t([b],"dense"),_=d._data,C=A.clone(),y=C._data,B,x,F,S=a([b],"");for(F=0;F<Math.min(E,b);++F){var z=y[F][F],T=u(v(z,0)?1:p(z)),N=c(T),U=0;for(B=F;B<b;B++)U=i(U,l(y[B][F],c(y[B][F])));var $=l(T,f(U));if(!o($)){var M=h(z,$);for(S[F]=1,B=F+1;B<b;B++)S[B]=D(y[B][F],M);var O=u(c(D(M,$))),I=void 0;for(x=F;x<E;x++){for(I=0,B=F;B<b;B++)I=i(I,l(c(S[B]),y[B][x]));for(I=l(I,O),B=F;B<b;B++)y[B][x]=l(h(y[B][x],l(S[B],I)),N)}for(B=0;B<b;B++){for(I=0,x=F;x<b;x++)I=i(I,l(_[B][x],S[x]));for(I=l(I,O),x=F;x<b;++x)_[B][x]=D(h(_[B][x],l(I,c(S[x]))),N)}}}return{Q:d,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(A){var b=m(A),E=b.R._data;if(A._data.length>0)for(var d=E[0][0].type==="Complex"?s(0):0,_=0;_<E.length;++_)for(var C=0;C<_&&C<(E[0]||[]).length;++C)E[_][C]=d;return b}function w(A){throw new Error("qr not implemented for sparse matrices yet")}});function af(r,e,n,a){r._values;for(var t=r._index,o=r._ptr,v=r._size,p=r._datatype,f=v[0],c=v[1],u=null,i=[],D=[],l=0,h=0;h<c;h++){D[h]=l;for(var s=n?n[h]:h,m=o[s],g=o[s+1],w=m;w<g;w++){var A=t[w];i[l]=A,l++}}return D[c]=l,r.createSparseMatrix({values:u,index:i,ptr:D,size:[f,c],datatype:p})}function sa(r,e,n,a,t,o,v){var p=0;for(n[v]=r;p>=0;){var f=n[v+p],c=n[a+f];c===-1?(p--,o[e++]=f):(n[a+f]=n[t+c],++p,n[v+p]=c)}return e}function uf(r,e){if(!r)return null;var n=0,a,t=[],o=[],v=0,p=e,f=2*e;for(a=0;a<e;a++)o[v+a]=-1;for(a=e-1;a>=0;a--)r[a]!==-1&&(o[p+a]=o[v+r[a]],o[v+r[a]]=a);for(a=0;a<e;a++)r[a]===-1&&(n=sa(a,n,o,v,p,t,f));return t}function of(r,e){if(!r)return null;var n=r._index,a=r._ptr,t=r._size,o=t[0],v=t[1],p=[],f=[],c=0,u=v,i,D;for(i=0;i<o;i++)f[u+i]=-1;for(var l=0;l<v;l++){p[l]=-1,f[c+l]=-1;for(var h=a[l],s=a[l+1],m=h;m<s;m++){var g=n[m];for(i=f[u+g];i!==-1&&i<l;i=D)D=f[c+i],f[c+i]=l,D===-1&&(p[i]=l);f[u+g]=l}}return p}function sf(r,e,n){for(var a=r._values,t=r._index,o=r._ptr,v=r._size,p=v[1],f=0,c=0;c<p;c++){var u=o[c];for(o[c]=f;u<o[c+1];u++)e(t[u],c,a?a[u]:1,n)&&(t[f]=t[u],a&&(a[f]=a[u]),f++)}return o[p]=f,t.splice(f,t.length-f),a&&a.splice(f,a.length-f),f}function Vr(r){return-r-2}var ff="csAmd",vf=["add","multiply","transpose"],cf=Y(ff,vf,r=>{var{add:e,multiply:n,transpose:a}=r;return function(u,i){if(!i||u<=0||u>3)return null;var D=i._size,l=D[0],h=D[1],s=0,m=Math.max(16,10*Math.sqrt(h));m=Math.min(h-2,m);var g=t(u,i,l,h,m);sf(g,f,null);for(var w=g._index,A=g._ptr,b=A[h],E=[],d=[],_=0,C=h+1,y=2*(h+1),B=3*(h+1),x=4*(h+1),F=5*(h+1),S=6*(h+1),z=7*(h+1),T=E,N=o(h,A,d,_,B,T,y,z,C,S,x,F),U=v(h,A,d,F,x,S,m,C,B,T,y),$=0,M,O,I,q,R,P,K,Z,L,J,Q,V,G,X,W,k;U<h;){for(I=-1;$<h&&(I=d[B+$])===-1;$++);d[y+I]!==-1&&(T[d[y+I]]=-1),d[B+$]=d[y+I];var er=d[x+I],tr=d[C+I];U+=tr;var nr=0;d[C+I]=-tr;var rr=A[I],sr=er===0?rr:b,ur=sr;for(q=1;q<=er+1;q++){for(q>er?(P=I,K=rr,Z=d[_+I]-er):(P=w[rr++],K=A[P],Z=d[_+P]),R=1;R<=Z;R++)M=w[K++],!((L=d[C+M])<=0)&&(nr+=L,d[C+M]=-L,w[ur++]=M,d[y+M]!==-1&&(T[d[y+M]]=T[M]),T[M]!==-1?d[y+T[M]]=d[y+M]:d[B+d[F+M]]=d[y+M]);P!==I&&(A[P]=Vr(I),d[S+P]=0)}for(er!==0&&(b=ur),d[F+I]=nr,A[I]=sr,d[_+I]=ur-sr,d[x+I]=-2,N=p(N,s,d,S,h),J=sr;J<ur;J++)if(M=w[J],!((Q=d[x+M])<=0)){L=-d[C+M];var vr=N-L;for(rr=A[M],V=A[M]+Q-1;rr<=V;rr++)P=w[rr],d[S+P]>=N?d[S+P]-=L:d[S+P]!==0&&(d[S+P]=d[F+P]+vr)}for(J=sr;J<ur;J++){for(M=w[J],V=A[M],G=V+d[x+M]-1,X=V,W=0,k=0,rr=V;rr<=G;rr++)if(P=w[rr],d[S+P]!==0){var wr=d[S+P]-N;wr>0?(k+=wr,w[X++]=P,W+=P):(A[P]=Vr(I),d[S+P]=0)}d[x+M]=X-V+1;var Cr=X,yr=V+d[_+M];for(rr=G+1;rr<yr;rr++){O=w[rr];var $r=d[C+O];$r<=0||(k+=$r,w[X++]=O,W+=O)}k===0?(A[M]=Vr(I),L=-d[C+M],nr-=L,tr+=L,U+=L,d[C+M]=0,d[x+M]=-1):(d[F+M]=Math.min(d[F+M],k),w[X]=w[Cr],w[Cr]=w[V],w[V]=I,d[_+M]=X-V+1,W=(W<0?-W:W)%h,d[y+M]=d[z+W],d[z+W]=M,T[M]=W)}for(d[F+I]=nr,s=Math.max(s,nr),N=p(N+s,s,d,S,h),J=sr;J<ur;J++)if(M=w[J],!(d[C+M]>=0))for(W=T[M],M=d[z+W],d[z+W]=-1;M!==-1&&d[y+M]!==-1;M=d[y+M],N++){for(Z=d[_+M],Q=d[x+M],rr=A[M]+1;rr<=A[M]+Z-1;rr++)d[S+w[rr]]=N;var br=M;for(O=d[y+M];O!==-1;){var Lr=d[_+O]===Z&&d[x+O]===Q;for(rr=A[O]+1;Lr&&rr<=A[O]+Z-1;rr++)d[S+w[rr]]!==N&&(Lr=0);Lr?(A[O]=Vr(M),d[C+M]+=d[C+O],d[C+O]=0,d[x+O]=-1,O=d[y+O],d[y+br]=O):(br=O,O=d[y+O])}}for(rr=sr,J=sr;J<ur;J++)M=w[J],!((L=-d[C+M])<=0)&&(d[C+M]=L,k=d[F+M]+nr-L,k=Math.min(k,h-U-L),d[B+k]!==-1&&(T[d[B+k]]=M),d[y+M]=d[B+k],T[M]=-1,d[B+k]=M,$=Math.min($,k),d[F+M]=k,w[rr++]=M);d[C+I]=tr,(d[_+I]=rr-sr)===0&&(A[I]=-1,d[S+I]=0),er!==0&&(b=rr)}for(M=0;M<h;M++)A[M]=Vr(A[M]);for(O=0;O<=h;O++)d[B+O]=-1;for(O=h;O>=0;O--)d[C+O]>0||(d[y+O]=d[B+A[O]],d[B+A[O]]=O);for(P=h;P>=0;P--)d[C+P]<=0||A[P]!==-1&&(d[y+P]=d[B+A[P]],d[B+A[P]]=P);for(I=0,M=0;M<=h;M++)A[M]===-1&&(I=sa(M,I,d,B,y,E,S));return E.splice(E.length-1,1),E};function t(c,u,i,D,l){var h=a(u);if(c===1&&D===i)return e(u,h);if(c===2){for(var s=h._index,m=h._ptr,g=0,w=0;w<i;w++){var A=m[w];if(m[w]=g,!(m[w+1]-A>l))for(var b=m[w+1];A<b;A++)s[g++]=s[A]}return m[i]=g,u=a(h),n(h,u)}return n(h,u)}function o(c,u,i,D,l,h,s,m,g,w,A,b){for(var E=0;E<c;E++)i[D+E]=u[E+1]-u[E];i[D+c]=0;for(var d=0;d<=c;d++)i[l+d]=-1,h[d]=-1,i[s+d]=-1,i[m+d]=-1,i[g+d]=1,i[w+d]=1,i[A+d]=0,i[b+d]=i[D+d];var _=p(0,0,i,w,c);return i[A+c]=-2,u[c]=-1,i[w+c]=0,_}function v(c,u,i,D,l,h,s,m,g,w,A){for(var b=0,E=0;E<c;E++){var d=i[D+E];if(d===0)i[l+E]=-2,b++,u[E]=-1,i[h+E]=0;else if(d>s)i[m+E]=0,i[l+E]=-1,b++,u[E]=Vr(c),i[m+c]++;else{var _=i[g+d];_!==-1&&(w[_]=E),i[A+E]=i[g+d],i[g+d]=E}}return b}function p(c,u,i,D,l){if(c<2||c+u<0){for(var h=0;h<l;h++)i[D+h]!==0&&(i[D+h]=1);c=2}return c}function f(c,u){return c!==u}});function lf(r,e,n,a,t,o,v){var p,f,c=0,u;if(r<=e||n[a+e]<=n[t+r])return-1;n[t+r]=n[a+e];var i=n[o+r];if(n[o+r]=e,i===-1)c=1,u=r;else{for(c=2,u=i;u!==n[v+u];u=n[v+u]);for(p=i;p!==u;p=f)f=n[v+p],n[v+p]=u}return{jleaf:c,q:u}}var Df="csCounts",pf=["transpose"],hf=Y(Df,pf,r=>{var{transpose:e}=r;return function(n,a,t,o){if(!n||!a||!t)return null;var v=n._size,p=v[0],f=v[1],c,u,i,D,l,h,s,m=4*f+(o?f+p+1:0),g=[],w=0,A=f,b=2*f,E=3*f,d=4*f,_=5*f+1;for(i=0;i<m;i++)g[i]=-1;var C=[],y=e(n),B=y._index,x=y._ptr;for(i=0;i<f;i++)for(u=t[i],C[u]=g[E+u]===-1?1:0;u!==-1&&g[E+u]===-1;u=a[u])g[E+u]=i;if(o){for(i=0;i<f;i++)g[t[i]]=i;for(c=0;c<p;c++){for(i=f,h=x[c],s=x[c+1],l=h;l<s;l++)i=Math.min(i,g[B[l]]);g[_+c]=g[d+i],g[d+i]=c}}for(c=0;c<f;c++)g[w+c]=c;for(i=0;i<f;i++){for(u=t[i],a[u]!==-1&&C[a[u]]--,D=o?g[d+i]:u;D!==-1;D=o?g[_+D]:-1)for(l=x[D];l<x[D+1];l++){c=B[l];var F=lf(c,u,g,E,A,b,w);F.jleaf>=1&&C[u]++,F.jleaf===2&&C[F.q]--}a[u]!==-1&&(g[w+u]=a[u])}for(u=0;u<f;u++)a[u]!==-1&&(C[a[u]]+=C[u]);return C}}),df="csSqr",mf=["add","multiply","transpose"],gf=Y(df,mf,r=>{var{add:e,multiply:n,transpose:a}=r,t=cf({add:e,multiply:n,transpose:a}),o=hf({transpose:a});return function(f,c,u){var i=c._ptr,D=c._size,l=D[1],h,s={};if(s.q=t(f,c),f&&!s.q)return null;if(u){var m=f?af(c,null,s.q):c;s.parent=of(m);var g=uf(s.parent,l);if(s.cp=o(m,s.parent,g,1),m&&s.parent&&s.cp&&v(m,s))for(s.unz=0,h=0;h<l;h++)s.unz+=s.cp[h]}else s.unz=4*i[l]+l,s.lnz=s.unz;return s};function v(p,f){var c=p._ptr,u=p._index,i=p._size,D=i[0],l=i[1];f.pinv=[],f.leftmost=[];var h=f.parent,s=f.pinv,m=f.leftmost,g=[],w=0,A=D,b=D+l,E=D+2*l,d,_,C,y,B;for(_=0;_<l;_++)g[A+_]=-1,g[b+_]=-1,g[E+_]=0;for(d=0;d<D;d++)m[d]=-1;for(_=l-1;_>=0;_--)for(y=c[_],B=c[_+1],C=y;C<B;C++)m[u[C]]=_;for(d=D-1;d>=0;d--)s[d]=-1,_=m[d],_!==-1&&(g[E+_]++===0&&(g[b+_]=d),g[w+d]=g[A+_],g[A+_]=d);for(f.lnz=0,f.m2=D,_=0;_<l;_++)if(d=g[A+_],f.lnz++,d<0&&(d=f.m2++),s[d]=_,!(--E[_]<=0)){f.lnz+=g[E+_];var x=h[_];x!==-1&&(g[E+x]===0&&(g[b+x]=g[b+_]),g[w+g[b+_]]=g[A+x],g[A+x]=g[w+d],g[E+x]+=g[E+_])}for(d=0;d<D;d++)s[d]<0&&(s[d]=_++);return!0}});function ke(r,e){return r[e]<0}function fa(r,e){r[e]=Vr(r[e])}function Fn(r){return r<0?Vr(r):r}function yf(r,e,n,a,t){var o=e._index,v=e._ptr,p=e._size,f=p[1],c,u,i,D=0;for(a[0]=r;D>=0;){r=a[D];var l=t?t[r]:r;ke(v,r)||(fa(v,r),a[f+D]=l<0?0:Fn(v[l]));var h=1;for(u=a[f+D],i=l<0?0:Fn(v[l+1]);u<i;u++)if(c=o[u],!ke(v,c)){a[f+D]=u,a[++D]=c,h=0;break}h&&(D--,a[--n]=r)}return n}function Af(r,e,n,a,t){var o=r._ptr,v=r._size,p=e._index,f=e._ptr,c=v[1],u,i,D,l=c;for(i=f[n],D=f[n+1],u=i;u<D;u++){var h=p[u];ke(o,h)||(l=yf(h,r,l,a,t))}for(u=l;u<c;u++)fa(o,a[u]);return l}var Ff="csSpsolve",Ef=["divideScalar","multiply","subtract"],wf=Y(Ff,Ef,r=>{var{divideScalar:e,multiply:n,subtract:a}=r;return function(o,v,p,f,c,u,i){var D=o._values,l=o._index,h=o._ptr,s=o._size,m=s[1],g=v._values,w=v._index,A=v._ptr,b,E,d,_,C=Af(o,v,p,f,u);for(b=C;b<m;b++)c[f[b]]=0;for(E=A[p],d=A[p+1],b=E;b<d;b++)c[w[b]]=g[b];for(var y=C;y<m;y++){var B=f[y],x=u?u[B]:B;if(!(x<0))for(E=h[x],d=h[x+1],c[B]=e(c[B],D[i?E:d-1]),b=i?E+1:E,_=i?d:d-1;b<_;b++){var F=l[b];c[F]=a(c[F],n(D[b],c[B]))}}return C}}),Cf="csLu",_f=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],bf=Y(Cf,_f,r=>{var{abs:e,divideScalar:n,multiply:a,subtract:t,larger:o,largerEq:v,SparseMatrix:p}=r,f=wf({divideScalar:n,multiply:a,subtract:t});return function(u,i,D){if(!u)return null;var l=u._size,h=l[1],s,m=100,g=100;i&&(s=i.q,m=i.lnz||m,g=i.unz||g);var w=[],A=[],b=[],E=new p({values:w,index:A,ptr:b,size:[h,h]}),d=[],_=[],C=[],y=new p({values:d,index:_,ptr:C,size:[h,h]}),B=[],x,F,S=[],z=[];for(x=0;x<h;x++)S[x]=0,B[x]=-1,b[x+1]=0;m=0,g=0;for(var T=0;T<h;T++){b[T]=m,C[T]=g;var N=s?s[T]:T,U=f(E,u,N,z,S,B,1),$=-1,M=-1;for(F=U;F<h;F++)if(x=z[F],B[x]<0){var O=e(S[x]);o(O,M)&&(M=O,$=x)}else _[g]=B[x],d[g++]=S[x];if($===-1||M<=0)return null;B[N]<0&&v(e(S[N]),a(M,D))&&($=N);var I=S[$];for(_[g]=T,d[g++]=I,B[$]=T,A[m]=$,w[m++]=1,F=U;F<h;F++)x=z[F],B[x]<0&&(A[m]=x,w[m++]=n(S[x],I)),S[x]=0}for(b[h]=m,C[h]=g,F=0;F<m;F++)A[F]=B[A[F]];return w.splice(m,w.length-m),A.splice(m,A.length-m),d.splice(g,d.length-g),_.splice(g,_.length-g),{L:E,U:y,pinv:B}}}),En="slu",Bf=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],xf=Y(En,Bf,r=>{var{typed:e,abs:n,add:a,multiply:t,transpose:o,divideScalar:v,subtract:p,larger:f,largerEq:c,SparseMatrix:u}=r,i=gf({add:a,multiply:t,transpose:o}),D=bf({abs:n,divideScalar:v,multiply:t,subtract:p,larger:f,largerEq:c,SparseMatrix:u});return e(En,{"SparseMatrix, number, number":function(h,s,m){if(!hr(s)||s<0||s>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=i(s,h,!1),w=D(h,g,m);return{L:w.L,U:w.U,p:w.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function wn(r,e){var n,a=e.length,t=[];if(r)for(n=0;n<a;n++)t[r[n]]=e[n];else for(n=0;n<a;n++)t[n]=e[n];return t}var Cn="lusolve",Sf=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Mf=Y(Cn,Sf,r=>{var{typed:e,matrix:n,lup:a,slu:t,usolve:o,lsolve:v,DenseMatrix:p}=r,f=Pe({DenseMatrix:p});return e(Cn,{"Array, Array | Matrix":function(D,l){D=n(D);var h=a(D),s=u(h.L,h.U,h.p,null,l);return s.valueOf()},"DenseMatrix, Array | Matrix":function(D,l){var h=a(D);return u(h.L,h.U,h.p,null,l)},"SparseMatrix, Array | Matrix":function(D,l){var h=a(D);return u(h.L,h.U,h.p,null,l)},"SparseMatrix, Array | Matrix, number, number":function(D,l,h,s){var m=t(D,h,s);return u(m.L,m.U,m.p,m.q,l)},"Object, Array | Matrix":function(D,l){return u(D.L,D.U,D.p,D.q,l)}});function c(i){if(lr(i))return i;if(cr(i))return n(i);throw new TypeError("Invalid Matrix LU decomposition")}function u(i,D,l,h,s){i=c(i),D=c(D),l&&(s=f(i,s,!0),s._data=wn(l,s._data));var m=v(i,s),g=o(D,m);return h&&(g._data=wn(h,g._data)),g}}),_n="det",Nf=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],zf=Y(_n,Nf,r=>{var{typed:e,matrix:n,subtractScalar:a,multiply:t,divideScalar:o,isZero:v,unaryMinus:p}=r;return e(_n,{any:function(u){return ir(u)},"Array | Matrix":function(u){var i;switch(lr(u)?i=u.size():Array.isArray(u)?(u=n(u),i=u.size()):i=[],i.length){case 0:return ir(u);case 1:if(i[0]===1)return ir(u.valueOf()[0]);if(i[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+dr(i)+")");case 2:{var D=i[0],l=i[1];if(D===l)return f(u.clone().valueOf(),D);if(l===0)return 1;throw new RangeError("Matrix must be square (size: "+dr(i)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+dr(i)+")")}}});function f(c,u,i){if(u===1)return ir(c[0][0]);if(u===2)return a(t(c[0][0],c[1][1]),t(c[1][0],c[0][1]));for(var D=!1,l=new Array(u).fill(0).map((_,C)=>C),h=0;h<u;h++){var s=l[h];if(v(c[s][h])){var m=void 0;for(m=h+1;m<u;m++)if(!v(c[l[m]][h])){s=l[m],l[m]=l[h],l[h]=s,D=!D;break}if(m===u)return c[s][h]}for(var g=c[s][h],w=h===0?1:c[l[h-1]][h-1],A=h+1;A<u;A++)for(var b=l[A],E=h+1;E<u;E++)c[b][E]=o(a(t(c[b][E],g),t(c[b][h],c[s][E])),w)}var d=c[l[u-1]][u-1];return D?p(d):d}}),bn="inv",Tf=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],$f=Y(bn,Tf,r=>{var{typed:e,matrix:n,divideScalar:a,addScalar:t,multiply:o,unaryMinus:v,det:p,identity:f,abs:c}=r;return e(bn,{"Array | Matrix":function(D){var l=lr(D)?D.size():fr(D);switch(l.length){case 1:if(l[0]===1)return lr(D)?n([a(1,D.valueOf()[0])]):[a(1,D[0])];throw new RangeError("Matrix must be square (size: "+dr(l)+")");case 2:{var h=l[0],s=l[1];if(h===s)return lr(D)?n(u(D.valueOf(),h,s),D.storage()):u(D,h,s);throw new RangeError("Matrix must be square (size: "+dr(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+dr(l)+")")}},any:function(D){return a(1,D)}});function u(i,D,l){var h,s,m,g,w;if(D===1){if(g=i[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,g)]]}else if(D===2){var A=p(i);if(A===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(i[1][1],A),a(v(i[0][1]),A)],[a(v(i[1][0]),A),a(i[0][0],A)]]}else{var b=i.concat();for(h=0;h<D;h++)b[h]=b[h].concat();for(var E=f(D).valueOf(),d=0;d<l;d++){var _=c(b[d][d]),C=d;for(h=d+1;h<D;)c(b[h][d])>_&&(_=c(b[h][d]),C=h),h++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");h=C,h!==d&&(w=b[d],b[d]=b[h],b[h]=w,w=E[d],E[d]=E[h],E[h]=w);var y=b[d],B=E[d];for(h=0;h<D;h++){var x=b[h],F=E[h];if(h!==d){if(x[d]!==0){for(m=a(v(x[d]),y[d]),s=d;s<l;s++)x[s]=t(x[s],o(m,y[s]));for(s=0;s<l;s++)F[s]=t(F[s],o(m,B[s]))}}else{for(m=y[d],s=d;s<l;s++)x[s]=a(x[s],m);for(s=0;s<l;s++)F[s]=a(F[s],m)}}}return E}}});function Of(r){var{addScalar:e,subtract:n,flatten:a,multiply:t,multiplyScalar:o,divideScalar:v,sqrt:p,abs:f,bignumber:c,diag:u,size:i,reshape:D,inv:l,qr:h,usolve:s,usolveAll:m,equal:g,complex:w,larger:A,smaller:b,matrixFromColumns:E,dot:d}=r;function _(q,R,P,K){var Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,L=C(q,R,P,K,Z);y(q,R,P,K,Z,L);var{values:J,C:Q}=B(q,R,P,K,Z);if(Z){var V=x(q,R,Q,L,J,P,K);return{values:J,eigenvectors:V}}return{values:J}}function C(q,R,P,K,Z){var L=K==="BigNumber",J=K==="Complex",Q=L?c(0):0,V=L?c(1):J?w(1):1,G=L?c(1):1,X=L?c(10):2,W=o(X,X),k;Z&&(k=Array(R).fill(V));for(var er=!1;!er;){er=!0;for(var tr=0;tr<R;tr++){for(var nr=Q,rr=Q,sr=0;sr<R;sr++)tr!==sr&&(nr=e(nr,f(q[sr][tr])),rr=e(rr,f(q[tr][sr])));if(!g(nr,0)&&!g(rr,0)){for(var ur=G,vr=nr,wr=v(rr,X),Cr=o(rr,X);b(vr,wr);)vr=o(vr,W),ur=o(ur,X);for(;A(vr,Cr);)vr=v(vr,W),ur=v(ur,X);var yr=b(v(e(vr,rr),ur),o(e(nr,rr),.95));if(yr){er=!1;for(var $r=v(1,ur),br=0;br<R;br++)tr!==br&&(q[tr][br]=o(q[tr][br],$r),q[br][tr]=o(q[br][tr],ur));Z&&(k[tr]=o(k[tr],$r))}}}}return Z?u(k):null}function y(q,R,P,K,Z,L){var J=K==="BigNumber",Q=K==="Complex",V=J?c(0):Q?w(0):0;J&&(P=c(P));for(var G=0;G<R-2;G++){for(var X=0,W=V,k=G+1;k<R;k++){var er=q[k][G];b(f(W),f(er))&&(W=er,X=k)}if(!b(f(W),P)){if(X!==G+1){var tr=q[X];q[X]=q[G+1],q[G+1]=tr;for(var nr=0;nr<R;nr++){var rr=q[nr][X];q[nr][X]=q[nr][G+1],q[nr][G+1]=rr}if(Z){var sr=L[X];L[X]=L[G+1],L[G+1]=sr}}for(var ur=G+2;ur<R;ur++){var vr=v(q[ur][G],W);if(vr!==0){for(var wr=0;wr<R;wr++)q[ur][wr]=n(q[ur][wr],o(vr,q[G+1][wr]));for(var Cr=0;Cr<R;Cr++)q[Cr][G+1]=e(q[Cr][G+1],o(vr,q[Cr][ur]));if(Z)for(var yr=0;yr<R;yr++)L[ur][yr]=n(L[ur][yr],o(vr,L[G+1][yr]))}}}}return L}function B(q,R,P,K,Z){var L=K==="BigNumber",J=K==="Complex",Q=L?c(1):J?w(1):1;L&&(P=c(P));for(var V=ir(q),G=[],X=R,W=[],k=Z?u(Array(R).fill(Q)):void 0,er=Z?u(Array(X).fill(Q)):void 0,tr=0;tr<=100;){tr+=1;for(var nr=V[X-1][X-1],rr=0;rr<X;rr++)V[rr][rr]=n(V[rr][rr],nr);var{Q:sr,R:ur}=h(V);V=t(ur,sr);for(var vr=0;vr<X;vr++)V[vr][vr]=e(V[vr][vr],nr);if(Z&&(er=t(er,sr)),X===1||b(f(V[X-1][X-2]),P)){tr=0,G.push(V[X-1][X-1]),Z&&(W.unshift([[1]]),z(er,R),k=t(k,er),X>1&&(er=u(Array(X-1).fill(Q)))),X-=1,V.pop();for(var wr=0;wr<X;wr++)V[wr].pop()}else if(X===2||b(f(V[X-2][X-3]),P)){tr=0;var Cr=F(V[X-2][X-2],V[X-2][X-1],V[X-1][X-2],V[X-1][X-1]);G.push(...Cr),Z&&(W.unshift(S(V[X-2][X-2],V[X-2][X-1],V[X-1][X-2],V[X-1][X-1],Cr[0],Cr[1],P,K)),z(er,R),k=t(k,er),X>2&&(er=u(Array(X-2).fill(Q)))),X-=2,V.pop(),V.pop();for(var yr=0;yr<X;yr++)V[yr].pop(),V[yr].pop()}if(X===0)break}if(G.sort((Lr,qr)=>+n(f(Lr),f(qr))),tr>100){var $r=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+G.join(", "));throw $r.values=G,$r.vectors=[],$r}var br=Z?t(k,T(W,R)):void 0;return{values:G,C:br}}function x(q,R,P,K,Z,L,J){var Q=l(P),V=t(Q,q,P),G=J==="BigNumber",X=J==="Complex",W=G?c(0):X?w(0):0,k=G?c(1):X?w(1):1,er=[],tr=[];for(var nr of Z){var rr=N(er,nr,g);rr===-1?(er.push(nr),tr.push(1)):tr[rr]+=1}for(var sr=[],ur=er.length,vr=Array(R).fill(W),wr=u(Array(R).fill(k)),Cr=function(){var br=er[yr],Lr=n(V,t(br,wr)),qr=m(Lr,vr);for(qr.shift();qr.length<tr[yr];){var mt=U(Lr,R,qr,L,J);if(mt===null)break;qr.push(mt)}var ga=t(l(K),P);qr=qr.map(Ze=>t(ga,Ze)),sr.push(...qr.map(Ze=>({value:br,vector:a(Ze)})))},yr=0;yr<ur;yr++)Cr();return sr}function F(q,R,P,K){var Z=e(q,K),L=n(o(q,K),o(R,P)),J=o(Z,.5),Q=o(p(n(o(Z,Z),o(4,L))),.5);return[e(J,Q),n(J,Q)]}function S(q,R,P,K,Z,L,J,Q){var V=Q==="BigNumber",G=Q==="Complex",X=V?c(0):G?w(0):0,W=V?c(1):G?w(1):1;if(b(f(P),J))return[[W,X],[X,W]];if(A(f(n(Z,L)),J))return[[n(Z,K),n(L,K)],[P,P]];var k=n(q,Z),er=n(K,Z);return b(f(R),J)&&b(f(er),J)?[[k,W],[P,X]]:[[R,X],[er,W]]}function z(q,R){for(var P=0;P<q.length;P++)q[P].push(...Array(R-q[P].length).fill(0));for(var K=q.length;K<R;K++)q.push(Array(R).fill(0)),q[K][K]=1;return q}function T(q,R){for(var P=[],K=0;K<R;K++)P[K]=Array(R).fill(0);var Z=0;for(var L of q){for(var J=L.length,Q=0;Q<J;Q++)for(var V=0;V<J;V++)P[Z+Q][Z+V]=L[Q][V];Z+=J}return P}function N(q,R,P){for(var K=0;K<q.length;K++)if(P(q[K],R))return K;return-1}function U(q,R,P,K,Z){for(var L=Z==="BigNumber"?c(1e3):1e3,J,Q=0;Q<5;++Q){J=$(R,P,Z);try{J=s(q,J)}catch{continue}if(A(O(J),L))break}if(Q>=5)return null;for(Q=0;;){var V=s(q,J);if(b(O(M(J,[V])),K))break;if(++Q>=10)return null;J=I(V)}return J}function $(q,R,P){var K=P==="BigNumber",Z=P==="Complex",L=Array(q).fill(0).map(J=>2*Math.random()-1);return K&&(L=L.map(J=>c(J))),Z&&(L=L.map(J=>w(J))),L=M(L,R),I(L,P)}function M(q,R){var P=i(q);for(var K of R)K=D(K,P),q=n(q,t(v(d(K,q),d(K,K)),K));return q}function O(q){return f(p(d(q,q)))}function I(q,R){var P=R==="BigNumber",K=R==="Complex",Z=P?c(1):K?w(1):1;return t(v(Z,O(q)),q)}return _}function qf(r){var{config:e,addScalar:n,subtract:a,abs:t,atan:o,cos:v,sin:p,multiplyScalar:f,inv:c,bignumber:u,multiply:i,add:D}=r;function l(y,B){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,F=arguments.length>3?arguments[3]:void 0,S=arguments.length>4?arguments[4]:void 0;if(F==="number")return h(y,x,S);if(F==="BigNumber")return s(y,x,S);throw TypeError("Unsupported data type: "+F)}function h(y,B,x){var F=y.length,S=Math.abs(B/F),z,T;if(x){T=new Array(F);for(var N=0;N<F;N++)T[N]=Array(F).fill(0),T[N][N]=1}for(var U=d(y);Math.abs(U[1])>=Math.abs(S);){var $=U[0][0],M=U[0][1];z=m(y[$][$],y[M][M],y[$][M]),y=E(y,z,$,M),x&&(T=w(T,z,$,M)),U=d(y)}for(var O=Array(F).fill(0),I=0;I<F;I++)O[I]=y[I][I];return C(ir(O),T,x)}function s(y,B,x){var F=y.length,S=t(B/F),z,T;if(x){T=new Array(F);for(var N=0;N<F;N++)T[N]=Array(F).fill(0),T[N][N]=1}for(var U=_(y);t(U[1])>=t(S);){var $=U[0][0],M=U[0][1];z=g(y[$][$],y[M][M],y[$][M]),y=b(y,z,$,M),x&&(T=A(T,z,$,M)),U=_(y)}for(var O=Array(F).fill(0),I=0;I<F;I++)O[I]=y[I][I];return C(ir(O),T,x)}function m(y,B,x){var F=B-y;return Math.abs(F)<=e.relTol?Math.PI/4:.5*Math.atan(2*x/(B-y))}function g(y,B,x){var F=a(B,y);return t(F)<=e.relTol?u(-1).acos().div(4):f(.5,o(i(2,x,c(F))))}function w(y,B,x,F){for(var S=y.length,z=Math.cos(B),T=Math.sin(B),N=Array(S).fill(0),U=Array(S).fill(0),$=0;$<S;$++)N[$]=z*y[$][x]-T*y[$][F],U[$]=T*y[$][x]+z*y[$][F];for(var M=0;M<S;M++)y[M][x]=N[M],y[M][F]=U[M];return y}function A(y,B,x,F){for(var S=y.length,z=v(B),T=p(B),N=Array(S).fill(u(0)),U=Array(S).fill(u(0)),$=0;$<S;$++)N[$]=a(f(z,y[$][x]),f(T,y[$][F])),U[$]=n(f(T,y[$][x]),f(z,y[$][F]));for(var M=0;M<S;M++)y[M][x]=N[M],y[M][F]=U[M];return y}function b(y,B,x,F){for(var S=y.length,z=u(v(B)),T=u(p(B)),N=f(z,z),U=f(T,T),$=Array(S).fill(u(0)),M=Array(S).fill(u(0)),O=i(u(2),z,T,y[x][F]),I=n(a(f(N,y[x][x]),O),f(U,y[F][F])),q=D(f(U,y[x][x]),O,f(N,y[F][F])),R=0;R<S;R++)$[R]=a(f(z,y[x][R]),f(T,y[F][R])),M[R]=n(f(T,y[x][R]),f(z,y[F][R]));y[x][x]=I,y[F][F]=q,y[x][F]=u(0),y[F][x]=u(0);for(var P=0;P<S;P++)P!==x&&P!==F&&(y[x][P]=$[P],y[P][x]=$[P],y[F][P]=M[P],y[P][F]=M[P]);return y}function E(y,B,x,F){for(var S=y.length,z=Math.cos(B),T=Math.sin(B),N=z*z,U=T*T,$=Array(S).fill(0),M=Array(S).fill(0),O=N*y[x][x]-2*z*T*y[x][F]+U*y[F][F],I=U*y[x][x]+2*z*T*y[x][F]+N*y[F][F],q=0;q<S;q++)$[q]=z*y[x][q]-T*y[F][q],M[q]=T*y[x][q]+z*y[F][q];y[x][x]=O,y[F][F]=I,y[x][F]=0,y[F][x]=0;for(var R=0;R<S;R++)R!==x&&R!==F&&(y[x][R]=$[R],y[R][x]=$[R],y[F][R]=M[R],y[R][F]=M[R]);return y}function d(y){for(var B=y.length,x=0,F=[0,1],S=0;S<B;S++)for(var z=S+1;z<B;z++)Math.abs(x)<Math.abs(y[S][z])&&(x=Math.abs(y[S][z]),F=[S,z]);return[F,x]}function _(y){for(var B=y.length,x=0,F=[0,1],S=0;S<B;S++)for(var z=S+1;z<B;z++)t(x)<t(y[S][z])&&(x=t(y[S][z]),F=[S,z]);return[F,x]}function C(y,B,x){var F=y.length,S=Array(F),z;if(x){z=Array(F);for(var T=0;T<F;T++)z[T]=Array(F)}for(var N=0;N<F;N++){for(var U=0,$=y[0],M=0;M<y.length;M++)t(y[M])<t($)&&(U=M,$=y[U]);if(S[N]=y.splice(U,1)[0],x)for(var O=0;O<F;O++)z[N][O]=B[O][U],B[O].splice(U,1)}if(!x)return{values:S};var I=z.map((q,R)=>({value:S[R],vector:q}));return{values:S,eigenvectors:I}}return l}var Rf="eigs",Uf=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Pf=Y(Rf,Uf,r=>{var{config:e,typed:n,matrix:a,addScalar:t,subtract:o,equal:v,abs:p,atan:f,cos:c,sin:u,multiplyScalar:i,divideScalar:D,inv:l,bignumber:h,multiply:s,add:m,larger:g,column:w,flatten:A,number:b,complex:E,sqrt:d,diag:_,size:C,reshape:y,qr:B,usolve:x,usolveAll:F,im:S,re:z,smaller:T,matrixFromColumns:N,dot:U}=r,$=qf({config:e,addScalar:t,subtract:o,abs:p,atan:f,cos:c,sin:u,multiplyScalar:i,inv:l,bignumber:h,multiply:s,add:m}),M=Of({addScalar:t,subtract:o,multiply:s,multiplyScalar:i,flatten:A,divideScalar:D,sqrt:d,abs:p,bignumber:h,diag:_,size:C,reshape:y,qr:B,inv:l,usolve:x,usolveAll:F,equal:v,complex:E,larger:g,smaller:T,matrixFromColumns:N,dot:U});return n("eigs",{Array:function(L){return O(a(L))},"Array, number|BigNumber":function(L,J){return O(a(L),{precision:J})},"Array, Object"(Z,L){return O(a(Z),L)},Matrix:function(L){return O(L,{matricize:!0})},"Matrix, number|BigNumber":function(L,J){return O(L,{precision:J,matricize:!0})},"Matrix, Object":function(L,J){var Q={matricize:!0};return Te(Q,J),O(L,Q)}});function O(Z){var L,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q="eigenvectors"in J?J.eigenvectors:!0,V=(L=J.precision)!==null&&L!==void 0?L:e.relTol,G=I(Z,V,Q);return J.matricize&&(G.values=a(G.values),Q&&(G.eigenvectors=G.eigenvectors.map(X=>{var{value:W,vector:k}=X;return{value:W,vector:a(k)}}))),Q&&Object.defineProperty(G,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),G}function I(Z,L,J){var Q=Z.toArray(),V=Z.size();if(V.length!==2||V[0]!==V[1])throw new RangeError("Matrix must be square (size: ".concat(dr(V),")"));var G=V[0];if(R(Q,G,L)&&(P(Q,G),q(Q,G,L))){var X=K(Z,Q,G);return $(Q,G,L,X,J)}var W=K(Z,Q,G);return M(Q,G,L,W,J)}function q(Z,L,J){for(var Q=0;Q<L;Q++)for(var V=Q;V<L;V++)if(g(h(p(o(Z[Q][V],Z[V][Q]))),J))return!1;return!0}function R(Z,L,J){for(var Q=0;Q<L;Q++)for(var V=0;V<L;V++)if(g(h(p(S(Z[Q][V]))),J))return!1;return!0}function P(Z,L){for(var J=0;J<L;J++)for(var Q=0;Q<L;Q++)Z[J][Q]=z(Z[J][Q])}function K(Z,L,J){var Q=Z.datatype();if(Q==="number"||Q==="BigNumber"||Q==="Complex")return Q;for(var V=!1,G=!1,X=!1,W=0;W<J;W++)for(var k=0;k<J;k++){var er=L[W][k];if(pr(er)||et(er))V=!0;else if(mr(er))G=!0;else if(rt(er))X=!0;else throw TypeError("Unsupported type in Matrix: "+Tr(er))}if(G&&X&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),X){for(var tr=0;tr<J;tr++)for(var nr=0;nr<J;nr++)L[tr][nr]=E(L[tr][nr]);return"Complex"}if(G){for(var rr=0;rr<J;rr++)for(var sr=0;sr<J;sr++)L[rr][sr]=h(L[rr][sr]);return"BigNumber"}if(V){for(var ur=0;ur<J;ur++)for(var vr=0;vr<J;vr++)L[ur][vr]=b(L[ur][vr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),If="divide",Lf=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Vf=Y(If,Lf,r=>{var{typed:e,matrix:n,multiply:a,equalScalar:t,divideScalar:o,inv:v}=r,p=ta({typed:e,equalScalar:t}),f=ot({typed:e});return e("divide",$n({"Array | Matrix, Array | Matrix":function(u,i){return a(u,v(i))},"DenseMatrix, any":function(u,i){return f(u,i,o,!1)},"SparseMatrix, any":function(u,i){return p(u,i,o,!1)},"Array, any":function(u,i){return f(n(u),i,o,!1).valueOf()},"any, Array | Matrix":function(u,i){return a(u,v(i))}},o.signatures))}),fe=hu({config:Br}),Ie=gu({}),st=bu({}),ft=Su({}),Er=Vu({Matrix:ft}),H=cu({BigNumber:fe,Complex:Ie,DenseMatrix:Er,Fraction:st}),ve=wi({typed:H}),Jr=_i({typed:H}),Zf=Ls({typed:H}),vt=li({Complex:Ie,typed:H}),Le=Do({typed:H}),Jf=Zs({typed:H}),Nr=ju({config:Br,typed:H}),ct=xo({typed:H}),Qf=Mo({typed:H}),Xf=ho({typed:H}),va=Ju({typed:H}),Yf=Yu({config:Br,typed:H}),ca=Gu({equalScalar:Nr,typed:H}),Ir=ro({typed:H}),lt=ii({typed:H}),Kf=go({typed:H}),Gf=ao({BigNumber:fe,Fraction:st,complex:vt,typed:H}),Wf=Qs({typed:H}),te=ei({Matrix:ft,equalScalar:Nr,typed:H}),Yr=Bi({typed:H}),Dt=fi({BigNumber:fe,typed:H}),pt=oo({Complex:Ie,config:Br,typed:H}),ce=Fi({typed:H}),la=hi({Fraction:st,typed:H}),or=mi({DenseMatrix:Er,Matrix:ft,SparseMatrix:te,typed:H}),Hf=es({bignumber:Dt,fraction:la,number:lt}),jf=Po({isInteger:va,matrix:or,typed:H}),ht=Lo({matrix:or,config:Br,typed:H}),Ve=Ko({matrix:or,typed:H}),ze=jo({BigNumber:fe,config:Br,matrix:or,typed:H}),Kr=Ao({isInteger:va,matrix:or,typed:H}),kf=Wo({conj:Le,transpose:Ve,typed:H}),r0=bo({DenseMatrix:Er,SparseMatrix:te,matrix:or,typed:H}),Or=ns({numeric:Hf,typed:H}),Da=Ds({DenseMatrix:Er,concat:Kr,equalScalar:Nr,matrix:or,typed:H}),le=zo({BigNumber:fe,DenseMatrix:Er,SparseMatrix:te,config:Br,matrix:or,typed:H}),pa=$o({matrix:or,multiplyScalar:Ir,typed:H}),ha=_s({DenseMatrix:Er,concat:Kr,config:Br,matrix:or,typed:H}),e0=os({DenseMatrix:Er,divideScalar:Or,equalScalar:Nr,matrix:or,multiplyScalar:Ir,subtractScalar:Yr,typed:H}),t0=yi({flatten:ct,matrix:or,size:ht,typed:H}),n0=nf({addScalar:Jr,complex:vt,conj:Le,divideScalar:Or,equal:Da,identity:le,isZero:ca,matrix:or,multiplyScalar:Ir,sign:Gf,sqrt:pt,subtractScalar:Yr,typed:H,unaryMinus:ce,zeros:ze}),De=ds({DenseMatrix:Er,concat:Kr,config:Br,matrix:or,typed:H}),Ur=fo({DenseMatrix:Er,concat:Kr,equalScalar:Nr,matrix:or,subtractScalar:Yr,typed:H,unaryMinus:ce}),da=fs({DenseMatrix:Er,divideScalar:Or,equalScalar:Nr,matrix:or,multiplyScalar:Ir,subtractScalar:Yr,typed:H}),ne=Ys({DenseMatrix:Er,SparseMatrix:te,addScalar:Jr,concat:Kr,equalScalar:Nr,matrix:or,typed:H}),ue=Hs({addScalar:Jr,conj:Le,multiplyScalar:Ir,size:ht,typed:H}),a0=Ss({DenseMatrix:Er,smaller:De}),ma=zs({ImmutableDenseMatrix:a0,getMatrixDataType:Qf}),ae=Es({DenseMatrix:Er,concat:Kr,config:Br,matrix:or,typed:H}),xr=to({addScalar:Jr,dot:ue,equalScalar:Nr,matrix:or,multiplyScalar:Ir,typed:H}),u0=xf({SparseMatrix:te,abs:ve,add:ne,divideScalar:Or,larger:ae,largerEq:ha,multiply:xr,subtract:Ur,transpose:Ve,typed:H}),Xe=Zo({add:ne,matrix:or,typed:H,zeros:ze}),i0=cs({DenseMatrix:Er,divideScalar:Or,equalScalar:Nr,matrix:or,multiplyScalar:Ir,subtractScalar:Yr,typed:H}),me=Co({matrix:or,multiply:xr,subtract:Ur,typed:H}),o0=zf({divideScalar:Or,isZero:ca,matrix:or,multiply:xr,subtractScalar:Yr,typed:H,unaryMinus:ce}),s0=Os({larger:ae,smaller:De}),Ye=ks({Index:ma,typed:H}),f0=ys({DenseMatrix:Er,concat:Kr,config:Br,matrix:or,typed:H}),v0=Ro({bignumber:Dt,matrix:or,add:ne,config:Br,isPositive:Yf,larger:ae,largerEq:ha,smaller:De,smallerEq:f0,typed:H}),c0=Us({FibonacciHeap:s0,addScalar:Jr,equalScalar:Nr}),l0=Eo({Index:ma,matrix:or,range:v0,typed:H}),dt=$f({abs:ve,addScalar:Jr,det:o0,divideScalar:Or,identity:le,matrix:or,multiply:xr,typed:H,unaryMinus:ce}),D0=ef({DenseMatrix:Er,Spa:c0,SparseMatrix:te,abs:ve,addScalar:Jr,divideScalar:Or,equalScalar:Nr,larger:ae,matrix:or,multiplyScalar:Ir,subtractScalar:Yr,typed:H,unaryMinus:ce}),p0=us({Complex:Ie,config:Br,fraction:la,identity:le,inv:dt,matrix:or,multiply:xr,number:lt,typed:H}),ge=Vf({divideScalar:Or,equalScalar:Nr,inv:dt,matrix:or,multiply:xr,typed:H}),h0=Mf({DenseMatrix:Er,lsolve:e0,lup:D0,matrix:or,slu:u0,typed:H,usolve:da}),d0=Pf({abs:ve,add:ne,addScalar:Jr,atan:Zf,bignumber:Dt,column:l0,complex:vt,config:Br,cos:Jf,diag:r0,divideScalar:Or,dot:ue,equal:Da,flatten:ct,im:Xf,inv:dt,larger:ae,matrix:or,matrixFromColumns:t0,multiply:xr,multiplyScalar:Ir,number:lt,qr:n0,re:Kf,reshape:jf,sin:Wf,size:ht,smaller:De,sqrt:pt,subtract:Ur,typed:H,usolve:da,usolveAll:i0}),Wr=Gs({abs:ve,add:ne,conj:Le,ctranspose:kf,eigs:d0,equalScalar:Nr,larger:ae,matrix:or,multiply:xr,pow:p0,smaller:De,sqrt:pt,typed:H});function m0(r){if(r.length===2)return g0(r[0],r[1]);if(r.length===3)return y0(r[0],r[1],r[2])}function g0(r,e){const n=Ur(e,r),a=Wr(n),t=ue(n,[1,0,0])/a,o=ue(n,[0,1,0])/a,v=ue(n,[0,0,1])/a,p=Math.sqrt(t**2+o**2);let f=[[t,o,v],[-o/p,t/p,0],[-t*v/p,-o*v/p,p]];return v===1&&(f=[[0,0,1],[0,1,0],[-1,0,0]]),v===-1&&(f=[[0,0,-1],[0,1,0],[1,0,0]]),pa(le(4),f).toArray()}function y0(r,e,n){const a=i([e,n]),t=i([r,n]),o=i([r,e]),v=ge(Ur(a,t),Wr(Ur(a,t))),p=ge(Ur(n,o),Wr(Ur(a,t))),f=ge(me(v,p),Wr(me(v,p))),c=ge(me(f,v),Wr(me(f,v))),u=[[v[0],c[0],f[0]],[v[1],c[1],f[1]],[v[2],c[2],f[2]]];return pa(le(6),u).toArray();function i(D){const l=D.reduce((s,m)=>[s[0]+m[0],s[1]+m[1],s[2]+m[2]],[0,0,0]),h=D.length;return[l[0]/h,l[1]/h,l[2]/h]}}function A0(r,e,n){if(r.length===2)return F0(r,e,n);if(r.length===3)return E0(r,e,n)}function F0(r,e,n){var h,s,m,g,w,A;const a=((h=e==null?void 0:e.momentsOfInertiaZ)==null?void 0:h.get(n))??0,t=((s=e==null?void 0:e.momentsOfInertiaY)==null?void 0:s.get(n))??0,o=((m=e==null?void 0:e.elasticities)==null?void 0:m.get(n))??0,v=((g=e==null?void 0:e.areas)==null?void 0:g.get(n))??0,p=((w=e==null?void 0:e.shearModuli)==null?void 0:w.get(n))??0,f=((A=e==null?void 0:e.torsionalConstants)==null?void 0:A.get(n))??0,c=Wr(Ur(r[0],r[1])),u=o*v/c,i=o*a/c**3,D=o*t/c**3,l=p*f/c;return[[u,0,0,0,0,0,-u,0,0,0,0,0],[0,12*i,0,0,0,6*c*i,0,-12*i,0,0,0,6*c*i],[0,0,12*D,0,-6*c*D,0,0,0,-12*D,0,-6*c*D,0],[0,0,0,l,0,0,0,0,0,-l,0,0],[0,0,-6*c*D,0,4*D*c**2,0,0,0,6*c*D,0,2*D*c**2,0],[0,6*c*i,0,0,0,4*i*c**2,0,-6*c*i,0,0,0,2*i*c**2],[-u,0,0,0,0,0,u,0,0,0,0,0],[0,-12*i,0,0,0,-6*i*c,0,12*i,0,0,0,-6*i*c],[0,0,-12*D,0,6*c*D,0,0,0,12*D,0,6*c*D,0],[0,0,0,-l,0,0,0,0,0,l,0,0],[0,0,-6*c*D,0,2*D*c**2,0,0,0,6*c*D,0,4*D*c**2,0],[0,6*c*i,0,0,0,2*i*c**2,0,-6*c*i,0,0,0,4*i*c**2]]}function E0(r,e,n){var y,B,x;const a=((y=e==null?void 0:e.elasticities)==null?void 0:y.get(n))??0,t=((B=e==null?void 0:e.poissonsRatios)==null?void 0:B.get(n))??0,o=((x=e==null?void 0:e.thicknesses)==null?void 0:x.get(n))??0,[v,p]=[r[0][0],r[0][1]],[f,c]=[r[1][0],r[1][1]],[u,i]=[r[2][0],r[2][1]],D=_(a,t,o),l=v*(c-i)+f*(i-p)+u*(p-c),h=.5*Math.abs(l),s=[[.5,0,1/3],[0,.5,1/3],[.5,.5,1/3]];let m=ze(9,9);for(const[F,S,z]of s){const T=d(F,S,v,p,f,c,u,i),N=Ve(T),U=2*h*z,$=xr(N,D),M=xr($,T),O=xr(U,M);m=ne(m,O)}return C(m.toArray());function g(F,S,z,T,N,U){const $=F-z,M=S-T,O=z-N,I=T-U,q=N-F,R=U-S,P=$*$+M*M,K=O*O+I*I,Z=q*q+R*R,L=-6*O/K,J=-6*q/Z,Q=-6*$/P,V=3*O*I/K,G=3*q*R/Z,X=3*$*M/P,W=3*(I*I)/K,k=3*(R*R)/Z,er=3*(M*M)/P,tr=-6*I/K,nr=-6*R/Z,rr=-6*M/P;return{x12:$,y12:M,x23:O,y23:I,x31:q,y31:R,l12:P,l23:K,l31:Z,P4:L,P5:J,P6:Q,q4:V,q5:G,q6:X,r4:W,r5:k,r6:er,t4:tr,t5:nr,t6:rr}}function w(F,S,z){const{P5:T,P6:N,q5:U,q6:$,r5:M,r6:O}=z;return[N*(1-2*F)+(T-N)*S,$*(1-2*F)-(U+$)*S,-4+6*(F+S)+O*(1-2*F)-S*(M+O),-N*(1-2*F)+S*(z.P4+N),$*(1-2*F)-S*($-z.q4),-2+6*F+O*(1-2*F)+S*(z.r4-O),-S*(T+z.P4),S*(z.q4-U),-S*(M-z.r4)]}function A(F,S,z){const{t5:T,t6:N,r5:U,r6:$,q5:M,q6:O}=z;return[N*(1-2*F)+S*(T-N),1+$*(1-2*F)-S*(U+$),-O*(1-2*F)+S*(M+O),-N*(1-2*F)+S*(z.t4+N),-1+$*(1-2*F)+S*(z.r4-$),-O*(1-2*F)-S*(z.q4-O),-S*(z.t4+T),S*(z.r4-U),-S*(z.q4-M)]}function b(F,S,z){const{P4:T,P5:N,P6:U,q4:$,q5:M,q6:O,r4:I,r5:q,r6:R}=z;return[-N*(1-2*S)-F*(U-N),M*(1-2*S)-F*(M+O),-4+6*(F+S)+q*(1-2*S)-F*(q+R),F*(T+U),F*($-O),-F*(R-I),N*(1-2*S)-F*(T+N),M*(1-2*S)+F*($-M),-2+6*S+q*(1-2*S)+F*(I-q)]}function E(F,S,z){const{t4:T,t5:N,t6:U,r4:$,r5:M,r6:O,q4:I,q5:q,q6:R}=z;return[-N*(1-2*S)-F*(U-N),1+M*(1-2*S)-F*(M+O),-q*(1-2*S)+F*(q+R),F*(T+U),F*($-O),-F*(I-R),N*(1-2*S)-F*(T+N),-1+M*(1-2*S)+F*($-M),-q*(1-2*S)-F*(I-q)]}function d(F,S,z,T,N,U,$,M){const O=z*(U-M)+N*(M-T)+$*(T-U),I=g(z,T,N,U,$,M),q=w(F,S,I),R=b(F,S,I),P=A(F,S,I),K=E(F,S,I),{x31:Z,y31:L,x12:J,y12:Q}=I;let V=ze(3,9);for(let G=0;G<9;G++){const X=(L*q[G]+Q*R[G])/O;V.set([0,G],X);const W=(-Z*P[G]-J*K[G])/O;V.set([1,G],W);const k=(-Z*q[G]-J*R[G]+L*P[G]+Q*K[G])/O;V.set([2,G],k)}return V}function _(F,S,z){const T=F*z**3/(12*(1-S*S)),N=[[1,S,0],[S,1,0],[0,0,(1-S)/2]].map(U=>U.map($=>$*T));return or(N)}function C(F){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,F[0][0],F[0][2],F[0][1],0,0,0,F[0][3],F[0][5],F[0][4],0,0,0,F[0][6],F[0][8],F[0][7],0],[0,0,F[2][0],F[2][2],F[2][1],0,0,0,F[2][3],F[2][5],F[2][4],0,0,0,F[2][6],F[2][8],F[2][7],0],[0,0,F[1][0],F[1][2],F[1][1],0,0,0,F[1][3],F[1][5],F[1][4],0,0,0,F[1][6],F[1][8],F[1][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,F[3][0],F[3][2],F[3][1],0,0,0,F[3][3],F[3][5],F[3][4],0,0,0,F[3][6],F[3][8],F[3][7],0],[0,0,F[5][0],F[5][2],F[5][1],0,0,0,F[5][3],F[5][5],F[5][4],0,0,0,F[5][6],F[5][8],F[5][7],0],[0,0,F[4][0],F[4][2],F[4][1],0,0,0,F[4][3],F[4][5],F[4][4],0,0,0,F[4][6],F[4][8],F[4][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,F[6][0],F[6][2],F[6][1],0,0,0,F[6][3],F[6][5],F[6][4],0,0,0,F[6][6],F[6][8],F[6][7],0],[0,0,F[8][0],F[8][2],F[8][1],0,0,0,F[8][3],F[8][5],F[8][4],0,0,0,F[8][6],F[8][8],F[8][7],0],[0,0,F[7][0],F[7][2],F[7][1],0,0,0,F[7][3],F[7][5],F[7][4],0,0,0,F[7][6],F[7][8],F[7][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}}function w0(r,e,n,a){let t=Array(a).fill(0).map(()=>Array(a).fill(0));return e.forEach((o,v)=>{const p=o.map(i=>r[i]),f=A0(p,n,v),c=m0(p),u=xr(Ve(c),xr(f,c));t=C0(t,u,o)}),t}function C0(r,e,n){const a=n.length===3,t=6*n[0],o=6*n[1],v=a?6*n[2]:void 0;for(let p=0;p<6;p++)for(let f=0;f<6;f++)r[t+p][t+f]+=e[p][f],r[o+p][t+f]+=e[p+6][f],a&&(r[v+p][t+f]+=e[p+12][f]),r[t+p][o+f]+=e[p][f+6],r[o+p][o+f]+=e[p+6][f+6],a&&(r[v+p][o+f]+=e[p+12][f+6]),a&&(r[t+p][v+f]+=e[p][f+12],r[o+p][v+f]+=e[p+6][f+12],r[v+p][v+f]+=e[p+12][f+12]);return r}function x0(r,e,n,a){const t=r.length*6;if(t===0)return;const o=_0(n.supports,t),v=b0(n.loads,t),p=w0(r,e,a,t),f=Xe(v,Ye(o)),c=Xe(p,Ye(o,o)),u=h0(c,f),i=Xe(Array(t).fill(0),Ye(o),ct(u)),D=xr(p,i),l=new Map,h=new Map;return r.forEach((s,m)=>{var w;const g=(w=n.supports)==null?void 0:w.get(m);l.set(m,[i[m*6],i[m*6+1],i[m*6+2],i[m*6+3],i[m*6+4],i[m*6+5]]),g&&h.set(m,[D[m*6],D[m*6+1],D[m*6+2],D[m*6+3],D[m*6+4],D[m*6+5]])}),{deformations:l,reactions:h}}function _0(r,e){const n=[];return r==null||r.forEach((a,t)=>{a[0]&&n.push(t*6),a[1]&&n.push(t*6+1),a[2]&&n.push(t*6+2),a[3]&&n.push(t*6+3),a[4]&&n.push(t*6+4),a[5]&&n.push(t*6+5)}),Array(e).fill(0).map((a,t)=>t).filter(a=>!n.includes(a))}function b0(r,e){const n=Array(e).fill(0);return r==null||r.forEach((a,t)=>{n[t*6]=a[0],n[t*6+1]=a[1],n[t*6+2]=a[2],n[t*6+3]=a[3],n[t*6+4]=a[4],n[t*6+5]=a[5]}),n}export{A0 as a,x0 as d,m0 as g,xr as m};
