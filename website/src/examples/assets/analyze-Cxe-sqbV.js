function Ne(){return Ne=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ne.apply(null,arguments)}var yi={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Br(r){return typeof r=="number"}function Ir(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function tu(r){return typeof r=="bigint"}function Yt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Jt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function wi(r){return r&&r.constructor.prototype.isUnit===!0||!1}function re(r){return typeof r=="string"}var Fr=Array.isArray;function _r(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function st(r){return Array.isArray(r)||_r(r)}function Ai(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ei(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Fi(r){return r&&r.constructor.prototype.isRange===!0||!1}function wt(r){return r&&r.constructor.prototype.isIndex===!0||!1}function nu(r){return typeof r=="boolean"}function iu(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function au(r){return r&&r.constructor.prototype.isHelp===!0||!1}function uu(r){return typeof r=="function"}function ou(r){return r instanceof Date}function su(r){return r instanceof RegExp}function Gt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Yt(r)&&!Jt(r))}function fu(r){return r===null}function cu(r){return r===void 0}function lu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function vu(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function hu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function pu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function du(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Du(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Au(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Eu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fu(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.constructor.prototype.isChain===!0||!1}function ce(r){var e=typeof r;return e==="object"?r===null?"null":Ir(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Er(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Er(t)});if(r instanceof Date)return new Date(r.valueOf());if(Ir(r))return r;if(Gt(r))return _u(r,Er);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function _u(r,e){var t={};for(var i in r)Ze(r,i)&&(t[i]=e(r[i]));return t}function Bu(r,e){for(var t in e)Ze(e,t)&&(r[t]=e[t]);return r}function De(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!De(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!De(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function Ze(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Nu(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],u=r[n];u!==void 0&&(t[n]=u)}return t}var xu=["Matrix","Array"],Tu=["number","BigNumber","Fraction"],Qr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(yi)};Ne(Qr,yi,{MATRIX_OPTIONS:xu,NUMBER_OPTIONS:Tu});function fn(){return!0}function jr(){return!1}function Me(){}const cn="Argument is not a typed-function.";function Ci(){function r(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const e=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],t={name:"any",test:fn,isAny:!0};let i,n,u=0,s={createCount:0};function h(_){const x=i.get(_);if(x)return x;let $='Unknown type "'+_+'"';const P=_.toLowerCase();let Q;for(Q of n)if(Q.toLowerCase()===P){$+='. Did you mean "'+Q+'" ?';break}throw new TypeError($)}function l(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const $=x?h(x).index:n.length,P=[];for(let J=0;J<_.length;++J){if(!_[J]||typeof _[J].name!="string"||typeof _[J].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ar=_[J].name;if(i.has(ar))throw new TypeError('Duplicate type name "'+ar+'"');P.push(ar),i.set(ar,{name:ar,test:_[J].test,isAny:_[J].isAny,index:$+J,conversionsTo:[]})}const Q=n.slice($);n=n.slice(0,$).concat(P).concat(Q);for(let J=$+P.length;J<n.length;++J)i.get(n[J]).index=J}function c(){i=new Map,n=[],u=0,l([t],!1)}c(),l(e);function o(){let _;for(_ of n)i.get(_).conversionsTo=[];u=0}function a(_){const x=n.filter($=>{const P=i.get($);return!P.isAny&&P.test(_)});return x.length?x:["any"]}function f(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function v(_,x,$){if(!f(_))throw new TypeError(cn);const P=$&&$.exact,Q=Array.isArray(x)?x.join(","):x,J=F(Q),ar=g(J);if(!P||ar in _.signatures){const Mr=_._typedFunctionData.signatureMap.get(ar);if(Mr)return Mr}const tr=J.length;let ir;if(P){ir=[];let Mr;for(Mr in _.signatures)ir.push(_._typedFunctionData.signatureMap.get(Mr))}else ir=_._typedFunctionData.signatures;for(let Mr=0;Mr<tr;++Mr){const Tr=J[Mr],qr=[];let Xr;for(Xr of ir){const Gr=C(Xr.params,Mr);if(!(!Gr||Tr.restParam&&!Gr.restParam)){if(!Gr.hasAny){const te=w(Gr);if(Tr.types.some(ne=>!te.has(ne.name)))continue}qr.push(Xr)}}if(ir=qr,ir.length===0)break}let er;for(er of ir)if(er.params.length<=tr)return er;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+g(J,", ")+"))")}function d(_,x,$){return v(_,x,$).implementation}function p(_,x){const $=h(x);if($.test(_))return _;const P=$.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let Q=0;Q<P.length;Q++)if(h(P[Q].from).test(_))return P[Q].convert(_);throw new Error("Cannot convert "+_+" to "+x)}function g(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map($=>$.name).join(x)}function D(_){const x=_.indexOf("...")===0,P=(x?_.length>3?_.slice(3):"any":_).split("|").map(tr=>h(tr.trim()));let Q=!1,J=x?"...":"";return{types:P.map(function(tr){return Q=tr.isAny||Q,J+=tr.name+"|",{name:tr.name,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:null,conversionIndex:-1}}),name:J.slice(0,-1),hasAny:Q,hasConversion:!1,restParam:x}}function E(_){const x=_.types.map(ar=>ar.name),$=Y(x);let P=_.hasAny,Q=_.name;const J=$.map(function(ar){const tr=h(ar.from);return P=tr.isAny||P,Q+="|"+ar.from,{name:ar.from,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:ar,conversionIndex:ar.index}});return{types:_.types.concat(J),name:Q,hasAny:P,hasConversion:J.length>0,restParam:_.restParam}}function w(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(x=>_.typeSet.add(x.name))),_.typeSet}function F(_){const x=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const $=_.trim();if($==="")return x;const P=$.split(",");for(let Q=0;Q<P.length;++Q){const J=D(P[Q].trim());if(J.restParam&&Q!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[Q]+'": only allowed for the last parameter');if(J.types.length===0)return null;x.push(J)}return x}function A(_){const x=K(_);return x?x.restParam:!1}function m(_){if(!_||_.types.length===0)return fn;if(_.types.length===1)return h(_.types[0].name).test;if(_.types.length===2){const x=h(_.types[0].name).test,$=h(_.types[1].name).test;return function(Q){return x(Q)||$(Q)}}else{const x=_.types.map(function($){return h($.name).test});return function(P){for(let Q=0;Q<x.length;Q++)if(x[Q](P))return!0;return!1}}}function b(_){let x,$,P;if(A(_)){x=X(_).map(m);const Q=x.length,J=m(K(_)),ar=function(tr){for(let ir=Q;ir<tr.length;ir++)if(!J(tr[ir]))return!1;return!0};return function(ir){for(let er=0;er<x.length;er++)if(!x[er](ir[er]))return!1;return ar(ir)&&ir.length>=Q+1}}else return _.length===0?function(J){return J.length===0}:_.length===1?($=m(_[0]),function(J){return $(J[0])&&J.length===1}):_.length===2?($=m(_[0]),P=m(_[1]),function(J){return $(J[0])&&P(J[1])&&J.length===2}):(x=_.map(m),function(J){for(let ar=0;ar<x.length;ar++)if(!x[ar](J[ar]))return!1;return J.length===x.length})}function C(_,x){return x<_.length?_[x]:A(_)?K(_):null}function y(_,x){const $=C(_,x);return $?w($):new Set}function M(_){return _.conversion===null||_.conversion===void 0}function S(_,x){const $=new Set;return _.forEach(P=>{const Q=y(P.params,x);let J;for(J of Q)$.add(J)}),$.has("any")?["any"]:Array.from($)}function B(_,x,$){let P,Q;const J=_||"unnamed";let ar=$,tr;for(tr=0;tr<x.length;tr++){const Tr=[];if(ar.forEach(qr=>{const Xr=C(qr.params,tr),Gr=m(Xr);(tr<qr.params.length||A(qr.params))&&Gr(x[tr])&&Tr.push(qr)}),Tr.length===0){if(Q=S(ar,tr),Q.length>0){const qr=a(x[tr]);return P=new TypeError("Unexpected type of argument in function "+J+" (expected: "+Q.join(" or ")+", actual: "+qr.join(" | ")+", index: "+tr+")"),P.data={category:"wrongType",fn:J,index:tr,actual:qr,expected:Q},P}}else ar=Tr}const ir=ar.map(function(Tr){return A(Tr.params)?1/0:Tr.params.length});if(x.length<Math.min.apply(null,ir))return Q=S(ar,tr),P=new TypeError("Too few arguments in function "+J+" (expected: "+Q.join(" or ")+", index: "+x.length+")"),P.data={category:"tooFewArgs",fn:J,index:x.length,expected:Q},P;const er=Math.max.apply(null,ir);if(x.length>er)return P=new TypeError("Too many arguments in function "+J+" (expected: "+er+", actual: "+x.length+")"),P.data={category:"tooManyArgs",fn:J,index:x.length,expectedLength:er},P;const Mr=[];for(let Tr=0;Tr<x.length;++Tr)Mr.push(a(x[Tr]).join("|"));return P=new TypeError('Arguments of type "'+Mr.join(", ")+'" do not match any of the defined signatures of function '+J+"."),P.data={category:"mismatch",actual:Mr},P}function O(_){let x=n.length+1;for(let $=0;$<_.types.length;$++)M(_.types[$])&&(x=Math.min(x,_.types[$].typeIndex));return x}function z(_){let x=u+1;for(let $=0;$<_.types.length;$++)M(_.types[$])||(x=Math.min(x,_.types[$].conversionIndex));return x}function I(_,x){if(_.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(_.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(_.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const $=O(_)-O(x);if($<0)return-1;if($>0)return 1;const P=z(_)-z(x);return P<0?-1:P>0?1:0}function N(_,x){const $=_.params,P=x.params,Q=K($),J=K(P),ar=A($),tr=A(P);if(ar&&Q.hasAny){if(!tr||!J.hasAny)return 1}else if(tr&&J.hasAny)return-1;let ir=0,er=0,Mr;for(Mr of $)Mr.hasAny&&++ir,Mr.hasConversion&&++er;let Tr=0,qr=0;for(Mr of P)Mr.hasAny&&++Tr,Mr.hasConversion&&++qr;if(ir!==Tr)return ir-Tr;if(ar&&Q.hasConversion){if(!tr||!J.hasConversion)return 1}else if(tr&&J.hasConversion)return-1;if(er!==qr)return er-qr;if(ar){if(!tr)return 1}else if(tr)return-1;const Xr=($.length-P.length)*(ar?-1:1);if(Xr!==0)return Xr;const Gr=[];let te=0;for(let be=0;be<$.length;++be){const je=I($[be],P[be]);Gr.push(je),te+=je}if(te!==0)return te;let ne;for(ne of Gr)if(ne!==0)return ne;return 0}function Y(_){if(_.length===0)return[];const x=_.map(h);_.length>1&&x.sort((Q,J)=>Q.index-J.index);let $=x[0].conversionsTo;if(_.length===1)return $;$=$.concat([]);const P=new Set(_);for(let Q=1;Q<x.length;++Q){let J;for(J of x[Q].conversionsTo)P.has(J.from)||($.push(J),P.add(J.from))}return $}function q(_,x){let $=x;if(_.some(Q=>Q.hasConversion)){const Q=A(_),J=_.map(T);$=function(){const tr=[],ir=Q?arguments.length-1:arguments.length;for(let er=0;er<ir;er++)tr[er]=J[er](arguments[er]);return Q&&(tr[ir]=arguments[ir].map(J[ir])),x.apply(this,tr)}}let P=$;if(A(_)){const Q=_.length-1;P=function(){return $.apply(this,G(arguments,0,Q).concat([G(arguments,Q)]))}}return P}function T(_){let x,$,P,Q;const J=[],ar=[];switch(_.types.forEach(function(tr){tr.conversion&&(J.push(h(tr.conversion.from).test),ar.push(tr.conversion.convert))}),ar.length){case 0:return function(ir){return ir};case 1:return x=J[0],P=ar[0],function(ir){return x(ir)?P(ir):ir};case 2:return x=J[0],$=J[1],P=ar[0],Q=ar[1],function(ir){return x(ir)?P(ir):$(ir)?Q(ir):ir};default:return function(ir){for(let er=0;er<ar.length;er++)if(J[er](ir))return ar[er](ir);return ir}}}function Z(_){function x($,P,Q){if(P<$.length){const J=$[P];let ar=[];if(J.restParam){const tr=J.types.filter(M);tr.length<J.types.length&&ar.push({types:tr,name:"..."+tr.map(ir=>ir.name).join("|"),hasAny:tr.some(ir=>ir.isAny),hasConversion:!1,restParam:!0}),ar.push(J)}else ar=J.types.map(function(tr){return{types:[tr],name:tr.name,hasAny:tr.isAny,hasConversion:tr.conversion,restParam:!1}});return j(ar,function(tr){return x($,P+1,Q.concat([tr]))})}else return[Q]}return x(_,0,[])}function W(_,x){const $=Math.max(_.length,x.length);for(let tr=0;tr<$;tr++){const ir=y(_,tr),er=y(x,tr);let Mr=!1,Tr;for(Tr of er)if(ir.has(Tr)){Mr=!0;break}if(!Mr)return!1}const P=_.length,Q=x.length,J=A(_),ar=A(x);return J?ar?P===Q:Q>=P:ar?P>=Q:P===Q}function U(_){return _.map(x=>Dr(x)?pr(x.referToSelf.callback):mr(x)?cr(x.referTo.references,x.referTo.callback):x)}function R(_,x,$){const P=[];let Q;for(Q of _){let J=$[Q];if(typeof J!="number")throw new TypeError('No definition for referenced signature "'+Q+'"');if(J=x[J],typeof J!="function")return!1;P.push(J)}return P}function V(_,x,$){const P=U(_),Q=new Array(P.length).fill(!1);let J=!0;for(;J;){J=!1;let ar=!0;for(let tr=0;tr<P.length;++tr){if(Q[tr])continue;const ir=P[tr];if(Dr(ir))P[tr]=ir.referToSelf.callback($),P[tr].referToSelf=ir.referToSelf,Q[tr]=!0,ar=!1;else if(mr(ir)){const er=R(ir.referTo.references,P,x);er?(P[tr]=ir.referTo.callback.apply(this,er),P[tr].referTo=ir.referTo,Q[tr]=!0,ar=!1):J=!0}}if(ar&&J)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function nr(_){const x=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach($=>{const P=_[$];if(x.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function k(_,x){if(s.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&nr(x);const $=[],P=[],Q={},J=[];let ar;for(ar in x){if(!Object.prototype.hasOwnProperty.call(x,ar))continue;const br=F(ar);if(!br)continue;$.forEach(function(Ue){if(W(Ue,br))throw new TypeError('Conflicting signatures "'+g(Ue)+'" and "'+g(br)+'".')}),$.push(br);const Kr=P.length;P.push(x[ar]);const ru=br.map(E);let rt;for(rt of Z(ru)){const Ue=g(rt);J.push({params:rt,name:Ue,fn:Kr}),rt.every(eu=>!eu.hasConversion)&&(Q[Ue]=Kr)}}J.sort(N);const tr=V(P,Q,Re);let ir;for(ir in Q)Object.prototype.hasOwnProperty.call(Q,ir)&&(Q[ir]=tr[Q[ir]]);const er=[],Mr=new Map;for(ir of J)Mr.has(ir.name)||(ir.fn=tr[ir.fn],er.push(ir),Mr.set(ir.name,ir));const Tr=er[0]&&er[0].params.length<=2&&!A(er[0].params),qr=er[1]&&er[1].params.length<=2&&!A(er[1].params),Xr=er[2]&&er[2].params.length<=2&&!A(er[2].params),Gr=er[3]&&er[3].params.length<=2&&!A(er[3].params),te=er[4]&&er[4].params.length<=2&&!A(er[4].params),ne=er[5]&&er[5].params.length<=2&&!A(er[5].params),be=Tr&&qr&&Xr&&Gr&&te&&ne;for(let br=0;br<er.length;++br)er[br].test=b(er[br].params);const je=Tr?m(er[0].params[0]):jr,Ma=qr?m(er[1].params[0]):jr,Sa=Xr?m(er[2].params[0]):jr,_a=Gr?m(er[3].params[0]):jr,Ba=te?m(er[4].params[0]):jr,Na=ne?m(er[5].params[0]):jr,xa=Tr?m(er[0].params[1]):jr,Ta=qr?m(er[1].params[1]):jr,za=Xr?m(er[2].params[1]):jr,Oa=Gr?m(er[3].params[1]):jr,Ia=te?m(er[4].params[1]):jr,$a=ne?m(er[5].params[1]):jr;for(let br=0;br<er.length;++br)er[br].implementation=q(er[br].params,er[br].fn);const qa=Tr?er[0].implementation:Me,Pa=qr?er[1].implementation:Me,Ra=Xr?er[2].implementation:Me,Ua=Gr?er[3].implementation:Me,La=te?er[4].implementation:Me,Za=ne?er[5].implementation:Me,Va=Tr?er[0].params.length:-1,Ya=qr?er[1].params.length:-1,Ja=Xr?er[2].params.length:-1,Ga=Gr?er[3].params.length:-1,Qa=te?er[4].params.length:-1,Xa=ne?er[5].params.length:-1,Ka=be?6:0,Wa=er.length,Ha=er.map(br=>br.test),ka=er.map(br=>br.implementation),ja=function(){for(let Kr=Ka;Kr<Wa;Kr++)if(Ha[Kr](arguments))return ka[Kr].apply(this,arguments);return s.onMismatch(_,arguments,er)};function Re(br,Kr){return arguments.length===Va&&je(br)&&xa(Kr)?qa.apply(this,arguments):arguments.length===Ya&&Ma(br)&&Ta(Kr)?Pa.apply(this,arguments):arguments.length===Ja&&Sa(br)&&za(Kr)?Ra.apply(this,arguments):arguments.length===Ga&&_a(br)&&Oa(Kr)?Ua.apply(this,arguments):arguments.length===Qa&&Ba(br)&&Ia(Kr)?La.apply(this,arguments):arguments.length===Xa&&Na(br)&&$a(Kr)?Za.apply(this,arguments):ja.apply(this,arguments)}try{Object.defineProperty(Re,"name",{value:_})}catch{}return Re.signatures=Q,Re._typedFunctionData={signatures:er,signatureMap:Mr},Re}function L(_,x,$){throw B(_,x,$)}function X(_){return G(_,0,_.length-1)}function K(_){return _[_.length-1]}function G(_,x,$){return Array.prototype.slice.call(_,x,$)}function ur(_,x){for(let $=0;$<_.length;$++)if(x(_[$]))return _[$]}function j(_,x){return Array.prototype.concat.apply([],_.map(x))}function or(){const _=X(arguments).map($=>g(F($))),x=K(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return cr(_,x)}function cr(_,x){return{referTo:{references:_,callback:x}}}function pr(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function mr(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Dr(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function lr(_,x){if(!_)return x;if(x&&x!==_){const $=new Error("Function names do not match (expected: "+_+", actual: "+x+")");throw $.data={actual:x,expected:_},$}return _}function Ar(_){let x;for(const $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(f(_[$])||typeof _[$].signature=="string")&&(x=lr(x,_[$].name));return x}function yr(_,x){let $;for($ in x)if(Object.prototype.hasOwnProperty.call(x,$)){if($ in _&&x[$]!==_[$]){const P=new Error('Signature "'+$+'" is defined twice');throw P.data={signature:$,sourceFunction:x[$],destFunction:_[$]},P}_[$]=x[$]}}const Cr=s;s=function(_){const x=typeof _=="string",$=x?1:0;let P=x?_:"";const Q={};for(let J=$;J<arguments.length;++J){const ar=arguments[J];let tr={},ir;if(typeof ar=="function"?(ir=ar.name,typeof ar.signature=="string"?tr[ar.signature]=ar:f(ar)&&(tr=ar.signatures)):r(ar)&&(tr=ar,x||(ir=Ar(ar))),Object.keys(tr).length===0){const er=new TypeError("Argument to 'typed' at index "+J+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw er.data={index:J,argument:ar},er}x||(P=lr(P,ir)),yr(Q,tr)}return k(P||"",Q)},s.create=Ci,s.createCount=Cr.createCount,s.onMismatch=L,s.throwMismatchError=L,s.createError=B,s.clear=c,s.clearConversions=o,s.addTypes=l,s._findType=h,s.referTo=or,s.referToSelf=pr,s.convert=p,s.findSignature=v,s.find=d,s.isTypedFunction=f,s.warnAgainstDeprecatedThis=!0,s.addType=function(_,x){let $="any";x!==!1&&i.has("Object")&&($="Object"),s.addTypes([_],$)};function Pr(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return s.addConversion=function(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Pr(_);const $=h(_.to),P=$.conversionsTo.find(Q=>Q.from===_.from);if(P)if(x&&x.override)s.removeConversion({from:P.from,to:_.to,convert:P.convert});else throw new Error('There is already a conversion from "'+_.from+'" to "'+$.name+'"');$.conversionsTo.push({from:_.from,convert:_.convert,index:u++})},s.addConversions=function(_,x){_.forEach($=>s.addConversion($,x))},s.removeConversion=function(_){Pr(_);const x=h(_.to),$=ur(x.conversionsTo,Q=>Q.from===_.from);if(!$)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if($.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const P=x.conversionsTo.indexOf($);x.conversionsTo.splice(P,1)},s.resolve=function(_,x){if(!f(_))throw new TypeError(cn);const $=_._typedFunctionData.signatures;for(let P=0;P<$.length;++P)if($[P].test(x))return $[P];return null},s}const ln=Ci();function Nr(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var zu=Math.sign||function(r){return r>0?1:r<0?-1:0};function xt(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Nr(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Nr(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),u="i".concat(t)}var s="";return r<0&&(r=-r,s="-"),"".concat(s).concat(n).concat(r.toString(e)).concat(u)}function zt(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:i,wordSize:n}=bi(e);switch(t){case"fixed":return Iu(r,i);case"exponential":return Mi(r,i);case"engineering":return Ou(r,i);case"bin":return xt(r,2,n);case"oct":return xt(r,8,n);case"hex":return xt(r,16,n);case"auto":return $u(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],s=arguments[4];return u!=="."?u+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bi(r){var e="auto",t,i;if(r!==void 0)if(Br(r))t=r;else if(Ir(r))t=r.toNumber();else if(Gt(r))r.precision!==void 0&&(t=vn(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=vn(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:i}}function At(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(h){return n-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return s.length===0&&(s.push(0),n++),{sign:t,coefficients:s,exponent:n}}function Ou(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=At(r),i=Et(t,e),n=i.exponent,u=i.coefficients,s=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Br(e))for(;e>u.length||n-s+1>u.length;)u.push(0);else for(var h=Math.abs(n-s)-(u.length-1),l=0;l<h;l++)u.push(0);for(var c=Math.abs(n-s),o=1;c>0;)o++,c--;var a=u.slice(o).join(""),f=Br(e)&&a.length||a.match(/[1-9]/)?"."+a:"",v=u.slice(0,o).join("")+f+"e"+(n>=0?"+":"")+s.toString();return i.sign+v}function Iu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=At(r),i=typeof e=="number"?Et(t,t.exponent+1+e):t,n=i.coefficients,u=i.exponent+1,s=u+(e||0);return n.length<s&&(n=n.concat(Be(s-n.length))),u<0&&(n=Be(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Mi(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=At(r),i=e?Et(t,e):t,n=i.coefficients,u=i.exponent;n.length<e&&(n=n.concat(Be(e-n.length)));var s=n.shift();return i.sign+s+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function $u(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=hn(t==null?void 0:t.lowerExp,-3),n=hn(t==null?void 0:t.upperExp,5),u=At(r),s=e?Et(u,e):u;if(s.exponent<i||s.exponent>=n)return Mi(r,e);var h=s.coefficients,l=s.exponent;h.length<e&&(h=h.concat(Be(e-h.length))),h=h.concat(Be(l-h.length+1+(h.length<e?e-h.length:0))),h=Be(-l).concat(h);var c=l>0?l:0;return c<h.length-1&&h.splice(c+1,0,"."),s.sign+h.join("")}function Et(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var u=e-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),t.exponent++,u++),u--,i[u]++}}return t}function Be(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function qu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function le(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),i)}function vn(r,e){if(Br(r))return r;if(Ir(r))return r.toNumber();e()}function hn(r,e){return Br(r)?r:Ir(r)?r.toNumber():e}function rr(r,e,t,i){function n(u){var s=Nu(u,e.map(Uu));return Pu(r,e,u),t(s)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Pu(r,e,t){var i=e.filter(u=>!Ru(u)).every(u=>t[u]!==void 0);if(!i){var n=e.filter(u=>t[u]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Ru(r){return r&&r[0]==="?"}function Uu(r){return r&&r[0]==="?"?r.slice(1):r}function Si(r,e){if(Ni(r)&&Bi(r,e))return r[e];throw typeof r[e]=="function"&&Zu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function _i(r,e,t){if(Ni(r)&&Bi(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Lu(r,e){return e in r}function Bi(r,e){return!r||typeof r!="object"?!1:Ze(Vu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Zu(r,e){return r==null||typeof r[e]!="function"||Ze(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Ze(Yu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ni(r){return typeof r=="object"&&r&&r.constructor===Object}var Vu={length:!0,name:!0},Yu={toString:!0,valueOf:!0,toLocaleString:!0};class Ju{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return Si(this.wrappedObject,e)}set(e,t){return _i(this.wrappedObject,e,t),this}has(e){return Lu(this.wrappedObject,e)}entries(){return Gu(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Gu(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function Qu(r){return r?r instanceof Map||r instanceof Ju||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var xi=function(){return xi=ln.create,ln},Xu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ku=rr("typed",Xu,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:u}=e,s=xi();return s.clear(),s.addTypes([{name:"number",test:Br},{name:"Complex",test:Yt},{name:"BigNumber",test:Ir},{name:"bigint",test:tu},{name:"Fraction",test:Jt},{name:"Unit",test:wi},{name:"identifier",test:h=>re&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(h)},{name:"string",test:re},{name:"Chain",test:Su},{name:"Array",test:Fr},{name:"Matrix",test:_r},{name:"DenseMatrix",test:Ai},{name:"SparseMatrix",test:Ei},{name:"Range",test:Fi},{name:"Index",test:wt},{name:"boolean",test:nu},{name:"ResultSet",test:iu},{name:"Help",test:au},{name:"function",test:uu},{name:"Date",test:ou},{name:"RegExp",test:su},{name:"null",test:fu},{name:"undefined",test:cu},{name:"AccessorNode",test:lu},{name:"ArrayNode",test:vu},{name:"AssignmentNode",test:hu},{name:"BlockNode",test:pu},{name:"ConditionalNode",test:du},{name:"ConstantNode",test:mu},{name:"FunctionNode",test:gu},{name:"FunctionAssignmentNode",test:Du},{name:"IndexNode",test:yu},{name:"Node",test:wu},{name:"ObjectNode",test:Au},{name:"OperatorNode",test:Eu},{name:"ParenthesisNode",test:Fu},{name:"RangeNode",test:Cu},{name:"RelationalNode",test:bu},{name:"SymbolNode",test:Mu},{name:"Map",test:Qu},{name:"Object",test:Gt}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||et(l),qu(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return i||tt(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||tt(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||et(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||nt(l),new u(l.toString())}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||tt(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||nt(l);var c=new u(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||et(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||nt(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||tt(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||et(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||nt(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||Wu(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(h,l,c)=>{var o=s.createError(h,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&st(l[0])&&c.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},s.onMismatch=(h,l,c)=>{var o=s.createError(h,l,c);if(["wrongType","mismatch"].includes(o.data.category)&&l.length===1&&st(l[0])&&c.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw a.data=o.data,a}throw o},s});function et(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function tt(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Wu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function nt(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Se=9e15,ye=1e9,Ot="0123456789abcdef",ft="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ct="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",It={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Se,maxE:Se,crypto:!1},Ti,fe,dr=!0,Ft="[DecimalError] ",ge=Ft+"Invalid argument: ",zi=Ft+"Precision limit exceeded",Oi=Ft+"crypto unavailable",Ii="[object Decimal]",Jr=Math.floor,Rr=Math.pow,Hu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ku=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ju=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,$i=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ae=1e7,hr=7,ro=9007199254740991,eo=ft.length-1,$t=ct.length-1,H={toStringTag:Ii};H.absoluteValue=H.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),vr(r)};H.ceil=function(){return vr(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(ge+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};H.comparedTo=H.cmp=function(r){var e,t,i,n,u=this,s=u.d,h=(r=new u.constructor(r)).d,l=u.s,c=r.s;if(!s||!h)return!l||!c?NaN:l!==c?l:s===h?0:!s^l<0?1:-1;if(!s[0]||!h[0])return s[0]?l:h[0]?-c:0;if(l!==c)return l;if(u.e!==r.e)return u.e>r.e^l<0?1:-1;for(i=s.length,n=h.length,e=0,t=i<n?i:n;e<t;++e)if(s[e]!==h[e])return s[e]>h[e]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1};H.cosine=H.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+hr,i.rounding=1,t=to(i,Li(i,t)),i.precision=r,i.rounding=e,vr(fe==2||fe==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};H.cubeRoot=H.cbrt=function(){var r,e,t,i,n,u,s,h,l,c,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);for(dr=!1,u=o.s*Rr(o.s*o,1/3),!u||Math.abs(u)==1/0?(t=Zr(o.d),r=o.e,(u=(r-t.length+1)%3)&&(t+=u==1||u==-2?"0":"00"),u=Rr(t,1/3),r=Jr((r+1)/3)-(r%3==(r<0?-1:2)),u==1/0?t="5e"+r:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new a(t),i.s=o.s):i=new a(u.toString()),s=(r=a.precision)+3;;)if(h=i,l=h.times(h).times(h),c=l.plus(o),i=xr(c.plus(o).times(h),c.plus(l),s+2,1),Zr(h.d).slice(0,s)===(t=Zr(i.d)).slice(0,s))if(t=t.slice(s-3,s+1),t=="9999"||!n&&t=="4999"){if(!n&&(vr(h,r+1,0),h.times(h).times(h).eq(o))){i=h;break}s+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(vr(i,r+1,1),e=!i.times(i).times(i).eq(o));break}return dr=!0,vr(i,r,a.rounding,e)};H.decimalPlaces=H.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Jr(this.e/hr))*hr,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};H.dividedBy=H.div=function(r){return xr(this,new this.constructor(r))};H.dividedToIntegerBy=H.divToInt=function(r){var e=this,t=e.constructor;return vr(xr(e,new t(r),0,1,1),t.precision,t.rounding)};H.equals=H.eq=function(r){return this.cmp(r)===0};H.floor=function(){return vr(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(r){return this.cmp(r)>0};H.greaterThanOrEqualTo=H.gte=function(r){var e=this.cmp(r);return e==1||e===0};H.hyperbolicCosine=H.cosh=function(){var r,e,t,i,n,u=this,s=u.constructor,h=new s(1);if(!u.isFinite())return new s(u.s?1/0:NaN);if(u.isZero())return h;t=s.precision,i=s.rounding,s.precision=t+Math.max(u.e,u.sd())+4,s.rounding=1,n=u.d.length,n<32?(r=Math.ceil(n/3),e=(1/bt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),u=xe(s,1,u.times(e),new s(1),!0);for(var l,c=r,o=new s(8);c--;)l=u.times(u),u=h.minus(l.times(o.minus(l.times(o))));return vr(u,s.precision=t,s.rounding=i,!0)};H.hyperbolicSine=H.sinh=function(){var r,e,t,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(e=u.precision,t=u.rounding,u.precision=e+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=xe(u,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/bt(5,r)),n=xe(u,2,n,n,!0);for(var s,h=new u(5),l=new u(16),c=new u(20);r--;)s=n.times(n),n=n.times(h.plus(s.times(l.times(s).plus(c))))}return u.precision=e,u.rounding=t,vr(n,e,t,!0)};H.hyperbolicTangent=H.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,xr(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};H.inverseCosine=H.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,u=t.rounding;return i!==-1?i===0?e.isNeg()?ie(t,n,u):new t(0):new t(NaN):e.isZero()?ie(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=ie(t,n+4,u).times(.5),t.precision=n,t.rounding=u,r.minus(e))};H.inverseHyperbolicCosine=H.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,dr=!1,t=t.times(t).minus(1).sqrt().plus(t),dr=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};H.inverseHyperbolicSine=H.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,dr=!1,t=t.times(t).plus(1).sqrt().plus(t),dr=!0,i.precision=r,i.rounding=e,t.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var r,e,t,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=u.precision,e=u.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?vr(new u(n),r,e,!0):(u.precision=t=i-n.e,n=xr(n.plus(1),new u(1).minus(n),t+r,1),u.precision=r+4,u.rounding=1,n=n.ln(),u.precision=r,u.rounding=e,n.times(.5))):new u(NaN)};H.inverseSine=H.asin=function(){var r,e,t,i,n=this,u=n.constructor;return n.isZero()?new u(n):(e=n.abs().cmp(1),t=u.precision,i=u.rounding,e!==-1?e===0?(r=ie(u,t+4,i).times(.5),r.s=n.s,r):new u(NaN):(u.precision=t+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=t,u.rounding=i,n.times(2)))};H.inverseTangent=H.atan=function(){var r,e,t,i,n,u,s,h,l,c=this,o=c.constructor,a=o.precision,f=o.rounding;if(c.isFinite()){if(c.isZero())return new o(c);if(c.abs().eq(1)&&a+4<=$t)return s=ie(o,a+4,f).times(.25),s.s=c.s,s}else{if(!c.s)return new o(NaN);if(a+4<=$t)return s=ie(o,a+4,f).times(.5),s.s=c.s,s}for(o.precision=h=a+10,o.rounding=1,t=Math.min(28,h/hr+2|0),r=t;r;--r)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(dr=!1,e=Math.ceil(h/hr),i=1,l=c.times(c),s=new o(c),n=c;r!==-1;)if(n=n.times(l),u=s.minus(n.div(i+=2)),n=n.times(l),s=u.plus(n.div(i+=2)),s.d[e]!==void 0)for(r=e;s.d[r]===u.d[r]&&r--;);return t&&(s=s.times(2<<t-1)),dr=!0,vr(s,o.precision=a,o.rounding=f,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&Jr(this.e/hr)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(r){return this.cmp(r)<0};H.lessThanOrEqualTo=H.lte=function(r){return this.cmp(r)<1};H.logarithm=H.log=function(r){var e,t,i,n,u,s,h,l,c=this,o=c.constructor,a=o.precision,f=o.rounding,v=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new o(t&&!t[0]?-1/0:c.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)u=!0;else{for(n=t[0];n%10===0;)n/=10;u=n!==1}if(dr=!1,h=a+v,s=me(c,h),i=e?lt(o,h+10):me(r,h),l=xr(s,i,h,1),Ve(l.d,n=a,f))do if(h+=10,s=me(c,h),i=e?lt(o,h+10):me(r,h),l=xr(s,i,h,1),!u){+Zr(l.d).slice(n+1,n+15)+1==1e14&&(l=vr(l,a+1,0));break}while(Ve(l.d,n+=10,f));return dr=!0,vr(l,a,f)};H.minus=H.sub=function(r){var e,t,i,n,u,s,h,l,c,o,a,f,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return!v.s||!r.s?r=new d(NaN):v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(c=v.d,f=r.d,h=d.precision,l=d.rounding,!c[0]||!f[0]){if(f[0])r.s=-r.s;else if(c[0])r=new d(v);else return new d(l===3?-0:0);return dr?vr(r,h,l):r}if(t=Jr(r.e/hr),o=Jr(v.e/hr),c=c.slice(),u=o-t,u){for(a=u<0,a?(e=c,u=-u,s=f.length):(e=f,t=o,s=c.length),i=Math.max(Math.ceil(h/hr),s)+2,u>i&&(u=i,e.length=1),e.reverse(),i=u;i--;)e.push(0);e.reverse()}else{for(i=c.length,s=f.length,a=i<s,a&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){a=c[i]<f[i];break}u=0}for(a&&(e=c,c=f,f=e,r.s=-r.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>u;){if(c[--i]<f[i]){for(n=i;n&&c[--n]===0;)c[n]=ae-1;--c[n],c[i]+=ae}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(r.d=c,r.e=Ct(c,t),dr?vr(r,h,l):r):new d(l===3?-0:0)};H.modulo=H.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?vr(new i(t),i.precision,i.rounding):(dr=!1,i.modulo==9?(e=xr(t,r.abs(),0,3,1),e.s*=r.s):e=xr(t,r,0,i.modulo,1),e=e.times(r),dr=!0,t.minus(e))};H.naturalExponential=H.exp=function(){return qt(this)};H.naturalLogarithm=H.ln=function(){return me(this)};H.negated=H.neg=function(){var r=new this.constructor(this);return r.s=-r.s,vr(r)};H.plus=H.add=function(r){var e,t,i,n,u,s,h,l,c,o,a=this,f=a.constructor;if(r=new f(r),!a.d||!r.d)return!a.s||!r.s?r=new f(NaN):a.d||(r=new f(r.d||a.s===r.s?a:NaN)),r;if(a.s!=r.s)return r.s=-r.s,a.minus(r);if(c=a.d,o=r.d,h=f.precision,l=f.rounding,!c[0]||!o[0])return o[0]||(r=new f(a)),dr?vr(r,h,l):r;if(u=Jr(a.e/hr),i=Jr(r.e/hr),c=c.slice(),n=u-i,n){for(n<0?(t=c,n=-n,s=o.length):(t=o,i=u,s=c.length),u=Math.ceil(h/hr),s=u>s?u+1:s+1,n>s&&(n=s,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(s=c.length,n=o.length,s-n<0&&(n=s,t=o,o=c,c=t),e=0;n;)e=(c[--n]=c[n]+o[n]+e)/ae|0,c[n]%=ae;for(e&&(c.unshift(e),++i),s=c.length;c[--s]==0;)c.pop();return r.d=c,r.e=Ct(c,i),dr?vr(r,h,l):r};H.precision=H.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(ge+r);return t.d?(e=qi(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};H.round=function(){var r=this,e=r.constructor;return vr(new e(r),r.e+1,e.rounding)};H.sine=H.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+hr,i.rounding=1,t=io(i,Li(i,t)),i.precision=r,i.rounding=e,vr(fe>2?t.neg():t,r,e,!0)):new i(NaN)};H.squareRoot=H.sqrt=function(){var r,e,t,i,n,u,s=this,h=s.d,l=s.e,c=s.s,o=s.constructor;if(c!==1||!h||!h[0])return new o(!c||c<0&&(!h||h[0])?NaN:h?s:1/0);for(dr=!1,c=Math.sqrt(+s),c==0||c==1/0?(e=Zr(h),(e.length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=Jr((l+1)/2)-(l<0||l%2),c==1/0?e="5e"+l:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),i=new o(e)):i=new o(c.toString()),t=(l=o.precision)+3;;)if(u=i,i=u.plus(xr(s,u,t+2,1)).times(.5),Zr(u.d).slice(0,t)===(e=Zr(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(vr(u,l+1,0),u.times(u).eq(s))){i=u;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(vr(i,l+1,1),r=!i.times(i).eq(s));break}return dr=!0,vr(i,l,o.rounding,r)};H.tangent=H.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=xr(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,vr(fe==2||fe==4?t.neg():t,r,e,!0)):new i(NaN)};H.times=H.mul=function(r){var e,t,i,n,u,s,h,l,c,o=this,a=o.constructor,f=o.d,v=(r=new a(r)).d;if(r.s*=o.s,!f||!f[0]||!v||!v[0])return new a(!r.s||f&&!f[0]&&!v||v&&!v[0]&&!f?NaN:!f||!v?r.s/0:r.s*0);for(t=Jr(o.e/hr)+Jr(r.e/hr),l=f.length,c=v.length,l<c&&(u=f,f=v,v=u,s=l,l=c,c=s),u=[],s=l+c,i=s;i--;)u.push(0);for(i=c;--i>=0;){for(e=0,n=l+i;n>i;)h=u[n]+v[i]*f[n-i-1]+e,u[n--]=h%ae|0,e=h/ae|0;u[n]=(u[n]+e)%ae|0}for(;!u[--s];)u.pop();return e?++t:u.shift(),r.d=u,r.e=Ct(u,t),dr?vr(r,a.precision,a.rounding):r};H.toBinary=function(r,e){return Qt(this,2,r,e)};H.toDecimalPlaces=H.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(Wr(r,0,ye),e===void 0?e=i.rounding:Wr(e,0,8),vr(t,r+t.e+1,e))};H.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=oe(i,!0):(Wr(r,0,ye),e===void 0?e=n.rounding:Wr(e,0,8),i=vr(new n(i),r+1,e),t=oe(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};H.toFixed=function(r,e){var t,i,n=this,u=n.constructor;return r===void 0?t=oe(n):(Wr(r,0,ye),e===void 0?e=u.rounding:Wr(e,0,8),i=vr(new u(n),r+n.e+1,e),t=oe(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};H.toFraction=function(r){var e,t,i,n,u,s,h,l,c,o,a,f,v=this,d=v.d,p=v.constructor;if(!d)return new p(v);if(c=t=new p(1),i=l=new p(0),e=new p(i),u=e.e=qi(d)-v.e-1,s=u%hr,e.d[0]=Rr(10,s<0?hr+s:s),r==null)r=u>0?e:c;else{if(h=new p(r),!h.isInt()||h.lt(c))throw Error(ge+h);r=h.gt(e)?u>0?e:c:h}for(dr=!1,h=new p(Zr(d)),o=p.precision,p.precision=u=d.length*hr*2;a=xr(h,e,0,1,1),n=t.plus(a.times(i)),n.cmp(r)!=1;)t=i,i=n,n=c,c=l.plus(a.times(n)),l=n,n=e,e=h.minus(a.times(n)),h=n;return n=xr(r.minus(t),i,0,1,1),l=l.plus(n.times(c)),t=t.plus(n.times(i)),l.s=c.s=v.s,f=xr(c,i,u,1).minus(v).abs().cmp(xr(l,t,u,1).minus(v).abs())<1?[c,i]:[l,t],p.precision=o,dr=!0,f};H.toHexadecimal=H.toHex=function(r,e){return Qt(this,16,r,e)};H.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Wr(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(dr=!1,t=xr(t,r,0,e,1).times(r),dr=!0,vr(t)):(r.s=t.s,t=r),t};H.toNumber=function(){return+this};H.toOctal=function(r,e){return Qt(this,8,r,e)};H.toPower=H.pow=function(r){var e,t,i,n,u,s,h=this,l=h.constructor,c=+(r=new l(r));if(!h.d||!r.d||!h.d[0]||!r.d[0])return new l(Rr(+h,c));if(h=new l(h),h.eq(1))return h;if(i=l.precision,u=l.rounding,r.eq(1))return vr(h,i,u);if(e=Jr(r.e/hr),e>=r.d.length-1&&(t=c<0?-c:c)<=ro)return n=Pi(l,h,t,i),r.s<0?new l(1).div(n):vr(n,i,u);if(s=h.s,s<0){if(e<r.d.length-1)return new l(NaN);if(r.d[e]&1||(s=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=s,h}return t=Rr(+h,c),e=t==0||!isFinite(t)?Jr(c*(Math.log("0."+Zr(h.d))/Math.LN10+h.e+1)):new l(t+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(dr=!1,l.rounding=h.s=1,t=Math.min(12,(e+"").length),n=qt(r.times(me(h,i+t)),i),n.d&&(n=vr(n,i+5,1),Ve(n.d,i,u)&&(e=i+10,n=vr(qt(r.times(me(h,e+t)),e),e+5,1),+Zr(n.d).slice(i+1,i+15)+1==1e14&&(n=vr(n,i+1,0)))),n.s=s,dr=!0,l.rounding=u,vr(n,i,u))};H.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=oe(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Wr(r,1,ye),e===void 0?e=n.rounding:Wr(e,0,8),i=vr(new n(i),r,e),t=oe(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};H.toSignificantDigits=H.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Wr(r,1,ye),e===void 0?e=i.rounding:Wr(e,0,8)),vr(new i(t),r,e)};H.toString=function(){var r=this,e=r.constructor,t=oe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};H.truncated=H.trunc=function(){return vr(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var r=this,e=r.constructor,t=oe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Zr(r){var e,t,i,n=r.length-1,u="",s=r[0];if(n>0){for(u+=s,e=1;e<n;e++)i=r[e]+"",t=hr-i.length,t&&(u+=pe(t)),u+=i;s=r[e],i=s+"",t=hr-i.length,t&&(u+=pe(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return u+s}function Wr(r,e,t){if(r!==~~r||r<e||r>t)throw Error(ge+r)}function Ve(r,e,t,i){var n,u,s,h;for(u=r[0];u>=10;u/=10)--e;return--e<0?(e+=hr,n=0):(n=Math.ceil((e+1)/hr),e%=hr),u=Rr(10,hr-e),h=r[n]%u|0,i==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),s=t<4&&h==99999||t>3&&h==49999||h==5e4||h==0):s=(t<4&&h+1==u||t>3&&h+1==u/2)&&(r[n+1]/u/100|0)==Rr(10,e-2)-1||(h==u/2||h==0)&&(r[n+1]/u/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),s=(i||t<4)&&h==9999||!i&&t>3&&h==4999):s=((i||t<4)&&h+1==u||!i&&t>3&&h+1==u/2)&&(r[n+1]/u/1e3|0)==Rr(10,e-3)-1,s}function it(r,e,t){for(var i,n=[0],u,s=0,h=r.length;s<h;){for(u=n.length;u--;)n[u]*=e;for(n[0]+=Ot.indexOf(r.charAt(s++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function to(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/bt(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=xe(r,1,e.times(n),new r(1));for(var u=t;u--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return r.precision-=t,e}var xr=function(){function r(i,n,u){var s,h=0,l=i.length;for(i=i.slice();l--;)s=i[l]*n+h,i[l]=s%u|0,h=s/u|0;return h&&i.unshift(h),i}function e(i,n,u,s){var h,l;if(u!=s)l=u>s?1:-1;else for(h=l=0;h<u;h++)if(i[h]!=n[h]){l=i[h]>n[h]?1:-1;break}return l}function t(i,n,u,s){for(var h=0;u--;)i[u]-=h,h=i[u]<n[u]?1:0,i[u]=h*s+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,s,h,l){var c,o,a,f,v,d,p,g,D,E,w,F,A,m,b,C,y,M,S,B,O=i.constructor,z=i.s==n.s?1:-1,I=i.d,N=n.d;if(!I||!I[0]||!N||!N[0])return new O(!i.s||!n.s||(I?N&&I[0]==N[0]:!N)?NaN:I&&I[0]==0||!N?z*0:z/0);for(l?(v=1,o=i.e-n.e):(l=ae,v=hr,o=Jr(i.e/v)-Jr(n.e/v)),S=N.length,y=I.length,D=new O(z),E=D.d=[],a=0;N[a]==(I[a]||0);a++);if(N[a]>(I[a]||0)&&o--,u==null?(m=u=O.precision,s=O.rounding):h?m=u+(i.e-n.e)+1:m=u,m<0)E.push(1),d=!0;else{if(m=m/v+2|0,a=0,S==1){for(f=0,N=N[0],m++;(a<y||f)&&m--;a++)b=f*l+(I[a]||0),E[a]=b/N|0,f=b%N|0;d=f||a<y}else{for(f=l/(N[0]+1)|0,f>1&&(N=r(N,f,l),I=r(I,f,l),S=N.length,y=I.length),C=S,w=I.slice(0,S),F=w.length;F<S;)w[F++]=0;B=N.slice(),B.unshift(0),M=N[0],N[1]>=l/2&&++M;do f=0,c=e(N,w,S,F),c<0?(A=w[0],S!=F&&(A=A*l+(w[1]||0)),f=A/M|0,f>1?(f>=l&&(f=l-1),p=r(N,f,l),g=p.length,F=w.length,c=e(p,w,g,F),c==1&&(f--,t(p,S<g?B:N,g,l))):(f==0&&(c=f=1),p=N.slice()),g=p.length,g<F&&p.unshift(0),t(w,p,F,l),c==-1&&(F=w.length,c=e(N,w,S,F),c<1&&(f++,t(w,S<F?B:N,F,l))),F=w.length):c===0&&(f++,w=[0]),E[a++]=f,c&&w[0]?w[F++]=I[C]||0:(w=[I[C]],F=1);while((C++<y||w[0]!==void 0)&&m--);d=w[0]!==void 0}E[0]||E.shift()}if(v==1)D.e=o,Ti=d;else{for(a=1,f=E[0];f>=10;f/=10)a++;D.e=a+o*v-1,vr(D,h?u+D.e+1:u,s,d)}return D}}();function vr(r,e,t,i){var n,u,s,h,l,c,o,a,f,v=r.constructor;r:if(e!=null){if(a=r.d,!a)return r;for(n=1,h=a[0];h>=10;h/=10)n++;if(u=e-n,u<0)u+=hr,s=e,o=a[f=0],l=o/Rr(10,n-s-1)%10|0;else if(f=Math.ceil((u+1)/hr),h=a.length,f>=h)if(i){for(;h++<=f;)a.push(0);o=l=0,n=1,u%=hr,s=u-hr+1}else break r;else{for(o=h=a[f],n=1;h>=10;h/=10)n++;u%=hr,s=u-hr+n,l=s<0?0:o/Rr(10,n-s-1)%10|0}if(i=i||e<0||a[f+1]!==void 0||(s<0?o:o%Rr(10,n-s-1)),c=t<4?(l||i)&&(t==0||t==(r.s<0?3:2)):l>5||l==5&&(t==4||i||t==6&&(u>0?s>0?o/Rr(10,n-s):0:a[f-1])%10&1||t==(r.s<0?8:7)),e<1||!a[0])return a.length=0,c?(e-=r.e+1,a[0]=Rr(10,(hr-e%hr)%hr),r.e=-e||0):a[0]=r.e=0,r;if(u==0?(a.length=f,h=1,f--):(a.length=f+1,h=Rr(10,hr-u),a[f]=s>0?(o/Rr(10,n-s)%Rr(10,s)|0)*h:0),c)for(;;)if(f==0){for(u=1,s=a[0];s>=10;s/=10)u++;for(s=a[0]+=h,h=1;s>=10;s/=10)h++;u!=h&&(r.e++,a[0]==ae&&(a[0]=1));break}else{if(a[f]+=h,a[f]!=ae)break;a[f--]=0,h=1}for(u=a.length;a[--u]===0;)a.pop()}return dr&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function oe(r,e,t){if(!r.isFinite())return Ui(r);var i,n=r.e,u=Zr(r.d),s=u.length;return e?(t&&(i=t-s)>0?u=u.charAt(0)+"."+u.slice(1)+pe(i):s>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):n<0?(u="0."+pe(-n-1)+u,t&&(i=t-s)>0&&(u+=pe(i))):n>=s?(u+=pe(n+1-s),t&&(i=t-n-1)>0&&(u=u+"."+pe(i))):((i=n+1)<s&&(u=u.slice(0,i)+"."+u.slice(i)),t&&(i=t-s)>0&&(n+1===s&&(u+="."),u+=pe(i))),u}function Ct(r,e){var t=r[0];for(e*=hr;t>=10;t/=10)e++;return e}function lt(r,e,t){if(e>eo)throw dr=!0,t&&(r.precision=t),Error(zi);return vr(new r(ft),e,1,!0)}function ie(r,e,t){if(e>$t)throw Error(zi);return vr(new r(ct),e,t,!0)}function qi(r){var e=r.length-1,t=e*hr+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function pe(r){for(var e="";r--;)e+="0";return e}function Pi(r,e,t,i){var n,u=new r(1),s=Math.ceil(i/hr+4);for(dr=!1;;){if(t%2&&(u=u.times(e),dn(u.d,s)&&(n=!0)),t=Jr(t/2),t===0){t=u.d.length-1,n&&u.d[t]===0&&++u.d[t];break}e=e.times(e),dn(e.d,s)}return dr=!0,u}function pn(r){return r.d[r.d.length-1]&1}function Ri(r,e,t){for(var i,n=new r(e[0]),u=0;++u<e.length;)if(i=new r(e[u]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function qt(r,e){var t,i,n,u,s,h,l,c=0,o=0,a=0,f=r.constructor,v=f.rounding,d=f.precision;if(!r.d||!r.d[0]||r.e>17)return new f(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(dr=!1,l=d):l=e,h=new f(.03125);r.e>-2;)r=r.times(h),a+=5;for(i=Math.log(Rr(2,a))/Math.LN10*2+5|0,l+=i,t=u=s=new f(1),f.precision=l;;){if(u=vr(u.times(r),l,1),t=t.times(++o),h=s.plus(xr(u,t,l,1)),Zr(h.d).slice(0,l)===Zr(s.d).slice(0,l)){for(n=a;n--;)s=vr(s.times(s),l,1);if(e==null)if(c<3&&Ve(s.d,l-i,v,c))f.precision=l+=10,t=u=h=new f(1),o=0,c++;else return vr(s,f.precision=d,v,dr=!0);else return f.precision=d,s}s=h}}function me(r,e){var t,i,n,u,s,h,l,c,o,a,f,v=1,d=10,p=r,g=p.d,D=p.constructor,E=D.rounding,w=D.precision;if(p.s<0||!g||!g[0]||!p.e&&g[0]==1&&g.length==1)return new D(g&&!g[0]?-1/0:p.s!=1?NaN:g?0:p);if(e==null?(dr=!1,o=w):o=e,D.precision=o+=d,t=Zr(g),i=t.charAt(0),Math.abs(u=p.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)p=p.times(r),t=Zr(p.d),i=t.charAt(0),v++;u=p.e,i>1?(p=new D("0."+t),u++):p=new D(i+"."+t.slice(1))}else return c=lt(D,o+2,w).times(u+""),p=me(new D(i+"."+t.slice(1)),o-d).plus(c),D.precision=w,e==null?vr(p,w,E,dr=!0):p;for(a=p,l=s=p=xr(p.minus(1),p.plus(1),o,1),f=vr(p.times(p),o,1),n=3;;){if(s=vr(s.times(f),o,1),c=l.plus(xr(s,new D(n),o,1)),Zr(c.d).slice(0,o)===Zr(l.d).slice(0,o))if(l=l.times(2),u!==0&&(l=l.plus(lt(D,o+2,w).times(u+""))),l=xr(l,new D(v),o,1),e==null)if(Ve(l.d,o-d,E,h))D.precision=o+=d,c=s=p=xr(a.minus(1),a.plus(1),o,1),f=vr(p.times(p),o,1),n=h=1;else return vr(l,D.precision=w,E,dr=!0);else return D.precision=w,l;l=c,n+=2}}function Ui(r){return String(r.s*r.s/0)}function Pt(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%hr,t<0&&(i+=hr),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=hr;i<n;)r.d.push(+e.slice(i,i+=hr));e=e.slice(i),i=hr-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),dr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function no(r,e){var t,i,n,u,s,h,l,c,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),$i.test(e))return Pt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(ku.test(e))t=16,e=e.toLowerCase();else if(Hu.test(e))t=2;else if(ju.test(e))t=8;else throw Error(ge+e);for(u=e.search(/p/i),u>0?(l=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),s=u>=0,i=r.constructor,s&&(e=e.replace(".",""),h=e.length,u=h-u,n=Pi(i,new i(t),u,u*2)),c=it(e,t,ae),o=c.length-1,u=o;c[u]===0;--u)c.pop();return u<0?new i(r.s*0):(r.e=Ct(c,o),r.d=c,dr=!1,s&&(r=xr(r,n,h*4)),l&&(r=r.times(Math.abs(l)<54?Rr(2,l):Te.pow(2,l))),dr=!0,r)}function io(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:xe(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/bt(5,t)),e=xe(r,2,e,e);for(var n,u=new r(5),s=new r(16),h=new r(20);t--;)n=e.times(e),e=e.times(u.plus(n.times(s.times(n).minus(h))));return e}function xe(r,e,t,i,n){var u,s,h,l,c=r.precision,o=Math.ceil(c/hr);for(dr=!1,l=t.times(t),h=new r(i);;){if(s=xr(h.times(l),new r(e++*e++),c,1),h=n?i.plus(s):i.minus(s),i=xr(s.times(l),new r(e++*e++),c,1),s=h.plus(i),s.d[o]!==void 0){for(u=o;s.d[u]===h.d[u]&&u--;);if(u==-1)break}u=h,h=i,i=s,s=u}return dr=!0,s.d.length=o+1,s}function bt(r,e){for(var t=r;--e;)t*=r;return t}function Li(r,e){var t,i=e.s<0,n=ie(r,r.precision,1),u=n.times(.5);if(e=e.abs(),e.lte(u))return fe=i?4:1,e;if(t=e.divToInt(n),t.isZero())fe=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(u))return fe=pn(t)?i?2:3:i?4:1,e;fe=pn(t)?i?1:4:i?3:2}return e.minus(n).abs()}function Qt(r,e,t,i){var n,u,s,h,l,c,o,a,f,v=r.constructor,d=t!==void 0;if(d?(Wr(t,1,ye),i===void 0?i=v.rounding:Wr(i,0,8)):(t=v.precision,i=v.rounding),!r.isFinite())o=Ui(r);else{for(o=oe(r),s=o.indexOf("."),d?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,s>=0&&(o=o.replace(".",""),f=new v(1),f.e=o.length-s,f.d=it(oe(f),10,n),f.e=f.d.length),a=it(o,10,n),u=l=a.length;a[--l]==0;)a.pop();if(!a[0])o=d?"0p+0":"0";else{if(s<0?u--:(r=new v(r),r.d=a,r.e=u,r=xr(r,f,t,i,0,n),a=r.d,u=r.e,c=Ti),s=a[t],h=n/2,c=c||a[t+1]!==void 0,c=i<4?(s!==void 0||c)&&(i===0||i===(r.s<0?3:2)):s>h||s===h&&(i===4||c||i===6&&a[t-1]&1||i===(r.s<0?8:7)),a.length=t,c)for(;++a[--t]>n-1;)a[t]=0,t||(++u,a.unshift(1));for(l=a.length;!a[l-1];--l);for(s=0,o="";s<l;s++)o+=Ot.charAt(a[s]);if(d){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)o+="0";for(a=it(o,n,e),l=a.length;!a[l-1];--l);for(s=1,o="1.";s<l;s++)o+=Ot.charAt(a[s])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>l)for(u-=l;u--;)o+="0";else u<l&&(o=o.slice(0,u)+"."+o.slice(u))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function dn(r,e){if(r.length>e)return r.length=e,!0}function ao(r){return new this(r).abs()}function uo(r){return new this(r).acos()}function oo(r){return new this(r).acosh()}function so(r,e){return new this(r).plus(e)}function fo(r){return new this(r).asin()}function co(r){return new this(r).asinh()}function lo(r){return new this(r).atan()}function vo(r){return new this(r).atanh()}function ho(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,u=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ie(this,u,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ie(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ie(this,u,1).times(.5),t.s=r.s):e.s<0?(this.precision=u,this.rounding=1,t=this.atan(xr(r,e,u,1)),e=ie(this,u,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(xr(r,e,u,1)),t}function po(r){return new this(r).cbrt()}function mo(r){return vr(r=new this(r),r.e+1,2)}function Do(r,e,t){return new this(r).clamp(e,t)}function go(r){if(!r||typeof r!="object")throw Error(Ft+"Object expected");var e,t,i,n=r.defaults===!0,u=["precision",1,ye,"rounding",0,8,"toExpNeg",-Se,0,"toExpPos",0,Se,"maxE",0,Se,"minE",-Se,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(t=u[e],n&&(this[t]=It[t]),(i=r[t])!==void 0)if(Jr(i)===i&&i>=u[e+1]&&i<=u[e+2])this[t]=i;else throw Error(ge+t+": "+i);if(t="crypto",n&&(this[t]=It[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Oi);else this[t]=!1;else throw Error(ge+t+": "+i);return this}function yo(r){return new this(r).cos()}function wo(r){return new this(r).cosh()}function Zi(r){var e,t,i;function n(u){var s,h,l,c=this;if(!(c instanceof n))return new n(u);if(c.constructor=n,mn(u)){c.s=u.s,dr?!u.d||u.e>n.maxE?(c.e=NaN,c.d=null):u.e<n.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(s=0,h=u;h>=10;h/=10)s++;dr?s>n.maxE?(c.e=NaN,c.d=null):s<n.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[u]):(c.e=s,c.d=[u]);return}else if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return Pt(c,u.toString())}else if(l!=="string")throw Error(ge+u);return(h=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(h===43&&(u=u.slice(1)),c.s=1),$i.test(u)?Pt(c,u):no(c,u)}if(n.prototype=H,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=go,n.clone=Zi,n.isDecimal=mn,n.abs=ao,n.acos=uo,n.acosh=oo,n.add=so,n.asin=fo,n.asinh=co,n.atan=lo,n.atanh=vo,n.atan2=ho,n.cbrt=po,n.ceil=mo,n.clamp=Do,n.cos=yo,n.cosh=wo,n.div=Ao,n.exp=Eo,n.floor=Fo,n.hypot=Co,n.ln=bo,n.log=Mo,n.log10=_o,n.log2=So,n.max=Bo,n.min=No,n.mod=xo,n.mul=To,n.pow=zo,n.random=Oo,n.round=Io,n.sign=$o,n.sin=qo,n.sinh=Po,n.sqrt=Ro,n.sub=Uo,n.sum=Lo,n.tan=Zo,n.tanh=Vo,n.trunc=Yo,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function Ao(r,e){return new this(r).div(e)}function Eo(r){return new this(r).exp()}function Fo(r){return vr(r=new this(r),r.e+1,3)}function Co(){var r,e,t=new this(0);for(dr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return dr=!0,new this(1/0);t=e}return dr=!0,t.sqrt()}function mn(r){return r instanceof Te||r&&r.toStringTag===Ii||!1}function bo(r){return new this(r).ln()}function Mo(r,e){return new this(r).log(e)}function So(r){return new this(r).log(2)}function _o(r){return new this(r).log(10)}function Bo(){return Ri(this,arguments,"lt")}function No(){return Ri(this,arguments,"gt")}function xo(r,e){return new this(r).mod(e)}function To(r,e){return new this(r).mul(e)}function zo(r,e){return new this(r).pow(e)}function Oo(r){var e,t,i,n,u=0,s=new this(1),h=[];if(r===void 0?r=this.precision:Wr(r,1,ye),i=Math.ceil(r/hr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));u<i;)n=e[u],n>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:h[u++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);u<i;)n=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,u):(h.push(n%1e7),u+=4);u=i/4}else throw Error(Oi);else for(;u<i;)h[u++]=Math.random()*1e7|0;for(i=h[--u],r%=hr,i&&r&&(n=Rr(10,hr-r),h[u]=(i/n|0)*n);h[u]===0;u--)h.pop();if(u<0)t=0,h=[0];else{for(t=-1;h[0]===0;t-=hr)h.shift();for(i=1,n=h[0];n>=10;n/=10)i++;i<hr&&(t-=hr-i)}return s.e=t,s.d=h,s}function Io(r){return vr(r=new this(r),r.e+1,this.rounding)}function $o(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function qo(r){return new this(r).sin()}function Po(r){return new this(r).sinh()}function Ro(r){return new this(r).sqrt()}function Uo(r,e){return new this(r).sub(e)}function Lo(){var r=0,e=arguments,t=new this(e[r]);for(dr=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return dr=!0,vr(t,this.precision,this.rounding)}function Zo(r){return new this(r).tan()}function Vo(r){return new this(r).tanh()}function Yo(r){return vr(r=new this(r),r.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var Te=H.constructor=Zi(It);ft=new Te(ft);ct=new Te(ct);var Jo="BigNumber",Go=["?on","config"],Qo=rr(Jo,Go,r=>{var{on:e,config:t}=r,i=Te.clone({precision:t.precision,modulo:Te.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});function Xo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vi={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},n=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},u=function(a){var f=Math.PI/4;if(-f>a||a>f)return Math.cos(a)-1;var v=a*a;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(a,f){var v=Math.abs(a),d=Math.abs(f);return v<3e3&&d<3e3?Math.sqrt(v*v+d*d):(v<d?(v=d,d=a/f):d=f/a,v*Math.sqrt(1+d*d))},h=function(){throw SyntaxError("Invalid Param")};function l(a,f){var v=Math.abs(a),d=Math.abs(f);return a===0?Math.log(d):f===0?Math.log(v):v<3e3&&d<3e3?Math.log(a*a+f*f)*.5:(a=a/2,f=f/2,.5*Math.log(a*a+f*f)+Math.LN2)}var c=function(a,f){var v={re:0,im:0};if(a==null)v.re=v.im=0;else if(f!==void 0)v.re=a,v.im=f;else switch(typeof a){case"object":if("im"in a&&"re"in a)v.re=a.re,v.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return o.INFINITY;v.re=a.abs*Math.cos(a.arg),v.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return o.INFINITY;v.re=a.r*Math.cos(a.phi),v.im=a.r*Math.sin(a.phi)}else a.length===2?(v.re=a[0],v.im=a[1]):h();break;case"string":v.im=v.re=0;var d=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,g=0;d===null&&h();for(var D=0;D<d.length;D++){var E=d[D];E===" "||E==="	"||E===`
`||(E==="+"?p++:E==="-"?g++:E==="i"||E==="I"?(p+g===0&&h(),d[D+1]!==" "&&!isNaN(d[D+1])?(v.im+=parseFloat((g%2?"-":"")+d[D+1]),D++):v.im+=parseFloat((g%2?"-":"")+"1"),p=g=0):((p+g===0||isNaN(E))&&h(),d[D+1]==="i"||d[D+1]==="I"?(v.im+=parseFloat((g%2?"-":"")+E),D++):v.re+=parseFloat((g%2?"-":"")+E),p=g=0))}p+g>0&&h();break;case"number":v.im=0,v.re=a;break;default:h()}return isNaN(v.re)||isNaN(v.im),v};function o(a,f){if(!(this instanceof o))return new o(a,f);var v=c(a,f);this.re=v.re,this.im=v.im}o.prototype={re:0,im:0,sign:function(){var a=this.abs();return new o(this.re/a,this.im/a)},add:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:new o(this.re+v.re,this.im+v.im)},sub:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:new o(this.re-v.re,this.im-v.im)},mul:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:v.im===0&&this.im===0?new o(this.re*v.re,0):new o(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(a,f){var v=new o(a,f);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return o.NAN;if(this.isInfinite()||v.isZero())return o.INFINITY;if(this.isZero()||v.isInfinite())return o.ZERO;a=this.re,f=this.im;var d=v.re,p=v.im,g,D;return p===0?new o(a/d,f/d):Math.abs(d)<Math.abs(p)?(D=d/p,g=d*D+p,new o((a*D+f)/g,(f*D-a)/g)):(D=p/d,g=p*D+d,new o((a+f*D)/g,(f-a*D)/g))},pow:function(a,f){var v=new o(a,f);if(a=this.re,f=this.im,v.isZero())return o.ONE;if(v.im===0){if(f===0&&a>0)return new o(Math.pow(a,v.re),0);if(a===0)switch((v.re%4+4)%4){case 0:return new o(Math.pow(f,v.re),0);case 1:return new o(0,Math.pow(f,v.re));case 2:return new o(-Math.pow(f,v.re),0);case 3:return new o(0,-Math.pow(f,v.re))}}if(a===0&&f===0&&v.re>0&&v.im>=0)return o.ZERO;var d=Math.atan2(f,a),p=l(a,f);return a=Math.exp(v.re*p-v.im*d),f=v.im*p+v.re*d,new o(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){var a=this.re,f=this.im,v=this.abs(),d,p;if(a>=0){if(f===0)return new o(Math.sqrt(a),0);d=.5*Math.sqrt(2*(v+a))}else d=Math.abs(f)/Math.sqrt(2*(v-a));return a<=0?p=.5*Math.sqrt(2*(v-a)):p=Math.abs(f)/Math.sqrt(2*(v+a)),new o(d,f<0?-p:p)},exp:function(){var a=Math.exp(this.re);return this.im,new o(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,f=this.im;return new o(Math.expm1(a)*Math.cos(f)+u(f),Math.exp(a)*Math.sin(f))},log:function(){var a=this.re,f=this.im;return new o(l(a,f),Math.atan2(f,a))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,f=this.im;return new o(Math.sin(a)*i(f),Math.cos(a)*n(f))},cos:function(){var a=this.re,f=this.im;return new o(Math.cos(a)*i(f),-Math.sin(a)*n(f))},tan:function(){var a=2*this.re,f=2*this.im,v=Math.cos(a)+i(f);return new o(Math.sin(a)/v,n(f)/v)},cot:function(){var a=2*this.re,f=2*this.im,v=Math.cos(a)-i(f);return new o(-Math.sin(a)/v,n(f)/v)},sec:function(){var a=this.re,f=this.im,v=.5*i(2*f)+.5*Math.cos(2*a);return new o(Math.cos(a)*i(f)/v,Math.sin(a)*n(f)/v)},csc:function(){var a=this.re,f=this.im,v=.5*i(2*f)-.5*Math.cos(2*a);return new o(Math.sin(a)*i(f)/v,-Math.cos(a)*n(f)/v)},asin:function(){var a=this.re,f=this.im,v=new o(f*f-a*a+1,-2*a*f).sqrt(),d=new o(v.re-f,v.im+a).log();return new o(d.im,-d.re)},acos:function(){var a=this.re,f=this.im,v=new o(f*f-a*a+1,-2*a*f).sqrt(),d=new o(v.re-f,v.im+a).log();return new o(Math.PI/2-d.im,d.re)},atan:function(){var a=this.re,f=this.im;if(a===0){if(f===1)return new o(0,1/0);if(f===-1)return new o(0,-1/0)}var v=a*a+(1-f)*(1-f),d=new o((1-f*f-a*a)/v,-2*a/v).log();return new o(-.5*d.im,.5*d.re)},acot:function(){var a=this.re,f=this.im;if(f===0)return new o(Math.atan2(1,a),0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).atan():new o(a!==0?a/0:0,f!==0?-f/0:0).atan()},asec:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,1/0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).acos():new o(a!==0?a/0:0,f!==0?-f/0:0).acos()},acsc:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(Math.PI/2,1/0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).asin():new o(a!==0?a/0:0,f!==0?-f/0:0).asin()},sinh:function(){var a=this.re,f=this.im;return new o(n(a)*Math.cos(f),i(a)*Math.sin(f))},cosh:function(){var a=this.re,f=this.im;return new o(i(a)*Math.cos(f),n(a)*Math.sin(f))},tanh:function(){var a=2*this.re,f=2*this.im,v=i(a)+Math.cos(f);return new o(n(a)/v,Math.sin(f)/v)},coth:function(){var a=2*this.re,f=2*this.im,v=i(a)-Math.cos(f);return new o(n(a)/v,-Math.sin(f)/v)},csch:function(){var a=this.re,f=this.im,v=Math.cos(2*f)-i(2*a);return new o(-2*n(a)*Math.cos(f)/v,2*i(a)*Math.sin(f)/v)},sech:function(){var a=this.re,f=this.im,v=Math.cos(2*f)+i(2*a);return new o(2*i(a)*Math.cos(f)/v,-2*n(a)*Math.sin(f)/v)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var f=this.asin();return this.re=-this.im,this.im=a,a=f.re,f.re=-f.im,f.im=a,f},acosh:function(){var a=this.acos();if(a.im<=0){var f=a.re;a.re=-a.im,a.im=f}else{var f=a.im;a.im=-a.re,a.re=f}return a},atanh:function(){var a=this.re,f=this.im,v=a>1&&f===0,d=1-a,p=1+a,g=d*d+f*f,D=g!==0?new o((p*d-f*f)/g,(f*d+p*f)/g):new o(a!==-1?a/0:0,f!==0?f/0:0),E=D.re;return D.re=l(D.re,D.im)/2,D.im=Math.atan2(D.im,E)/2,v&&(D.im=-D.im),D},acoth:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,Math.PI/2);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).atanh():new o(a!==0?a/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var a=this.re,f=this.im;if(f===0)return new o(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).asinh():new o(a!==0?a/0:0,f!==0?-f/0:0).asinh()},asech:function(){var a=this.re,f=this.im;if(this.isZero())return o.INFINITY;var v=a*a+f*f;return v!==0?new o(a/v,-f/v).acosh():new o(a!==0?a/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var a=this.re,f=this.im,v=a*a+f*f;return new o(a/v,-f/v)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new o(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new o(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new o(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,f){var v=new o(a,f);return Math.abs(v.re-this.re)<=o.EPSILON&&Math.abs(v.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var a=this.re,f=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<o.EPSILON&&(a=0),Math.abs(f)<o.EPSILON&&(f=0),f===0?v+a:(a!==0?(v+=a,v+=" ",f<0?(f=-f,v+="-"):v+="+",v+=" "):f<0&&(f=-f,v+="-"),f!==1&&(v+=f),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})(Vi);var Ko=Vi.exports;const Lr=Xo(Ko);var Wo="Complex",Ho=[],ko=rr(Wo,Ho,()=>(Object.defineProperty(Lr,"name",{value:"Complex"}),Lr.prototype.constructor=Lr,Lr.prototype.type="Complex",Lr.prototype.isComplex=!0,Lr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Lr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Lr.prototype.format=function(r){var e="",t=this.im,i=this.re,n=zt(this.re,r),u=zt(this.im,r),s=Br(r)?r:r?r.precision:null;if(s!==null){var h=Math.pow(10,-s);Math.abs(i/t)<h&&(i=0),Math.abs(t/i)<h&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=u+"i":t<0?t===-1?e=n+" - i":e=n+" - "+u.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+u+"i",e},Lr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Lr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(Br(t)){if(wi(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Br(i))return new Lr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Lr.prototype.valueOf=Lr.prototype.toString,Lr.fromJSON=function(r){return new Lr(r)},Lr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Lr),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var jo=2e3,sr={s:1,n:0,d:1};function se(r,e){if(isNaN(r=parseInt(r,10)))throw at();return r*e}function $r(r,e){if(e===0)throw Xt();var t=Object.create(Yr.prototype);t.s=r<0?-1:1,r=r<0?-r:r;var i=_e(r,e);return t.n=r/i,t.d=e/i,t}function Dn(r){for(var e={},t=r,i=2,n=4;n<=t;){for(;t%i===0;)t/=i,e[i]=(e[i]||0)+1;n+=1+2*i++}return t!==r?t>1&&(e[t]=(e[t]||0)+1):e[r]=(e[r]||0)+1,e}var kr=function(r,e){var t=0,i=1,n=1,u=0,s=0,h=0,l=1,c=1,o=0,a=1,f=1,v=1,d=1e7,p;if(r!=null)if(e!==void 0){if(t=r,i=e,n=t*i,t%1!==0||i%1!==0)throw ns()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)t=r.n,i=r.d,"s"in r&&(t*=r.s);else if(0 in r)t=r[0],1 in r&&(i=r[1]);else throw at();n=t*i;break}case"number":{if(r<0&&(n=r,r=-r),r%1===0)t=r;else if(r>0){for(r>=1&&(c=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=c);a<=d&&v<=d;)if(p=(o+f)/(a+v),r===p){a+v<=d?(t=o+f,i=a+v):v>a?(t=f,i=v):(t=o,i=a);break}else r>p?(o+=f,a+=v):(f+=o,v+=a),a>d?(t=f,i=v):(t=o,i=a);t*=c}else(isNaN(r)||isNaN(e))&&(i=t=NaN);break}case"string":{if(a=r.match(/\d+|./g),a===null)throw at();if(a[o]==="-"?(n=-1,o++):a[o]==="+"&&o++,a.length===o+1?s=se(a[o++],n):a[o+1]==="."||a[o]==="."?(a[o]!=="."&&(u=se(a[o++],n)),o++,(o+1===a.length||a[o+1]==="("&&a[o+3]===")"||a[o+1]==="'"&&a[o+3]==="'")&&(s=se(a[o],n),l=Math.pow(10,a[o].length),o++),(a[o]==="("&&a[o+2]===")"||a[o]==="'"&&a[o+2]==="'")&&(h=se(a[o+1],n),c=Math.pow(10,a[o+1].length)-1,o+=3)):a[o+1]==="/"||a[o+1]===":"?(s=se(a[o],n),l=se(a[o+2],1),o+=3):a[o+3]==="/"&&a[o+1]===" "&&(u=se(a[o],n),s=se(a[o+2],n),l=se(a[o+4],1),o+=5),a.length<=o){i=l*c,n=t=h+i*u+c*s;break}}default:throw at()}if(i===0)throw Xt();sr.s=n<0?-1:1,sr.n=Math.abs(t),sr.d=Math.abs(i)};function rs(r,e,t){for(var i=1;e>0;r=r*r%t,e>>=1)e&1&&(i=i*r%t);return i}function es(r,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var t=10%e,i=1;t!==1;i++)if(t=t*10%e,i>jo)return 0;return i}function ts(r,e,t){for(var i=1,n=rs(10,t,e),u=0;u<300;u++){if(i===n)return u;i=i*10%e,n=n*10%e}return 0}function _e(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function Yr(r,e){if(kr(r,e),this instanceof Yr)r=_e(sr.d,sr.n),this.s=sr.s,this.n=sr.n/r,this.d=sr.d/r;else return $r(sr.s*sr.n,sr.d)}var Xt=function(){return new Error("Division by Zero")},at=function(){return new Error("Invalid argument")},ns=function(){return new Error("Parameters must be integer")};Yr.prototype={s:1,n:0,d:1,abs:function(){return $r(this.n,this.d)},neg:function(){return $r(-this.s*this.n,this.d)},add:function(r,e){return kr(r,e),$r(this.s*this.n*sr.d+sr.s*this.d*sr.n,this.d*sr.d)},sub:function(r,e){return kr(r,e),$r(this.s*this.n*sr.d-sr.s*this.d*sr.n,this.d*sr.d)},mul:function(r,e){return kr(r,e),$r(this.s*sr.s*this.n*sr.n,this.d*sr.d)},div:function(r,e){return kr(r,e),$r(this.s*sr.s*this.n*sr.d,this.d*sr.n)},clone:function(){return $r(this.s*this.n,this.d)},mod:function(r,e){if(isNaN(this.n)||isNaN(this.d))return new Yr(NaN);if(r===void 0)return $r(this.s*this.n%this.d,1);if(kr(r,e),sr.n===0&&this.d===0)throw Xt();return $r(this.s*(sr.d*this.n)%(sr.n*this.d),sr.d*this.d)},gcd:function(r,e){return kr(r,e),$r(_e(sr.n,this.n)*_e(sr.d,this.d),sr.d*this.d)},lcm:function(r,e){return kr(r,e),sr.n===0&&this.n===0?$r(0,1):$r(sr.n*this.n,_e(sr.n,this.n)*_e(sr.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Yr(NaN):$r(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Yr(NaN):$r(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Yr(NaN):$r(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,e){return kr(r,e),$r(this.s*Math.round(this.n*sr.d/(this.d*sr.n))*sr.n,sr.d)},inverse:function(){return $r(this.s*this.d,this.n)},pow:function(r,e){if(kr(r,e),sr.d===1)return sr.s<0?$r(Math.pow(this.s*this.d,sr.n),Math.pow(this.n,sr.n)):$r(Math.pow(this.s*this.n,sr.n),Math.pow(this.d,sr.n));if(this.s<0)return null;var t=Dn(this.n),i=Dn(this.d),n=1,u=1;for(var s in t)if(s!=="1"){if(s==="0"){n=0;break}if(t[s]*=sr.n,t[s]%sr.d===0)t[s]/=sr.d;else return null;n*=Math.pow(s,t[s])}for(var s in i)if(s!=="1"){if(i[s]*=sr.n,i[s]%sr.d===0)i[s]/=sr.d;else return null;u*=Math.pow(s,i[s])}return sr.s<0?$r(u,n):$r(n,u)},equals:function(r,e){return kr(r,e),this.s*this.n*sr.d===sr.s*sr.n*this.d},compare:function(r,e){kr(r,e);var t=this.s*this.n*sr.d-sr.s*sr.n*this.d;return(0<t)-(t<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var e=this.abs(),t=e.toContinued(),i=1;i<t.length;i++){for(var n=$r(t[i-1],1),u=i-2;u>=0;u--)n=n.inverse().add(t[u]);if(Math.abs(n.sub(e).valueOf())<r)return n.mul(this.s)}return this},divisible:function(r,e){return kr(r,e),!(!(sr.n*this.d)||this.n*sr.d%(sr.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,t+=" ",i%=n),t+=i,t+="/",t+=n),t},toLatex:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,i%=n),t+="\\frac{",t+=i,t+="}{",t+=n,t+="}"),t},toContinued:function(){var r,e=this.n,t=this.d,i=[];if(isNaN(e)||isNaN(t))return i;do i.push(Math.floor(e/t)),r=e%t,e=t,t=r;while(e!==1);return i},toString:function(r){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";r=r||15;var i=es(e,t),n=ts(e,t,i),u=this.s<0?"-":"";if(u+=e/t|0,e%=t,e*=10,e&&(u+="."),i){for(var s=n;s--;)u+=e/t|0,e%=t,e*=10;u+="(";for(var s=i;s--;)u+=e/t|0,e%=t,e*=10;u+=")"}else for(var s=r;e&&s--;)u+=e/t|0,e%=t,e*=10;return u}};var is="Fraction",as=[],us=rr(is,as,()=>(Object.defineProperty(Yr,"name",{value:"Fraction"}),Yr.prototype.constructor=Yr,Yr.prototype.type="Fraction",Yr.prototype.isFraction=!0,Yr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Yr.fromJSON=function(r){return new Yr(r)},Yr),{isClass:!0}),os="Matrix",ss=[],fs=rr(os,ss,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Tt(r,e,t){var i=r.constructor,n=new i(2),u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Nr(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),u="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(u);case 8:return"".concat(r.toOctal()).concat(u);case 16:return"".concat(r.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function cs(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=bi(e);switch(t){case"fixed":return vs(r,i);case"exponential":return gn(r,i);case"engineering":return ls(r,i);case"bin":return Tt(r,2,n);case"oct":return Tt(r,8,n);case"hex":return Tt(r,16,n);case"auto":{var u=yn(e==null?void 0:e.lowerExp,-3),s=yn(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var h,l=r.toSignificantDigits(i),c=l.e;return c>=u&&c<s?h=l.toFixed():h=gn(r,i),h.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ls(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),u=n.toPrecision(e);if(u.includes("e")){var s=r.constructor;u=new s(u).toFixed()}return u+"e"+(t>=0?"+":"")+i.toString()}function gn(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function vs(r,e){return r.toFixed(e)}function yn(r,e){return Br(r)?r:Ir(r)?r.toNumber():e}function Or(r,e){var t=hs(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function hs(r,e){if(typeof r=="number")return zt(r,e);if(Ir(r))return cs(r,e);if(ps(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Yi(r,e);if(re(r))return wn(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>wn(i)+": "+Or(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function wn(r){for(var e=String(r),t="",i=0;i<e.length;){var n=e.charAt(i);t+=n in An?An[n]:n,i++}return'"'+t+'"'}var An={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Yi(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=Yi(r[n],e);return t+="]",t}else return Or(r,e)}function ps(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function wr(r,e,t){if(!(this instanceof wr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}wr.prototype=new RangeError;wr.prototype.constructor=RangeError;wr.prototype.name="DimensionError";wr.prototype.isDimensionError=!0;function Ae(r,e,t){if(!(this instanceof Ae))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ae.prototype=new RangeError;Ae.prototype.constructor=RangeError;Ae.prototype.name="IndexError";Ae.prototype.isIndexError=!0;function zr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ji(r,e,t){var i,n=r.length;if(n!==e[t])throw new wr(n,e[t]);if(t<e.length-1){var u=t+1;for(i=0;i<n;i++){var s=r[i];if(!Array.isArray(s))throw new wr(e.length-1,e.length,"<");Ji(r[i],e,u)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new wr(e.length+1,e.length,">")}function En(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new wr(r.length,0)}else Ji(r,e,0)}function vt(r,e){var t=r.isMatrix?r._size:zr(r),i=e._sourceSize;i.forEach((n,u)=>{if(n!==null&&n!==t[u])throw new wr(n,t[u])})}function Sr(r,e){if(r!==void 0){if(!Br(r)||!Nr(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Ae(r,e)}}function ze(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Fr(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(re(t)&&t.length===0)return!0}return!1}function ht(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!Br(n)||!Nr(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Or(e)+")")}),(Br(r)||Ir(r))&&(r=[r]);var i=t!==void 0?t:0;return Rt(r,e,0,i),r}function Rt(r,e,t,i){var n,u,s=r.length,h=e[t],l=Math.min(s,h);if(r.length=h,t<e.length-1){var c=t+1;for(n=0;n<l;n++)u=r[n],Array.isArray(u)||(u=[u],r[n]=u),Rt(u,e,c,i);for(n=l;n<h;n++)u=[],r[n]=u,Rt(u,e,c,i)}else{for(n=0;n<l;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=l;n<h;n++)r[n]=i}}function Kt(r,e){var t=Ut(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new wr(0,i,"!=");e=Wt(e,i);var n=Gi(e);if(i!==n)throw new wr(n,i,"!=");try{return ds(t,e)}catch(u){throw u instanceof wr?new wr(n,i,"!="):u}}function Wt(r,e){var t=Gi(r),i=r.slice(),n=-1,u=r.indexOf(n),s=r.indexOf(n,u+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var h=u>=0,l=e%t===0;if(h)if(l)i[u]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function Gi(r){return r.reduce((e,t)=>e*t,1)}function ds(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var u=e[n];i=[];for(var s=t.length/u,h=0;h<s;h++)i.push(t.slice(h*u,(h+1)*u));t=i}return t}function Qi(r,e,t,i){var n=i||zr(r);if(t)for(var u=0;u<t;u++)r=[r],n.unshift(1);for(r=Xi(r,e,0);n.length<e;)n.push(1);return r}function Xi(r,e,t){var i,n;if(Array.isArray(r)){var u=t+1;for(i=0,n=r.length;i<n;i++)r[i]=Xi(r[i],e,u)}else for(var s=t;s<e;s++)r=[r];return r}function Ut(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Ye(r,e){for(var t,i=0,n=0;n<r.length;n++){var u=r[n],s=Array.isArray(u);if(n===0&&s&&(i=u.length),s&&u.length!==i)return;var h=s?Ye(u,e):e(u);if(t===void 0)t=h;else if(t!==h)return"mixed"}return t}function Ki(r,e,t,i){if(i<t){if(r.length!==e.length)throw new wr(r.length,e.length);for(var n=[],u=0;u<r.length;u++)n[u]=Ki(r[u],e[u],t,i+1);return n}else return r.concat(e)}function Wi(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,i){return Ki(t,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Hi(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=e.map(f=>f.length),n=Math.max(...i),u=new Array(n).fill(null),s=0;s<e.length;s++)for(var h=e[s],l=i[s],c=0;c<l;c++){var o=n-l+c;h[c]>u[o]&&(u[o]=h[c])}for(var a=0;a<e.length;a++)ki(e[a],u);return u}function ki(r,e){for(var t=e.length,i=r.length,n=0;n<i;n++){var u=t-i+n;if(r[n]<e[u]&&r[n]>1||r[n]>e[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[n]," to size ").concat(e[u]))}}function Lt(r,e){var t=zr(r);if(De(t,e))return r;ki(t,e);var i=Hi(t,e),n=i.length,u=[...Array(n-t.length).fill(1),...t],s=Ds(r);t.length<n&&(s=Kt(s,u),t=zr(s));for(var h=0;h<n;h++)t[h]<i[h]&&(s=ms(s,i[h],h),t=zr(s));return s}function ms(r,e,t){return Wi(...Array(e).fill(r),t)}function Ds(r){return Ne([],r)}function ji(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var i=(t.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}var gs="DenseMatrix",ys=["Matrix"],ws=rr(gs,ys,r=>{var{Matrix:e}=r;function t(o,a){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!re(a))throw new Error("Invalid datatype: "+a);if(_r(o))o.type==="DenseMatrix"?(this._data=Er(o._data),this._size=Er(o._size),this._datatype=a||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=a||o._datatype);else if(o&&Fr(o.data)&&Fr(o.size))this._data=o.data,this._size=o.size,En(this._data,this._size),this._datatype=a||o.datatype;else if(Fr(o))this._data=c(o),this._size=zr(this._data),En(this._data,this._size),this._datatype=a;else{if(o)throw new TypeError("Unsupported type of data ("+ce(o)+")");this._data=[],this._size=[0],this._datatype=a}}t.prototype=new e,t.prototype.createDenseMatrix=function(o,a){return new t(o,a)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Ye(this._data,ce)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(o,a){return new t(o,a)},t.prototype.subset=function(o,a,f){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return u(this,o,a,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(o){if(!Fr(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new wr(o.length,this._size.length);for(var a=0;a<o.length;a++)Sr(o[a],this._size[a]);for(var f=this._data,v=0,d=o.length;v<d;v++){var p=o[v];Sr(p,f.length),f=f[p]}return f},t.prototype.set=function(o,a,f){if(!Fr(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new wr(o.length,this._size.length,"<");var v,d,p,g=o.map(function(E){return E+1});l(this,g,f);var D=this._data;for(v=0,d=o.length-1;v<d;v++)p=o[v],Sr(p,D.length),D=D[p];return p=o[o.length-1],Sr(p,D.length),D[p]=a,this};function i(o,a){if(!wt(a))throw new TypeError("Invalid index");var f=a.isScalar();if(f)return o.get(a.min());var v=a.size();if(v.length!==o._size.length)throw new wr(v.length,o._size.length);for(var d=a.min(),p=a.max(),g=0,D=o._size.length;g<D;g++)Sr(d[g],o._size[g]),Sr(p[g],o._size[g]);return new t(n(o._data,a,v.length,0),o._datatype)}function n(o,a,f,v){var d=v===f-1,p=a.dimension(v);return d?p.map(function(g){return Sr(g,o.length),o[g]}).valueOf():p.map(function(g){Sr(g,o.length);var D=o[g];return n(D,a,f,v+1)}).valueOf()}function u(o,a,f,v){if(!a||a.isIndex!==!0)throw new TypeError("Invalid index");var d=a.size(),p=a.isScalar(),g;if(_r(f)?(g=f.size(),f=f.valueOf()):g=zr(f),p){if(g.length!==0)throw new TypeError("Scalar expected");o.set(a.min(),f,v)}else{if(!De(g,d))try{g.length===0?f=Lt([f],d):f=Lt(f,d),g=zr(f)}catch{}if(d.length<o._size.length)throw new wr(d.length,o._size.length,"<");if(g.length<d.length){for(var D=0,E=0;d[D]===1&&g[D]===1;)D++;for(;d[D]===1;)E++,D++;f=Qi(f,d.length,E,g)}if(!De(d,g))throw new wr(d,g,">");var w=a.max().map(function(m){return m+1});l(o,w,v);var F=d.length,A=0;s(o._data,a,f,F,A)}return o}function s(o,a,f,v,d){var p=d===v-1,g=a.dimension(d);p?g.forEach(function(D,E){Sr(D),o[D]=f[E[0]]}):g.forEach(function(D,E){Sr(D),s(o[D],a,f[E[0]],v,d+1)})}t.prototype.resize=function(o,a,f){if(!st(o))throw new TypeError("Array or Matrix expected");var v=o.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),d=f?this.clone():this;return h(d,v,a)};function h(o,a,f){if(a.length===0){for(var v=o._data;Fr(v);)v=v[0];return v}return o._size=a.slice(0),o._data=ht(o._data,o._size,f),o}t.prototype.reshape=function(o,a){var f=a?this.clone():this;f._data=Kt(f._data,o);var v=f._size.reduce((d,p)=>d*p);return f._size=Wt(o,v),f};function l(o,a,f){for(var v=o._size.slice(0),d=!1;v.length<a.length;)v.push(0),d=!0;for(var p=0,g=a.length;p<g;p++)a[p]>v[p]&&(v[p]=a[p],d=!0);d&&h(o,v,f)}t.prototype.clone=function(){var o=new t({data:Er(this._data),size:Er(this._size),datatype:this._datatype});return o},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(o){var a=this,f=ji(o),v=function g(D,E){return Fr(D)?D.map(function(w,F){return g(w,E.concat(F))}):f===1?o(D):f===2?o(D,E):o(D,E,a)},d=v(this._data,[]),p=this._datatype!==void 0?Ye(d,ce):void 0;return new t(d,p)},t.prototype.forEach=function(o){var a=this,f=function v(d,p){Fr(d)?d.forEach(function(g,D){v(g,p.concat(D))}):o(d,p,a)};f(this._data,[])},t.prototype[Symbol.iterator]=function*(){var o=function*a(f,v){if(Fr(f))for(var d=0;d<f.length;d++)yield*a(f[d],v.concat(d));else yield{value:f,index:v}};yield*o(this._data,[])},t.prototype.rows=function(){var o=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var v of f)o.push(new t([v],this._datatype));return o},t.prototype.columns=function(){var o=this,a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,d=function(D){var E=v.map(w=>[w[D]]);a.push(new t(E,o._datatype))},p=0;p<f[1];p++)d(p);return a},t.prototype.toArray=function(){return Er(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(o){return Or(this._data,o)},t.prototype.toString=function(){return Or(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(o){if(o){if(Ir(o)&&(o=o.toNumber()),!Br(o)||!Nr(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var a=o>0?o:0,f=o<0?-o:0,v=this._size[0],d=this._size[1],p=Math.min(v-f,d-a),g=[],D=0;D<p;D++)g[D]=this._data[D+f][D+a];return new t({data:g,size:[p],datatype:this._datatype})},t.diagonal=function(o,a,f,v){if(!Fr(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(b){if(Ir(b)&&(b=b.toNumber()),!Br(b)||!Nr(b)||b<1)throw new Error("Size values must be positive integers");return b}),f){if(Ir(f)&&(f=f.toNumber()),!Br(f)||!Nr(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var d=f>0?f:0,p=f<0?-f:0,g=o[0],D=o[1],E=Math.min(g-p,D-d),w;if(Fr(a)){if(a.length!==E)throw new Error("Invalid value array length");w=function(C){return a[C]}}else if(_r(a)){var F=a.size();if(F.length!==1||F[0]!==E)throw new Error("Invalid matrix length");w=function(C){return a.get([C])}}else w=function(){return a};v||(v=Ir(w(0))?w(0).mul(0):0);var A=[];if(o.length>0){A=ht(A,o,v);for(var m=0;m<E;m++)A[m+p][m+d]=w(m)}return new t({data:A,size:[g,D]})},t.fromJSON=function(o){return new t(o)},t.prototype.swapRows=function(o,a){if(!Br(o)||!Nr(o)||!Br(a)||!Nr(a))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(o,this._size[0]),Sr(a,this._size[0]),t._swapRows(o,a,this._data),this},t._swapRows=function(o,a,f){var v=f[o];f[o]=f[a],f[a]=v};function c(o){return _r(o)?c(o.valueOf()):Fr(o)?o.map(c):o}return t},{isClass:!0});function Hr(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return Hr(i,e)}):e(r)}var Fn="isInteger",As=["typed"],Es=rr(Fn,As,r=>{var{typed:e}=r;return e(Fn,{number:Nr,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Ht="number",Mt="number, number";function ra(r){return Math.abs(r)}ra.signature=Ht;function ea(r,e){return r+e}ea.signature=Mt;function ta(r,e){return r-e}ta.signature=Mt;function na(r,e){return r*e}na.signature=Mt;function ia(r){return-r}ia.signature=Ht;function Zt(r){return zu(r)}Zt.signature=Ht;function aa(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}aa.signature=Mt;var Fs="number";function ua(r){return r>0}ua.signature=Fs;function Oe(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),i))}var Cn="isPositive",Cs=["typed","config"],bs=rr(Cn,Cs,r=>{var{typed:e,config:t}=r;return e(Cn,{number:i=>le(i,0,t.relTol,t.absTol)?!1:ua(i),BigNumber:i=>Oe(i,new i.constructor(0),t.relTol,t.absTol)?!1:!i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i>0n,Fraction:i=>i.s>0&&i.n>0,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),bn="isZero",Ms=["typed","equalScalar"],Ss=rr(bn,Ms,r=>{var{typed:e,equalScalar:t}=r;return e(bn,{"number | BigNumber | Complex | Fraction":i=>t(i,0),bigint:i=>i===0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})});function _s(r,e,t,i){return le(r.re,e.re,t,i)&&le(r.im,e.im,t,i)}var Je=rr("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),pt="equalScalar",Bs=["typed","config"],Ns=rr(pt,Bs,r=>{var{typed:e,config:t}=r,i=Je({typed:e});return e(pt,{"boolean, boolean":function(u,s){return u===s},"number, number":function(u,s){return le(u,s,t.relTol,t.absTol)},"BigNumber, BigNumber":function(u,s){return u.eq(s)||Oe(u,s,t.relTol,t.absTol)},"bigint, bigint":function(u,s){return u===s},"Fraction, Fraction":function(u,s){return u.equals(s)},"Complex, Complex":function(u,s){return _s(u,s,t.relTol,t.absTol)}},i)});rr(pt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(pt,{"number, number":function(n,u){return le(n,u,t.relTol,t.absTol)}})});var xs="SparseMatrix",Ts=["typed","equalScalar","Matrix"],zs=rr(xs,Ts,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(p,g){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!re(g))throw new Error("Invalid datatype: "+g);if(_r(p))u(this,p,g);else if(p&&Fr(p.index)&&Fr(p.ptr)&&Fr(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=g||p.datatype;else if(Fr(p))s(this,p,g);else{if(p)throw new TypeError("Unsupported type of data ("+ce(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(p,g,D){g.type==="SparseMatrix"?(p._values=g._values?Er(g._values):void 0,p._index=Er(g._index),p._ptr=Er(g._ptr),p._size=Er(g._size),p._datatype=D||g._datatype):s(p,g.valueOf(),D||g._datatype)}function s(p,g,D){p._values=[],p._index=[],p._ptr=[],p._datatype=D;var E=g.length,w=0,F=t,A=0;if(re(D)&&(F=e.find(t,[D,D])||t,A=e.convert(0,D)),E>0){var m=0;do{p._ptr.push(p._index.length);for(var b=0;b<E;b++){var C=g[b];if(Fr(C)){if(m===0&&w<C.length&&(w=C.length),m<C.length){var y=C[m];F(y,A)||(p._values.push(y),p._index.push(b))}}else m===0&&w<1&&(w=1),F(C,A)||(p._values.push(C),p._index.push(b))}m++}while(m<w)}p._ptr.push(p._index.length),p._size=[E,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(p,g){return new n(p,g)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Ye(this._values,ce)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(p,g){return new n(p,g)},n.prototype.density=function(){var p=this._size[0],g=this._size[1];return p!==0&&g!==0?this._index.length/(p*g):0},n.prototype.subset=function(p,g,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,p);case 2:case 3:return l(this,p,g,D);default:throw new SyntaxError("Wrong number of arguments")}};function h(p,g){if(!wt(g))throw new TypeError("Invalid index");var D=g.isScalar();if(D)return p.get(g.min());var E=g.size();if(E.length!==p._size.length)throw new wr(E.length,p._size.length);var w,F,A,m,b=g.min(),C=g.max();for(w=0,F=p._size.length;w<F;w++)Sr(b[w],p._size[w]),Sr(C[w],p._size[w]);var y=p._values,M=p._index,S=p._ptr,B=g.dimension(0),O=g.dimension(1),z=[],I=[];B.forEach(function(T,Z){I[T]=Z[0],z[T]=!0});var N=y?[]:void 0,Y=[],q=[];return O.forEach(function(T){for(q.push(Y.length),A=S[T],m=S[T+1];A<m;A++)w=M[A],z[w]===!0&&(Y.push(I[w]),N&&N.push(y[A]))}),q.push(Y.length),new n({values:N,index:Y,ptr:q,size:E,datatype:p._datatype})}function l(p,g,D,E){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var w=g.size(),F=g.isScalar(),A;if(_r(D)?(A=D.size(),D=D.toArray()):A=zr(D),F){if(A.length!==0)throw new TypeError("Scalar expected");p.set(g.min(),D,E)}else{if(w.length!==1&&w.length!==2)throw new wr(w.length,p._size.length,"<");if(A.length<w.length){for(var m=0,b=0;w[m]===1&&A[m]===1;)m++;for(;w[m]===1;)b++,m++;D=Qi(D,w.length,b,A)}if(!De(w,A))throw new wr(w,A,">");if(w.length===1){var C=g.dimension(0);C.forEach(function(S,B){Sr(S),p.set([S,0],D[B[0]],E)})}else{var y=g.dimension(0),M=g.dimension(1);y.forEach(function(S,B){Sr(S),M.forEach(function(O,z){Sr(O),p.set([S,O],D[B[0]][z[0]],E)})})}}return p}n.prototype.get=function(p){if(!Fr(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new wr(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=p[0],D=p[1];Sr(g,this._size[0]),Sr(D,this._size[1]);var E=c(g,this._ptr[D],this._ptr[D+1],this._index);return E<this._ptr[D+1]&&this._index[E]===g?this._values[E]:0},n.prototype.set=function(p,g,D){if(!Fr(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new wr(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=p[0],w=p[1],F=this._size[0],A=this._size[1],m=t,b=0;re(this._datatype)&&(m=e.find(t,[this._datatype,this._datatype])||t,b=e.convert(0,this._datatype)),(E>F-1||w>A-1)&&(f(this,Math.max(E+1,F),Math.max(w+1,A),D),F=this._size[0],A=this._size[1]),Sr(E,F),Sr(w,A);var C=c(E,this._ptr[w],this._ptr[w+1],this._index);return C<this._ptr[w+1]&&this._index[C]===E?m(g,b)?o(C,w,this._values,this._index,this._ptr):this._values[C]=g:m(g,b)||a(C,E,w,g,this._values,this._index,this._ptr),this};function c(p,g,D,E){if(D-g===0)return D;for(var w=g;w<D;w++)if(E[w]===p)return w;return g}function o(p,g,D,E,w){D.splice(p,1),E.splice(p,1);for(var F=g+1;F<w.length;F++)w[F]--}function a(p,g,D,E,w,F,A){w.splice(p,0,E),F.splice(p,0,g);for(var m=D+1;m<A.length;m++)A[m]++}n.prototype.resize=function(p,g,D){if(!st(p))throw new TypeError("Array or Matrix expected");var E=p.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(F){if(!Br(F)||!Nr(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Or(E)+")")});var w=D?this.clone():this;return f(w,E[0],E[1],g)};function f(p,g,D,E){var w=E||0,F=t,A=0;re(p._datatype)&&(F=e.find(t,[p._datatype,p._datatype])||t,A=e.convert(0,p._datatype),w=e.convert(w,p._datatype));var m=!F(w,A),b=p._size[0],C=p._size[1],y,M,S;if(D>C){for(M=C;M<D;M++)if(p._ptr[M]=p._values.length,m)for(y=0;y<b;y++)p._values.push(w),p._index.push(y);p._ptr[D]=p._values.length}else D<C&&(p._ptr.splice(D+1,C-D),p._values.splice(p._ptr[D],p._values.length),p._index.splice(p._ptr[D],p._index.length));if(C=D,g>b){if(m){var B=0;for(M=0;M<C;M++){p._ptr[M]=p._ptr[M]+B,S=p._ptr[M+1]+B;var O=0;for(y=b;y<g;y++,O++)p._values.splice(S+O,0,w),p._index.splice(S+O,0,y),B++}p._ptr[C]=p._values.length}}else if(g<b){var z=0;for(M=0;M<C;M++){p._ptr[M]=p._ptr[M]-z;var I=p._ptr[M],N=p._ptr[M+1]-z;for(S=I;S<N;S++)y=p._index[S],y>g-1&&(p._values.splice(S,1),p._index.splice(S,1),z++)}p._ptr[M]=p._values.length}return p._size[0]=g,p._size[1]=D,p}n.prototype.reshape=function(p,g){if(!Fr(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(T){if(!Br(T)||!Nr(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Or(p)+")")});var D=this._size[0]*this._size[1];p=Wt(p,D);var E=p[0]*p[1];if(D!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=g?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return w;for(var F=[],A=0;A<w._ptr.length;A++)for(var m=0;m<w._ptr[A+1]-w._ptr[A];m++)F.push(A);for(var b=w._values.slice(),C=w._index.slice(),y=0;y<w._index.length;y++){var M=C[y],S=F[y],B=M*w._size[1]+S;F[y]=B%p[1],C[y]=Math.floor(B/p[1])}w._values.length=0,w._index.length=0,w._ptr.length=p[1]+1,w._size=p.slice();for(var O=0;O<w._ptr.length;O++)w._ptr[O]=0;for(var z=0;z<b.length;z++){var I=C[z],N=F[z],Y=b[z],q=c(I,w._ptr[N],w._ptr[N+1],w._index);a(q,I,N,Y,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var p=new n({values:this._values?Er(this._values):void 0,index:Er(this._index),ptr:Er(this._ptr),size:Er(this._size),datatype:this._datatype});return p},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(p,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,E=this._size[0],w=this._size[1],F=ji(p),A=function(b,C,y){return F===1?p(b):F===2?p(b,[C,y]):p(b,[C,y],D)};return v(this,0,E-1,0,w-1,A,g)};function v(p,g,D,E,w,F,A){var m=[],b=[],C=[],y=t,M=0;re(p._datatype)&&(y=e.find(t,[p._datatype,p._datatype])||t,M=e.convert(0,p._datatype));for(var S=function(R,V,nr){R=F(R,V,nr),y(R,M)||(m.push(R),b.push(V))},B=E;B<=w;B++){C.push(m.length);var O=p._ptr[B],z=p._ptr[B+1];if(A)for(var I=O;I<z;I++){var N=p._index[I];N>=g&&N<=D&&S(p._values[I],N-g,B-E)}else{for(var Y={},q=O;q<z;q++){var T=p._index[q];Y[T]=p._values[q]}for(var Z=g;Z<=D;Z++){var W=Z in Y?Y[Z]:0;S(W,Z-g,B-E)}}}return C.push(m.length),new n({values:m,index:b,ptr:C,size:[D-g+1,w-E+1]})}n.prototype.forEach=function(p,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,E=this._size[0],w=this._size[1],F=0;F<w;F++){var A=this._ptr[F],m=this._ptr[F+1];if(g)for(var b=A;b<m;b++){var C=this._index[b];p(this._values[b],[C,F],D)}else{for(var y={},M=A;M<m;M++){var S=this._index[M];y[S]=this._values[M]}for(var B=0;B<E;B++){var O=B in y?y[B]:0;p(O,[B,F],D)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],g=0;g<p;g++)for(var D=this._ptr[g],E=this._ptr[g+1],w=D;w<E;w++){var F=this._index[w];yield{value:this._values[w],index:[F,g]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(p,g,D,E,w){var F=E[0],A=E[1],m=[],b,C;for(b=0;b<F;b++)for(m[b]=[],C=0;C<A;C++)m[b][C]=0;for(C=0;C<A;C++)for(var y=D[C],M=D[C+1],S=y;S<M;S++)b=g[S],m[b][C]=p?w?Er(p[S]):p[S]:1;return m}return n.prototype.format=function(p){for(var g=this._size[0],D=this._size[1],E=this.density(),w="Sparse Matrix ["+Or(g,p)+" x "+Or(D,p)+"] density: "+Or(E,p)+`
`,F=0;F<D;F++)for(var A=this._ptr[F],m=this._ptr[F+1],b=A;b<m;b++){var C=this._index[b];w+=`
    (`+Or(C,p)+", "+Or(F,p)+") ==> "+(this._values?Or(this._values[b],p):"X")}return w},n.prototype.toString=function(){return Or(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(p){if(p){if(Ir(p)&&(p=p.toNumber()),!Br(p)||!Nr(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var g=p>0?p:0,D=p<0?-p:0,E=this._size[0],w=this._size[1],F=Math.min(E-D,w-g),A=[],m=[],b=[];b[0]=0;for(var C=g;C<w&&A.length<F;C++)for(var y=this._ptr[C],M=this._ptr[C+1],S=y;S<M;S++){var B=this._index[S];if(B===C-g+D){A.push(this._values[S]),m[A.length-1]=B-D;break}}return b.push(A.length),new n({values:A,index:m,ptr:b,size:[F,1]})},n.fromJSON=function(p){return new n(p)},n.diagonal=function(p,g,D,E,w){if(!Fr(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(T){if(Ir(T)&&(T=T.toNumber()),!Br(T)||!Nr(T)||T<1)throw new Error("Size values must be positive integers");return T}),D){if(Ir(D)&&(D=D.toNumber()),!Br(D)||!Nr(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var F=t,A=0;re(w)&&(F=e.find(t,[w,w])||t,A=e.convert(0,w));var m=D>0?D:0,b=D<0?-D:0,C=p[0],y=p[1],M=Math.min(C-b,y-m),S;if(Fr(g)){if(g.length!==M)throw new Error("Invalid value array length");S=function(Z){return g[Z]}}else if(_r(g)){var B=g.size();if(B.length!==1||B[0]!==M)throw new Error("Invalid matrix length");S=function(Z){return g.get([Z])}}else S=function(){return g};for(var O=[],z=[],I=[],N=0;N<y;N++){I.push(O.length);var Y=N-m;if(Y>=0&&Y<M){var q=S(Y);F(q,A)||(z.push(Y+b),O.push(q))}}return I.push(O.length),new n({values:O,index:z,ptr:I,size:[C,y]})},n.prototype.swapRows=function(p,g){if(!Br(p)||!Nr(p)||!Br(g)||!Nr(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(p,this._size[0]),Sr(g,this._size[0]),n._swapRows(p,g,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(p,g,D,E,w){for(var F=E[p],A=E[p+1],m=F;m<A;m++)w(D[m],g[m])},n._swapRows=function(p,g,D,E,w,F){for(var A=0;A<D;A++){var m=F[A],b=F[A+1],C=c(p,m,b,w),y=c(g,m,b,w);if(C<b&&y<b&&w[C]===p&&w[y]===g){if(E){var M=E[C];E[C]=E[y],E[y]=M}continue}if(C<b&&w[C]===p&&(y>=b||w[y]!==g)){var S=E?E[C]:void 0;w.splice(y,0,g),E&&E.splice(y,0,S),w.splice(y<=C?C+1:C,1),E&&E.splice(y<=C?C+1:C,1);continue}if(y<b&&w[y]===g&&(C>=b||w[C]!==p)){var B=E?E[y]:void 0;w.splice(C,0,p),E&&E.splice(C,0,B),w.splice(C<=y?y+1:y,1),E&&E.splice(C<=y?y+1:y,1)}}},n},{isClass:!0}),Os="number",Is=["typed"];function $s(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:r,radix:t,integerPart:i,fractionalPart:n}}else return null}function qs(r){for(var e=parseInt(r.integerPart,r.radix),t=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);t+=n/Math.pow(r.radix,i+1)}var u=e+t;if(isNaN(u))throw new SyntaxError('String "'+r.input+'" is not a valid number');return u}var Ps=rr(Os,Is,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=$s(n);if(u)return qs(u);var s=0,h=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(s=Number(h[2]),n=h[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(h){if(l>2**s-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),Rs="bignumber",Us=["typed","BigNumber"],Ls=rr(Rs,Us,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var s=u[2],h=t(u[1]),l=new t(2).pow(Number(s));if(h.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var c=new t(2).pow(Number(s)-1);return h.gte(c)?h.sub(l):h}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),Zs="complex",Vs=["typed","Complex"],Ys=rr(Zs,Vs,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(n){return new t(n,0)},"number, number":function(n,u){return new t(n,u)},"BigNumber, BigNumber":function(n,u){return new t(n.toNumber(),u.toNumber())},Fraction:function(n){return new t(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return t(n)},null:function(n){return t(0)},Object:function(n){if("re"in n&&"im"in n)return new t(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new t(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),Js="fraction",Gs=["typed","Fraction"],Qs=rr(Js,Gs,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,u){return new t(n,u)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),Mn="matrix",Xs=["typed","Matrix","DenseMatrix","SparseMatrix"],Ks=rr(Mn,Xs,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(Mn,{"":function(){return u([])},string:function(h){return u([],h)},"string, string":function(h,l){return u([],h,l)},Array:function(h){return u(h)},Matrix:function(h){return u(h,h.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(s,h,l){if(h==="dense"||h==="default"||h===void 0)return new i(s,l);if(h==="sparse")return new n(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),Sn="matrixFromColumns",Ws=["typed","matrix","flatten","size"],Hs=rr(Sn,Ws,r=>{var{typed:e,matrix:t,flatten:i,size:n}=r;return e(Sn,{"...Array":function(l){return u(l)},"...Matrix":function(l){return t(u(l.map(c=>c.toArray())))}});function u(h){if(h.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(h[0]),c=[],o=0;o<l;o++)c[o]=[];for(var a of h){var f=s(a);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(f|0));for(var v=i(a),d=0;d<l;d++)c[d].push(v[d])}return c}function s(h){var l=n(h);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),_n="unaryMinus",ks=["typed"],js=rr(_n,ks,r=>{var{typed:e}=r;return e(_n,{number:ia,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var n=i.clone();return n.value=e.find(t,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Bn="abs",rf=["typed"],ef=rr(Bn,rf,r=>{var{typed:e}=r;return e(Bn,{number:ra,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Nn="addScalar",tf=["typed"],nf=rr(Nn,tf,r=>{var{typed:e}=r;return e(Nn,{"number, number":ea,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),xn="subtractScalar",af=["typed"],uf=rr(xn,af,r=>{var{typed:e}=r;return e(xn,{"number, number":ta,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),of="matAlgo11xS0s",sf=["typed","equalScalar"],ff=rr(of,sf,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s,h){var l=n._values,c=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],p,g=t,D=0,E=s;typeof f=="string"&&(p=f,g=e.find(t,[p,p]),D=e.convert(0,p),u=e.convert(u,p),E=e.find(s,[p,p]));for(var w=[],F=[],A=[],m=0;m<d;m++){A[m]=F.length;for(var b=o[m],C=o[m+1],y=b;y<C;y++){var M=c[y],S=h?E(u,l[y]):E(l[y],u);g(S,D)||(F.push(M),w.push(S))}}return A[d]=F.length,n.createSparseMatrix({values:w,index:F,ptr:A,size:[v,d],datatype:p})}}),cf="matAlgo12xSfs",lf=["typed","DenseMatrix"],Ie=rr(cf,lf,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,u,s,h){var l=n._values,c=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],p,g=s;typeof f=="string"&&(p=f,u=e.convert(u,p),g=e.find(s,[p,p]));for(var D=[],E=[],w=[],F=0;F<d;F++){for(var A=F+1,m=o[F],b=o[F+1],C=m;C<b;C++){var y=c[C];E[y]=l[C],w[y]=A}for(var M=0;M<v;M++)F===0&&(D[M]=[]),w[M]===A?D[M][F]=h?g(u,E[M]):g(E[M],u):D[M][F]=h?g(u,0):g(0,u)}return new t({data:D,size:[v,d],datatype:p})}}),vf="matAlgo14xDs",hf=["typed"],oa=rr(vf,hf,r=>{var{typed:e}=r;return function(n,u,s,h){var l=n._data,c=n._size,o=n._datatype,a,f=s;typeof o=="string"&&(a=o,u=e.convert(u,a),f=e.find(s,[a,a]));var v=c.length>0?t(f,0,c,c[0],l,u,h):[];return n.createDenseMatrix({data:v,size:Er(c),datatype:a})};function t(i,n,u,s,h,l,c){var o=[];if(n===u.length-1)for(var a=0;a<s;a++)o[a]=c?i(l,h[a]):i(h[a],l);else for(var f=0;f<s;f++)o[f]=t(i,n+1,u,u[n+1],h[f],l,c);return o}}),pf="matAlgo03xDSf",df=["typed"],$e=rr(pf,df,r=>{var{typed:e}=r;return function(i,n,u,s){var h=i._data,l=i._size,c=i._datatype||i.getDataType(),o=n._values,a=n._index,f=n._ptr,v=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==v.length)throw new wr(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=l[0],g=l[1],D,E=0,w=u;typeof c=="string"&&c===d&&c!=="mixed"&&(D=c,E=e.convert(0,D),w=e.find(u,[D,D]));for(var F=[],A=0;A<p;A++)F[A]=[];for(var m=[],b=[],C=0;C<g;C++){for(var y=C+1,M=f[C],S=f[C+1],B=M;B<S;B++){var O=a[B];m[O]=s?w(o[B],h[O][C]):w(h[O][C],o[B]),b[O]=y}for(var z=0;z<p;z++)b[z]===y?F[z][C]=m[z]:F[z][C]=s?w(E,h[z][C]):w(h[z][C],E)}return i.createDenseMatrix({data:F,size:[p,g],datatype:c===i._datatype&&d===n._datatype?D:void 0})}}),mf="matAlgo05xSfSf",Df=["typed","equalScalar"],gf=rr(mf,Df,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s){var h=n._values,l=n._index,c=n._ptr,o=n._size,a=n._datatype||n._data===void 0?n._datatype:n.getDataType(),f=u._values,v=u._index,d=u._ptr,p=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==p.length)throw new wr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");var D=o[0],E=o[1],w,F=t,A=0,m=s;typeof a=="string"&&a===g&&a!=="mixed"&&(w=a,F=e.find(t,[w,w]),A=e.convert(0,w),m=e.find(s,[w,w]));var b=h&&f?[]:void 0,C=[],y=[],M=b?[]:void 0,S=b?[]:void 0,B=[],O=[],z,I,N,Y;for(I=0;I<E;I++){y[I]=C.length;var q=I+1;for(N=c[I],Y=c[I+1];N<Y;N++)z=l[N],C.push(z),B[z]=q,M&&(M[z]=h[N]);for(N=d[I],Y=d[I+1];N<Y;N++)z=v[N],B[z]!==q&&C.push(z),O[z]=q,S&&(S[z]=f[N]);if(b)for(N=y[I];N<C.length;){z=C[N];var T=B[z],Z=O[z];if(T===q||Z===q){var W=T===q?M[z]:A,U=Z===q?S[z]:A,R=m(W,U);F(R,A)?C.splice(N,1):(b.push(R),N++)}}}return y[E]=C.length,n.createSparseMatrix({values:b,index:C,ptr:y,size:[D,E],datatype:a===n._datatype&&g===u._datatype?w:void 0})}}),yf="matAlgo13xDD",wf=["typed"],Af=rr(yf,wf,r=>{var{typed:e}=r;return function(n,u,s){var h=n._data,l=n._size,c=n._datatype,o=u._data,a=u._size,f=u._datatype,v=[];if(l.length!==a.length)throw new wr(l.length,a.length);for(var d=0;d<l.length;d++){if(l[d]!==a[d])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+a+")");v[d]=l[d]}var p,g=s;typeof c=="string"&&c===f&&(p=c,g=e.find(s,[p,p]));var D=v.length>0?t(g,0,v,v[0],h,o):[];return n.createDenseMatrix({data:D,size:v,datatype:p})};function t(i,n,u,s,h,l){var c=[];if(n===u.length-1)for(var o=0;o<s;o++)c[o]=i(h[o],l[o]);else for(var a=0;a<s;a++)c[a]=t(i,n+1,u,u[n+1],h[a],l[a]);return c}});function Ur(r,e){if(De(r.size(),e.size()))return[r,e];var t=Hi(r.size(),e.size());return[r,e].map(i=>Ef(i,t))}function Ef(r,e){return De(r.size(),e)?r:r.create(Lt(r.valueOf(),e),r.datatype())}var Ff="matrixAlgorithmSuite",Cf=["typed","matrix"],Ee=rr(Ff,Cf,r=>{var{typed:e,matrix:t}=r,i=Af({typed:e}),n=oa({typed:e});return function(s){var h=s.elop,l=s.SD||s.DS,c;h?(c={"DenseMatrix, DenseMatrix":(v,d)=>i(...Ur(v,d),h),"Array, Array":(v,d)=>i(...Ur(t(v),t(d)),h).valueOf(),"Array, DenseMatrix":(v,d)=>i(...Ur(t(v),d),h),"DenseMatrix, Array":(v,d)=>i(...Ur(v,t(d)),h)},s.SS&&(c["SparseMatrix, SparseMatrix"]=(v,d)=>s.SS(...Ur(v,d),h,!1)),s.DS&&(c["DenseMatrix, SparseMatrix"]=(v,d)=>s.DS(...Ur(v,d),h,!1),c["Array, SparseMatrix"]=(v,d)=>s.DS(...Ur(t(v),d),h,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(v,d)=>l(...Ur(d,v),h,!0),c["SparseMatrix, Array"]=(v,d)=>l(...Ur(t(d),v),h,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(v=>(d,p)=>i(...Ur(d,p),v)),"Array, Array":e.referToSelf(v=>(d,p)=>i(...Ur(t(d),t(p)),v).valueOf()),"Array, DenseMatrix":e.referToSelf(v=>(d,p)=>i(...Ur(t(d),p),v)),"DenseMatrix, Array":e.referToSelf(v=>(d,p)=>i(...Ur(d,t(p)),v))},s.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(v=>(d,p)=>s.SS(...Ur(d,p),v,!1))),s.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(v=>(d,p)=>s.DS(...Ur(d,p),v,!1)),c["Array, SparseMatrix"]=e.referToSelf(v=>(d,p)=>s.DS(...Ur(t(d),p),v,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(v=>(d,p)=>l(...Ur(p,d),v,!0)),c["SparseMatrix, Array"]=e.referToSelf(v=>(d,p)=>l(...Ur(t(p),d),v,!0))));var o=s.scalar||"any",a=s.Ds||s.Ss;a&&(h?(c["DenseMatrix,"+o]=(v,d)=>n(v,d,h,!1),c[o+", DenseMatrix"]=(v,d)=>n(d,v,h,!0),c["Array,"+o]=(v,d)=>n(t(v),d,h,!1).valueOf(),c[o+", Array"]=(v,d)=>n(t(d),v,h,!0).valueOf()):(c["DenseMatrix,"+o]=e.referToSelf(v=>(d,p)=>n(d,p,v,!1)),c[o+", DenseMatrix"]=e.referToSelf(v=>(d,p)=>n(p,d,v,!0)),c["Array,"+o]=e.referToSelf(v=>(d,p)=>n(t(d),p,v,!1).valueOf()),c[o+", Array"]=e.referToSelf(v=>(d,p)=>n(t(p),d,v,!0).valueOf())));var f=s.sS!==void 0?s.sS:s.Ss;return h?(s.Ss&&(c["SparseMatrix,"+o]=(v,d)=>s.Ss(v,d,h,!1)),f&&(c[o+", SparseMatrix"]=(v,d)=>f(d,v,h,!0))):(s.Ss&&(c["SparseMatrix,"+o]=e.referToSelf(v=>(d,p)=>s.Ss(d,p,v,!1))),f&&(c[o+", SparseMatrix"]=e.referToSelf(v=>(d,p)=>f(p,d,v,!0)))),h&&h.signatures&&Bu(c,h.signatures),c}}),bf="matAlgo01xDSid",Mf=["typed"],sa=rr(bf,Mf,r=>{var{typed:e}=r;return function(i,n,u,s){var h=i._data,l=i._size,c=i._datatype||i.getDataType(),o=n._values,a=n._index,f=n._ptr,v=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==v.length)throw new wr(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=l[0],g=l[1],D=typeof c=="string"&&c!=="mixed"&&c===d?c:void 0,E=D?e.find(u,[D,D]):u,w,F,A=[];for(w=0;w<p;w++)A[w]=[];var m=[],b=[];for(F=0;F<g;F++){for(var C=F+1,y=f[F],M=f[F+1],S=y;S<M;S++)w=a[S],m[w]=s?E(o[S],h[w][F]):E(h[w][F],o[S]),b[w]=C;for(w=0;w<p;w++)b[w]===C?A[w][F]=m[w]:A[w][F]=h[w][F]}return i.createDenseMatrix({data:A,size:[p,g],datatype:c===i._datatype&&d===n._datatype?D:void 0})}}),Sf="matAlgo04xSidSid",_f=["typed","equalScalar"],Bf=rr(Sf,_f,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s){var h=n._values,l=n._index,c=n._ptr,o=n._size,a=n._datatype||n._data===void 0?n._datatype:n.getDataType(),f=u._values,v=u._index,d=u._ptr,p=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==p.length)throw new wr(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");var D=o[0],E=o[1],w,F=t,A=0,m=s;typeof a=="string"&&a===g&&a!=="mixed"&&(w=a,F=e.find(t,[w,w]),A=e.convert(0,w),m=e.find(s,[w,w]));var b=h&&f?[]:void 0,C=[],y=[],M=h&&f?[]:void 0,S=h&&f?[]:void 0,B=[],O=[],z,I,N,Y,q;for(I=0;I<E;I++){y[I]=C.length;var T=I+1;for(Y=c[I],q=c[I+1],N=Y;N<q;N++)z=l[N],C.push(z),B[z]=T,M&&(M[z]=h[N]);for(Y=d[I],q=d[I+1],N=Y;N<q;N++)if(z=v[N],B[z]===T){if(M){var Z=m(M[z],f[N]);F(Z,A)?B[z]=null:M[z]=Z}}else C.push(z),O[z]=T,S&&(S[z]=f[N]);if(M&&S)for(N=y[I];N<C.length;)z=C[N],B[z]===T?(b[N]=M[z],N++):O[z]===T?(b[N]=S[z],N++):C.splice(N,1)}return y[E]=C.length,n.createSparseMatrix({values:b,index:C,ptr:y,size:[D,E],datatype:a===n._datatype&&g===u._datatype?w:void 0})}}),Nf="matAlgo10xSids",xf=["typed","DenseMatrix"],fa=rr(Nf,xf,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,u,s,h){var l=n._values,c=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],p,g=s;typeof f=="string"&&(p=f,u=e.convert(u,p),g=e.find(s,[p,p]));for(var D=[],E=[],w=[],F=0;F<d;F++){for(var A=F+1,m=o[F],b=o[F+1],C=m;C<b;C++){var y=c[C];E[y]=l[C],w[y]=A}for(var M=0;M<v;M++)F===0&&(D[M]=[]),w[M]===A?D[M][F]=h?g(u,E[M]):g(E[M],u):D[M][F]=u}return new t({data:D,size:[v,d],datatype:p})}}),Tf="multiplyScalar",zf=["typed"],Of=rr(Tf,zf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":na,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),Tn="multiply",If=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],$f=rr(Tn,If,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:u,dot:s}=r,h=ff({typed:e,equalScalar:u}),l=oa({typed:e});function c(A,m){switch(A.length){case 1:switch(m.length){case 1:if(A[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;case 2:switch(m.length){case 1:if(A[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+m[0]+")");break;case 2:if(A[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function o(A,m,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return s(A,m)}function a(A,m){if(m.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(A,m)}function f(A,m){var b=A._data,C=A._size,y=A._datatype||A.getDataType(),M=m._data,S=m._size,B=m._datatype||m.getDataType(),O=C[0],z=S[1],I,N=i,Y=n;y&&B&&y===B&&typeof y=="string"&&y!=="mixed"&&(I=y,N=e.find(i,[I,I]),Y=e.find(n,[I,I]));for(var q=[],T=0;T<z;T++){for(var Z=Y(b[0],M[0][T]),W=1;W<O;W++)Z=N(Z,Y(b[W],M[W][T]));q[T]=Z}return A.createDenseMatrix({data:q,size:[z],datatype:y===A._datatype&&B===m._datatype?I:void 0})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":E}),d=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function p(A,m){var b=A._data,C=A._size,y=A._datatype||A.getDataType(),M=m._data,S=m._datatype||m.getDataType(),B=C[0],O=C[1],z,I=i,N=n;y&&S&&y===S&&typeof y=="string"&&y!=="mixed"&&(z=y,I=e.find(i,[z,z]),N=e.find(n,[z,z]));for(var Y=[],q=0;q<B;q++){for(var T=b[q],Z=N(T[0],M[0]),W=1;W<O;W++)Z=I(Z,N(T[W],M[W]));Y[q]=Z}return A.createDenseMatrix({data:Y,size:[B],datatype:y===A._datatype&&S===m._datatype?z:void 0})}function g(A,m){var b=A._data,C=A._size,y=A._datatype||A.getDataType(),M=m._data,S=m._size,B=m._datatype||m.getDataType(),O=C[0],z=C[1],I=S[1],N,Y=i,q=n;y&&B&&y===B&&typeof y=="string"&&y!=="mixed"&&y!=="mixed"&&(N=y,Y=e.find(i,[N,N]),q=e.find(n,[N,N]));for(var T=[],Z=0;Z<O;Z++){var W=b[Z];T[Z]=[];for(var U=0;U<I;U++){for(var R=q(W[0],M[0][U]),V=1;V<z;V++)R=Y(R,q(W[V],M[V][U]));T[Z][U]=R}}return A.createDenseMatrix({data:T,size:[O,I],datatype:y===A._datatype&&B===m._datatype?N:void 0})}function D(A,m){var b=A._data,C=A._size,y=A._datatype||A.getDataType(),M=m._values,S=m._index,B=m._ptr,O=m._size,z=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=C[0],N=O[1],Y,q=i,T=n,Z=u,W=0;y&&z&&y===z&&typeof y=="string"&&y!=="mixed"&&(Y=y,q=e.find(i,[Y,Y]),T=e.find(n,[Y,Y]),Z=e.find(u,[Y,Y]),W=e.convert(0,Y));for(var U=[],R=[],V=[],nr=m.createSparseMatrix({values:U,index:R,ptr:V,size:[I,N],datatype:y===A._datatype&&z===m._datatype?Y:void 0}),k=0;k<N;k++){V[k]=R.length;var L=B[k],X=B[k+1];if(X>L)for(var K=0,G=0;G<I;G++){for(var ur=G+1,j=void 0,or=L;or<X;or++){var cr=S[or];K!==ur?(j=T(b[G][cr],M[or]),K=ur):j=q(j,T(b[G][cr],M[or]))}K===ur&&!Z(j,W)&&(R.push(G),U.push(j))}}return V[N]=R.length,nr}function E(A,m){var b=A._values,C=A._index,y=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=m._data,B=m._datatype||m.getDataType(),O=A._size[0],z=m._size[0],I=[],N=[],Y=[],q,T=i,Z=n,W=u,U=0;M&&B&&M===B&&typeof M=="string"&&M!=="mixed"&&(q=M,T=e.find(i,[q,q]),Z=e.find(n,[q,q]),W=e.find(u,[q,q]),U=e.convert(0,q));var R=[],V=[];Y[0]=0;for(var nr=0;nr<z;nr++){var k=S[nr];if(!W(k,U))for(var L=y[nr],X=y[nr+1],K=L;K<X;K++){var G=C[K];V[G]?R[G]=T(R[G],Z(k,b[K])):(V[G]=!0,N.push(G),R[G]=Z(k,b[K]))}}for(var ur=N.length,j=0;j<ur;j++){var or=N[j];I[j]=R[or]}return Y[1]=N.length,A.createSparseMatrix({values:I,index:N,ptr:Y,size:[O,1],datatype:M===A._datatype&&B===m._datatype?q:void 0})}function w(A,m){var b=A._values,C=A._index,y=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=m._data,B=m._datatype||m.getDataType(),O=A._size[0],z=m._size[0],I=m._size[1],N,Y=i,q=n,T=u,Z=0;M&&B&&M===B&&typeof M=="string"&&M!=="mixed"&&(N=M,Y=e.find(i,[N,N]),q=e.find(n,[N,N]),T=e.find(u,[N,N]),Z=e.convert(0,N));for(var W=[],U=[],R=[],V=A.createSparseMatrix({values:W,index:U,ptr:R,size:[O,I],datatype:M===A._datatype&&B===m._datatype?N:void 0}),nr=[],k=[],L=0;L<I;L++){R[L]=U.length;for(var X=L+1,K=0;K<z;K++){var G=S[K][L];if(!T(G,Z))for(var ur=y[K],j=y[K+1],or=ur;or<j;or++){var cr=C[or];k[cr]!==X?(k[cr]=X,U.push(cr),nr[cr]=q(G,b[or])):nr[cr]=Y(nr[cr],q(G,b[or]))}}for(var pr=R[L],mr=U.length,Dr=pr;Dr<mr;Dr++){var lr=U[Dr];W[Dr]=nr[lr]}}return R[I]=U.length,V}function F(A,m){var b=A._values,C=A._index,y=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType(),S=m._values,B=m._index,O=m._ptr,z=m._datatype||m._data===void 0?m._datatype:m.getDataType(),I=A._size[0],N=m._size[1],Y=b&&S,q,T=i,Z=n;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(q=M,T=e.find(i,[q,q]),Z=e.find(n,[q,q]));for(var W=Y?[]:void 0,U=[],R=[],V=A.createSparseMatrix({values:W,index:U,ptr:R,size:[I,N],datatype:M===A._datatype&&z===m._datatype?q:void 0}),nr=Y?[]:void 0,k=[],L,X,K,G,ur,j,or,cr,pr=0;pr<N;pr++){R[pr]=U.length;var mr=pr+1;for(ur=O[pr],j=O[pr+1],G=ur;G<j;G++)if(cr=B[G],Y)for(X=y[cr],K=y[cr+1],L=X;L<K;L++)or=C[L],k[or]!==mr?(k[or]=mr,U.push(or),nr[or]=Z(S[G],b[L])):nr[or]=T(nr[or],Z(S[G],b[L]));else for(X=y[cr],K=y[cr+1],L=X;L<K;L++)or=C[L],k[or]!==mr&&(k[or]=mr,U.push(or));if(Y)for(var Dr=R[pr],lr=U.length,Ar=Dr;Ar<lr;Ar++){var yr=U[Ar];W[Ar]=nr[yr]}}return R[N]=U.length,V}return e(Tn,n,{"Array, Array":e.referTo("Matrix, Matrix",A=>(m,b)=>{c(zr(m),zr(b));var C=A(t(m),t(b));return _r(C)?C.valueOf():C}),"Matrix, Matrix":function(m,b){var C=m.size(),y=b.size();return c(C,y),C.length===1?y.length===1?o(m,b,C[0]):a(m,b):y.length===1?v(m,b):d(m,b)},"Matrix, Array":e.referTo("Matrix,Matrix",A=>(m,b)=>A(m,t(b))),"Array, Matrix":e.referToSelf(A=>(m,b)=>A(t(m,b.storage()),b)),"SparseMatrix, any":function(m,b){return h(m,b,n,!1)},"DenseMatrix, any":function(m,b){return l(m,b,n,!1)},"any, SparseMatrix":function(m,b){return h(b,m,n,!0)},"any, DenseMatrix":function(m,b){return l(b,m,n,!0)},"Array, any":function(m,b){return l(t(m),b,n,!1).valueOf()},"any, Array":function(m,b){return l(t(b),m,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(A=>(m,b,C)=>{for(var y=A(m,b),M=0;M<C.length;M++)y=A(y,C[M]);return y})})}),zn="sign",qf=["typed","BigNumber","Fraction","complex"],Pf=rr(zn,qf,r=>{var{typed:e,BigNumber:t,complex:i,Fraction:n}=r;return e(zn,{number:Zt,Complex:function(s){return s.im===0?i(Zt(s.re)):s.sign()},BigNumber:function(s){return new t(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new n(s.s,1)},"Array | Matrix":e.referToSelf(u=>s=>Hr(s,u)),Unit:e.referToSelf(u=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(u,s.valueType())(s.value)})})}),Rf="sqrt",Uf=["config","typed","Complex"],Lf=rr(Rf,Uf,r=>{var{config:e,typed:t,Complex:i}=r;return t("sqrt",{number:n,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():n(s.toNumber())},Unit:function(s){return s.pow(.5)}});function n(u){return isNaN(u)?NaN:u>=0||e.predictable?Math.sqrt(u):new i(u,0).sqrt()}}),On="subtract",Zf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Vf=rr(On,Zf,r=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:u,DenseMatrix:s,concat:h}=r,l=sa({typed:e}),c=$e({typed:e}),o=gf({typed:e,equalScalar:i}),a=fa({typed:e,DenseMatrix:s}),f=Ie({typed:e,DenseMatrix:s}),v=Ee({typed:e,matrix:t,concat:h});return e(On,{"any, any":n},v({elop:n,SS:o,DS:l,SD:c,Ss:f,sS:a}))}),Yf="matAlgo07xSSf",Jf=["typed","DenseMatrix"],Ge=rr(Yf,Jf,r=>{var{typed:e,DenseMatrix:t}=r;return function(u,s,h){var l=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=s._size,a=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==o.length)throw new wr(l.length,o.length);if(l[0]!==o[0]||l[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");var f=l[0],v=l[1],d,p=0,g=h;typeof c=="string"&&c===a&&c!=="mixed"&&(d=c,p=e.convert(0,d),g=e.find(h,[d,d]));var D,E,w=[];for(D=0;D<f;D++)w[D]=[];var F=[],A=[],m=[],b=[];for(E=0;E<v;E++){var C=E+1;for(i(u,E,m,F,C),i(s,E,b,A,C),D=0;D<f;D++){var y=m[D]===C?F[D]:p,M=b[D]===C?A[D]:p;w[D][E]=g(y,M)}}return new t({data:w,size:[f,v],datatype:c===u._datatype&&a===s._datatype?d:void 0})};function i(n,u,s,h,l){for(var c=n._values,o=n._index,a=n._ptr,f=a[u],v=a[u+1];f<v;f++){var d=o[f];s[d]=l,h[d]=c[f]}}}),In="conj",Gf=["typed"],Qf=rr(In,Gf,r=>{var{typed:e}=r;return e(In,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),$n="im",Xf=["typed"],Kf=rr($n,Xf,r=>{var{typed:e}=r;return e($n,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),qn="re",Wf=["typed"],Hf=rr(qn,Wf,r=>{var{typed:e}=r;return e(qn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Pn="concat",kf=["typed","matrix","isInteger"],jf=rr(Pn,kf,r=>{var{typed:e,matrix:t,isInteger:i}=r;return e(Pn,{"...Array | Matrix | number | BigNumber":function(u){var s,h=u.length,l=-1,c,o=!1,a=[];for(s=0;s<h;s++){var f=u[s];if(_r(f)&&(o=!0),Br(f)||Ir(f)){if(s!==h-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=f.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>c)throw new Ae(l,c+1)}else{var v=Er(f).valueOf(),d=zr(v);if(a[s]=v,c=l,l=d.length-1,s>0&&l!==c)throw new wr(c+1,l+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var p=a.shift();a.length;)p=Wi(p,a.shift(),l);return o?t(p):p},"...string":function(u){return u.join("")}})}),Rn="column",r0=["typed","Index","matrix","range"],e0=rr(Rn,r0,r=>{var{typed:e,Index:t,matrix:i,range:n}=r;return e(Rn,{"Matrix, number":u,"Array, number":function(h,l){return u(i(Er(h)),l).valueOf()}});function u(s,h){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Sr(h,s.size()[1]);var l=n(0,s.size()[0]),c=new t(l,h),o=s.subset(c);return _r(o)?o:i([[o]])}}),Un="diag",t0=["typed","matrix","DenseMatrix","SparseMatrix"],n0=rr(Un,t0,r=>{var{typed:e,matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(Un,{Array:function(c){return u(c,0,zr(c),null)},"Array, number":function(c,o){return u(c,o,zr(c),null)},"Array, BigNumber":function(c,o){return u(c,o.toNumber(),zr(c),null)},"Array, string":function(c,o){return u(c,0,zr(c),o)},"Array, number, string":function(c,o,a){return u(c,o,zr(c),a)},"Array, BigNumber, string":function(c,o,a){return u(c,o.toNumber(),zr(c),a)},Matrix:function(c){return u(c,0,c.size(),c.storage())},"Matrix, number":function(c,o){return u(c,o,c.size(),c.storage())},"Matrix, BigNumber":function(c,o){return u(c,o.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,o){return u(c,0,c.size(),o)},"Matrix, number, string":function(c,o,a){return u(c,o,c.size(),a)},"Matrix, BigNumber, string":function(c,o,a){return u(c,o.toNumber(),c.size(),a)}});function u(l,c,o,a){if(!Nr(c))throw new TypeError("Second parameter in function diag must be an integer");var f=c>0?c:0,v=c<0?-c:0;switch(o.length){case 1:return s(l,c,a,o[0],v,f);case 2:return h(l,c,a,o,v,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,c,o,a,f,v){var d=[a+f,a+v];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var p=o==="sparse"?n.diagonal(d,l,c):i.diagonal(d,l,c);return o!==null?p:p.valueOf()}function h(l,c,o,a,f,v){if(_r(l)){var d=l.diagonal(c);return o!==null?o!==d.storage()?t(d,o):d:d.valueOf()}for(var p=Math.min(a[0]-f,a[1]-v),g=[],D=0;D<p;D++)g[D]=l[D+f][D+v];return o!==null?t(g):g}}),Ln="flatten",i0=["typed","matrix"],a0=rr(Ln,i0,r=>{var{typed:e,matrix:t}=r;return e(Ln,{Array:function(n){return Ut(n)},Matrix:function(n){var u=Ut(n.toArray());return t(u)}})}),Zn="getMatrixDataType",u0=["typed"],o0=rr(Zn,u0,r=>{var{typed:e}=r;return e(Zn,{Array:function(i){return Ye(i,ce)},Matrix:function(i){return i.getDataType()}})}),Vn="identity",s0=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],f0=rr(Vn,s0,r=>{var{typed:e,config:t,matrix:i,BigNumber:n,DenseMatrix:u,SparseMatrix:s}=r;return e(Vn,{"":function(){return t.matrix==="Matrix"?i([]):[]},string:function(o){return i(o)},"number | BigNumber":function(o){return l(o,o,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,a){return l(o,o,a)},"number | BigNumber, number | BigNumber":function(o,a){return l(o,a,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,a,f){return l(o,a,f)},Array:function(o){return h(o)},"Array, string":function(o,a){return h(o,a)},Matrix:function(o){return h(o.valueOf(),o.storage())},"Matrix, string":function(o,a){return h(o.valueOf(),a)}});function h(c,o){switch(c.length){case 0:return o?i(o):[];case 1:return l(c[0],c[0],o);case 2:return l(c[0],c[1],o);default:throw new Error("Vector containing two values expected")}}function l(c,o,a){var f=Ir(c)||Ir(o)?n:null;if(Ir(c)&&(c=c.toNumber()),Ir(o)&&(o=o.toNumber()),!Nr(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Nr(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var v=f?new n(1):1,d=f?new f(0):0,p=[c,o];if(a){if(a==="sparse")return s.diagonal(p,v,0,d);if(a==="dense")return u.diagonal(p,v,0,d);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var g=ht([],p,d),D=c<o?c:o,E=0;E<D;E++)g[E][E]=v;return g}}),Yn="kron",c0=["typed","matrix","multiplyScalar"],l0=rr(Yn,c0,r=>{var{typed:e,matrix:t,multiplyScalar:i}=r;return e(Yn,{"Matrix, Matrix":function(s,h){return t(n(s.toArray(),h.toArray()))},"Matrix, Array":function(s,h){return t(n(s.toArray(),h))},"Array, Matrix":function(s,h){return t(n(s,h.toArray()))},"Array, Array":n});function n(u,s){if(zr(u).length===1&&(u=[u]),zr(s).length===1&&(s=[s]),zr(u).length>2||zr(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(u.length)+", y = "+JSON.stringify(s.length)+")");var h=[],l=[];return u.map(function(c){return s.map(function(o){return l=[],h.push(l),c.map(function(a){return o.map(function(f){return l.push(i(a,f))})})})})&&h}});function ca(){throw new Error('No "bignumber" implementation available')}function v0(){throw new Error('No "fraction" implementation available')}function la(){throw new Error('No "matrix" implementation available')}var Jn="range",h0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],p0=rr(Jn,h0,r=>{var{typed:e,config:t,matrix:i,bignumber:n,smaller:u,smallerEq:s,larger:h,largerEq:l,add:c,isPositive:o}=r;return e(Jn,{string:f,"string, boolean":f,"number, number":function(g,D){return a(v(g,D,1,!1))},"number, number, number":function(g,D,E){return a(v(g,D,E,!1))},"number, number, boolean":function(g,D,E){return a(v(g,D,1,E))},"number, number, number, boolean":function(g,D,E,w){return a(v(g,D,E,w))},"BigNumber, BigNumber":function(g,D){var E=g.constructor;return a(v(g,D,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,D,E){return a(v(g,D,E,!1))},"BigNumber, BigNumber, boolean":function(g,D,E){var w=g.constructor;return a(v(g,D,new w(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(g,D,E,w){return a(v(g,D,E,w))},"Unit, Unit, Unit":function(g,D,E){return a(v(g,D,E,!1))},"Unit, Unit, Unit, boolean":function(g,D,E,w){return a(v(g,D,E,w))}});function a(p){return t.matrix==="Matrix"?i?i(p):la():p}function f(p,g){var D=d(p);if(!D)throw new SyntaxError('String "'+p+'" is no valid range');return t.number==="BigNumber"?(n===void 0&&ca(),a(v(n(D.start),n(D.end),n(D.step)))):a(v(D.start,D.end,D.step,g))}function v(p,g,D,E){for(var w=[],F=o(D)?E?s:u:E?l:h,A=p;F(A,g);)w.push(A),A=c(A,D);return w}function d(p){var g=p.split(":"),D=g.map(function(w){return Number(w)}),E=D.some(function(w){return isNaN(w)});if(E)return null;switch(D.length){case 2:return{start:D[0],end:D[1],step:1};case 3:return{start:D[0],end:D[2],step:D[1]};default:return null}}}),Gn="reshape",d0=["typed","isInteger","matrix"],m0=rr(Gn,d0,r=>{var{typed:e,isInteger:t}=r;return e(Gn,{"Matrix, Array":function(n,u){return n.reshape(u,!0)},"Array, Array":function(n,u){return u.forEach(function(s){if(!t(s))throw new TypeError("Invalid size for dimension: "+s)}),Kt(n,u)}})}),Qn="size",D0=["typed","config","?matrix"],g0=rr(Qn,D0,r=>{var{typed:e,config:t,matrix:i}=r;return e(Qn,{Matrix:function(u){return u.create(u.size())},Array:zr,string:function(u){return t.matrix==="Array"?[u.length]:i([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return t.matrix==="Array"?[]:i?i([]):la()}})}),Xn="subset",y0=["typed","matrix","zeros","add"],w0=rr(Xn,y0,r=>{var{typed:e,matrix:t,zeros:i,add:n}=r;return e(Xn,{"Matrix, Index":function(h,l){return ze(l)?t():(vt(h,l),h.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(h,l){var c=s(t(h),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":E0,"string, Index":A0,"Matrix, Index, any, any":function(h,l,c,o){return ze(l)?h:(vt(h,l),h.clone().subset(l,u(c,l),o))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(h,l,c,o){var a=s(t(h),l,c,o);return a.isMatrix?a.valueOf():a}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(h,l,c){return s(t(h),l,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(h,l,c){return s(h,l,c,void 0)}}),"string, Index, string":Kn,"string, Index, string, string":Kn,"Object, Index, any":F0});function u(s,h){if(typeof s=="string")throw new Error("can't boradcast a string");if(h._isScalar)return s;var l=h.size();if(l.every(c=>c>0))try{return n(s,i(l))}catch{return s}else return s}});function A0(r,e){if(!wt(e))throw new TypeError("Index expected");if(ze(e))return"";if(vt(Array.from(r),e),e.size().length!==1)throw new wr(e.size().length,1);var t=r.length;Sr(e.min()[0],t),Sr(e.max()[0],t);var i=e.dimension(0),n="";return i.forEach(function(u){n+=r.charAt(u)}),n}function Kn(r,e,t,i){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(ze(e))return r;if(vt(Array.from(r),e),e.size().length!==1)throw new wr(e.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var n=e.dimension(0),u=n.size()[0];if(u!==t.length)throw new wr(n.size()[0],t.length);var s=r.length;Sr(e.min()[0]),Sr(e.max()[0]);for(var h=[],l=0;l<s;l++)h[l]=r.charAt(l);if(n.forEach(function(a,f){h[a]=t.charAt(f[0])}),h.length>s)for(var c=s-1,o=h.length;c<o;c++)h[c]||(h[c]=i);return h.join("")}function E0(r,e){if(!ze(e)){if(e.size().length!==1)throw new wr(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return Si(r,t)}}function F0(r,e,t){if(ze(e))return r;if(e.size().length!==1)throw new wr(e.size(),1);var i=e.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var n=Er(r);return _i(n,i,t),n}var Wn="transpose",C0=["typed","matrix"],b0=rr(Wn,C0,r=>{var{typed:e,matrix:t}=r;return e(Wn,{Array:s=>i(t(s)).valueOf(),Matrix:i,any:Er});function i(s){var h=s.size(),l;switch(h.length){case 1:l=s.clone();break;case 2:{var c=h[0],o=h[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Or(h)+")");switch(s.storage()){case"dense":l=n(s,c,o);break;case"sparse":l=u(s,c,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Or(h)+")")}return l}function n(s,h,l){for(var c=s._data,o=[],a,f=0;f<l;f++){a=o[f]=[];for(var v=0;v<h;v++)a[v]=Er(c[v][f])}return s.createDenseMatrix({data:o,size:[l,h],datatype:s._datatype})}function u(s,h,l){for(var c=s._values,o=s._index,a=s._ptr,f=c?[]:void 0,v=[],d=[],p=[],g=0;g<h;g++)p[g]=0;var D,E,w;for(D=0,E=o.length;D<E;D++)p[o[D]]++;for(var F=0,A=0;A<h;A++)d.push(F),F+=p[A],p[A]=d[A];for(d.push(F),w=0;w<l;w++)for(var m=a[w],b=a[w+1],C=m;C<b;C++){var y=p[o[C]]++;v[y]=w,c&&(f[y]=Er(c[C]))}return s.createSparseMatrix({values:f,index:v,ptr:d,size:[l,h],datatype:s._datatype})}}),Hn="ctranspose",M0=["typed","transpose","conj"],S0=rr(Hn,M0,r=>{var{typed:e,transpose:t,conj:i}=r;return e(Hn,{any:function(u){return i(t(u))}})}),kn="zeros",_0=["typed","config","matrix","BigNumber"],B0=rr(kn,_0,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e(kn,{"":function(){return t.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var o=c[c.length-1];if(typeof o=="string"){var a=c.pop();return u(c,a)}else return t.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var o=c.storage();return u(c.valueOf(),o)},"Array | Matrix, string":function(c,o){return u(c.valueOf(),o)}});function u(l,c){var o=s(l),a=o?new n(0):0;if(h(l),c){var f=i(c);return l.length>0?f.resize(l,a):f}else{var v=[];return l.length>0?ht(v,l,a):v}}function s(l){var c=!1;return l.forEach(function(o,a,f){Ir(o)&&(c=!0,f[a]=o.toNumber())}),c}function h(l){l.forEach(function(c){if(typeof c!="number"||!Nr(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),N0="numeric",x0=["number","?bignumber","?fraction"],T0=rr(N0,x0,r=>{var{number:e,bignumber:t,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:s=>e(s),BigNumber:t?s=>t(s):ca,bigint:s=>BigInt(s),Fraction:i?s=>i(s):v0};return function(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=ce(h);if(!(o in n))throw new TypeError("Cannot convert "+h+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+h+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===o?h:u[l](h)}}),jn="divideScalar",z0=["typed","numeric"],O0=rr(jn,z0,r=>{var{typed:e,numeric:t}=r;return e(jn,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),ri="pow",I0=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],$0=rr(ri,I0,r=>{var{typed:e,config:t,identity:i,multiply:n,matrix:u,inv:s,number:h,fraction:l,Complex:c}=r;return e(ri,{"number, number":o,"Complex, Complex":function(d,p){return d.pow(p)},"BigNumber, BigNumber":function(d,p){return p.isInteger()||d>=0||t.predictable?d.pow(p):new c(d.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(v,d)=>v**d,"Fraction, Fraction":function(d,p){var g=d.pow(p);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(d.valueOf(),p.valueOf())},"Array, number":a,"Array, BigNumber":function(d,p){return a(d,p.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(d,p){return f(d,p.toNumber())},"Unit, number | BigNumber":function(d,p){return d.pow(p)}});function o(v,d){if(t.predictable&&!Nr(d)&&v<0)try{var p=l(d),g=h(p);if((d===g||Math.abs((d-g)/d)<1e-14)&&p.d%2===1)return(p.n%2===0?1:-1)*Math.pow(-v,d)}catch{}return t.predictable&&(v<-1&&d===1/0||v>-1&&v<0&&d===-1/0)?NaN:Nr(d)||v>=0||t.predictable?aa(v,d):v*v<1&&d===1/0||v*v>1&&d===-1/0?0:new c(v,0).pow(d,0)}function a(v,d){if(!Nr(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var p=zr(v);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(d<0)try{return a(s(v),-d)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):E}for(var g=i(p[0]).valueOf(),D=v;d>=1;)(d&1)===1&&(g=n(D,g)),d>>=1,D=n(D,D);return g}function f(v,d){return u(a(v.valueOf(),d))}});function St(r){var{DenseMatrix:e}=r;return function(i,n,u){var s=i.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Or(s)+")");var h=s[0],l=s[1];if(h!==l)throw new RangeError("Matrix must be square (size: "+Or(s)+")");var c=[];if(_r(n)){var o=n.size(),a=n._data;if(o.length===1){if(o[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<h;f++)c[f]=[a[f]];return new e({data:c,size:[h,1],datatype:n._datatype})}if(o.length===2){if(o[0]!==h||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Ai(n)){if(u){c=[];for(var v=0;v<h;v++)c[v]=[a[v][0]];return new e({data:c,size:[h,1],datatype:n._datatype})}return n}if(Ei(n)){for(var d=0;d<h;d++)c[d]=[0];for(var p=n._values,g=n._index,D=n._ptr,E=D[1],w=D[0];w<E;w++){var F=g[w];c[F][0]=p[w]}return new e({data:c,size:[h,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Fr(n)){var A=zr(n);if(A.length===1){if(A[0]!==h)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<h;m++)c[m]=[n[m]];return new e({data:c,size:[h,1]})}if(A.length===2){if(A[0]!==h||A[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<h;b++)c[b]=[n[b][0]];return new e({data:c,size:[h,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var ei="lsolve",q0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],P0=rr(ei,q0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:h}=r,l=St({DenseMatrix:h});return e(ei,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return c(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),p=c(d,v);return p.valueOf()}});function c(a,f){f=l(a,f,!0);for(var v=f._data,d=a._size[0],p=a._size[1],g=[],D=a._data,E=0;E<p;E++){var w=v[E][0]||0,F=void 0;if(s(w,0))F=0;else{var A=D[E][E];if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,A);for(var m=E+1;m<d;m++)v[m]=[u(v[m][0]||0,n(F,D[m][E]))]}g[E]=[F]}return new h({data:g,size:[d,1]})}function o(a,f){f=l(a,f,!0);for(var v=f._data,d=a._size[0],p=a._size[1],g=a._values,D=a._index,E=a._ptr,w=[],F=0;F<p;F++){var A=v[F][0]||0;if(s(A,0))w[F]=[0];else{for(var m=0,b=[],C=[],y=E[F],M=E[F+1],S=y;S<M;S++){var B=D[S];B===F?m=g[S]:B>F&&(b.push(g[S]),C.push(B))}if(s(m,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(A,m),z=0,I=C.length;z<I;z++){var N=C[z];v[N]=[u(v[N][0]||0,n(O,b[z]))]}w[F]=[O]}}return new h({data:w,size:[d,1]})}}),ti="usolve",R0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],U0=rr(ti,R0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:h}=r,l=St({DenseMatrix:h});return e(ti,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return c(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),p=c(d,v);return p.valueOf()}});function c(a,f){f=l(a,f,!0);for(var v=f._data,d=a._size[0],p=a._size[1],g=[],D=a._data,E=p-1;E>=0;E--){var w=v[E][0]||0,F=void 0;if(s(w,0))F=0;else{var A=D[E][E];if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,A);for(var m=E-1;m>=0;m--)v[m]=[u(v[m][0]||0,n(F,D[m][E]))]}g[E]=[F]}return new h({data:g,size:[d,1]})}function o(a,f){f=l(a,f,!0);for(var v=f._data,d=a._size[0],p=a._size[1],g=a._values,D=a._index,E=a._ptr,w=[],F=p-1;F>=0;F--){var A=v[F][0]||0;if(s(A,0))w[F]=[0];else{for(var m=0,b=[],C=[],y=E[F],M=E[F+1],S=M-1;S>=y;S--){var B=D[S];B===F?m=g[S]:B<F&&(b.push(g[S]),C.push(B))}if(s(m,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(A,m),z=0,I=C.length;z<I;z++){var N=C[z];v[N]=[u(v[N][0],n(O,b[z]))]}w[F]=[O]}}return new h({data:w,size:[d,1]})}}),ni="usolveAll",L0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Z0=rr(ni,L0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:h}=r,l=St({DenseMatrix:h});return e(ni,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return c(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),p=c(d,v);return p.map(g=>g.valueOf())}});function c(a,f){for(var v=[l(a,f,!0)._data.map(C=>C[0])],d=a._data,p=a._size[0],g=a._size[1],D=g-1;D>=0;D--)for(var E=v.length,w=0;w<E;w++){var F=v[w];if(s(d[D][D],0))if(s(F[D],0)){if(w===0){var m=[...F];m[D]=1;for(var b=D-1;b>=0;b--)m[b]=u(m[b],d[b][D]);v.push(m)}}else{if(w===0)return[];v.splice(w,1),w-=1,E-=1}else{F[D]=i(F[D],d[D][D]);for(var A=D-1;A>=0;A--)F[A]=u(F[A],n(F[D],d[A][D]))}}return v.map(C=>new h({data:C.map(y=>[y]),size:[p,1]}))}function o(a,f){for(var v=[l(a,f,!0)._data.map(W=>W[0])],d=a._size[0],p=a._size[1],g=a._values,D=a._index,E=a._ptr,w=p-1;w>=0;w--)for(var F=v.length,A=0;A<F;A++){for(var m=v[A],b=[],C=[],y=E[w],M=E[w+1],S=0,B=M-1;B>=y;B--){var O=D[B];O===w?S=g[B]:O<w&&(b.push(g[B]),C.push(O))}if(s(S,0))if(s(m[w],0)){if(A===0){var Y=[...m];Y[w]=1;for(var q=0,T=C.length;q<T;q++){var Z=C[q];Y[Z]=u(Y[Z],b[q])}v.push(Y)}}else{if(A===0)return[];v.splice(A,1),A-=1,F-=1}else{m[w]=i(m[w],S);for(var z=0,I=C.length;z<I;z++){var N=C[z];m[N]=u(m[N],n(m[w],b[z]))}}}return v.map(W=>new h({data:W.map(U=>[U]),size:[d,1]}))}}),dt="equal",V0=["typed","matrix","equalScalar","DenseMatrix","concat"],Y0=rr(dt,V0,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:u}=r,s=$e({typed:e}),h=Ge({typed:e,DenseMatrix:n}),l=Ie({typed:e,DenseMatrix:n}),c=Ee({typed:e,matrix:t,concat:u});return e(dt,J0({typed:e,equalScalar:i}),c({elop:i,SS:h,DS:s,Ss:l}))}),J0=rr(dt,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(dt,{"any, any":function(n,u){return n===null?u===null:u===null?n===null:n===void 0?u===void 0:u===void 0?n===void 0:t(n,u)}})}),mt="smaller",G0=["typed","config","matrix","DenseMatrix","concat"],Q0=rr(mt,G0,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=$e({typed:e}),h=Ge({typed:e,DenseMatrix:n}),l=Ie({typed:e,DenseMatrix:n}),c=Ee({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(mt,X0({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<f,"BigNumber, BigNumber":function(f,v){return f.lt(v)&&!Oe(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a<f,"Fraction, Fraction":(a,f)=>a.compare(f)===-1,"Complex, Complex":function(f,v){throw new TypeError("No ordering relation is defined for complex numbers")}},o,c({SS:h,DS:s,Ss:l}))}),X0=rr(mt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(mt,{"number, number":function(n,u){return n<u&&!le(n,u,t.relTol,t.absTol)}})}),Dt="smallerEq",K0=["typed","config","matrix","DenseMatrix","concat"],W0=rr(Dt,K0,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=$e({typed:e}),h=Ge({typed:e,DenseMatrix:n}),l=Ie({typed:e,DenseMatrix:n}),c=Ee({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(Dt,H0({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<=f,"BigNumber, BigNumber":function(f,v){return f.lte(v)||Oe(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a<=f,"Fraction, Fraction":(a,f)=>a.compare(f)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,c({SS:h,DS:s,Ss:l}))}),H0=rr(Dt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Dt,{"number, number":function(n,u){return n<=u||le(n,u,t.relTol,t.absTol)}})}),gt="larger",k0=["typed","config","matrix","DenseMatrix","concat"],j0=rr(gt,k0,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=$e({typed:e}),h=Ge({typed:e,DenseMatrix:n}),l=Ie({typed:e,DenseMatrix:n}),c=Ee({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(gt,rc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>f,"BigNumber, BigNumber":function(f,v){return f.gt(v)&&!Oe(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a>f,"Fraction, Fraction":(a,f)=>a.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,c({SS:h,DS:s,Ss:l}))}),rc=rr(gt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(gt,{"number, number":function(n,u){return n>u&&!le(n,u,t.relTol,t.absTol)}})}),yt="largerEq",ec=["typed","config","matrix","DenseMatrix","concat"],tc=rr(yt,ec,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=$e({typed:e}),h=Ge({typed:e,DenseMatrix:n}),l=Ie({typed:e,DenseMatrix:n}),c=Ee({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(yt,nc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>=f,"BigNumber, BigNumber":function(f,v){return f.gte(v)||Oe(f,v,t.relTol,t.absTol)},"bigint, bigint":function(f,v){return f>=v},"Fraction, Fraction":(a,f)=>a.compare(f)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,c({SS:h,DS:s,Ss:l}))}),nc=rr(yt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(yt,{"number, number":function(n,u){return n>=u||le(n,u,t.relTol,t.absTol)}})}),ic="ImmutableDenseMatrix",ac=["smaller","DenseMatrix"],uc=rr(ic,ac,r=>{var{smaller:e,DenseMatrix:t}=r;function i(n,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!re(u))throw new Error("Invalid datatype: "+u);if(_r(n)||Fr(n)){var s=new t(n,u);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(n&&Fr(n.data)&&Fr(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min<"u"?n.min:null,this._max=typeof n.max<"u"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+ce(n)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return i.prototype=new t,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(n){switch(arguments.length){case 1:{var u=t.prototype.subset.call(this,n);return _r(u)?new i({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Er(this._data),size:Er(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(n){return new i(n)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(u){(n===null||e(u,n))&&(n=u)}),this._min=n!==null?n:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(u){(n===null||e(n,u))&&(n=u)}),this._max=n!==null?n:void 0}return this._max},i},{isClass:!0}),oc="Index",sc=["ImmutableDenseMatrix","getMatrixDataType"],fc=rr(oc,sc,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,h=arguments.length;s<h;s++){var l=arguments[s],c=Fr(l),o=_r(l),a=null;if(Fi(l))this._dimensions.push(l),this._isScalar=!1;else if(c||o){var f=void 0;t(l)==="boolean"?(c&&(f=n(ii(l).valueOf())),o&&(f=n(ii(l._data).valueOf())),a=l.valueOf().length):f=n(l.valueOf()),this._dimensions.push(f);var v=f.size();(v.length!==1||v[0]!==1||a!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(n([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(a)}}i.prototype.type="Index",i.prototype.isIndex=!0;function n(u){for(var s=0,h=u.length;s<h;s++)if(typeof u[s]!="number"||!Nr(u[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(u)}return i.prototype.clone=function(){var u=new i;return u._dimensions=Er(this._dimensions),u._isScalar=this._isScalar,u._sourceSize=this._sourceSize,u},i.create=function(u){var s=new i;return i.apply(s,u),s},i.prototype.size=function(){for(var u=[],s=0,h=this._dimensions.length;s<h;s++){var l=this._dimensions[s];u[s]=typeof l=="string"?1:l.size()[0]}return u},i.prototype.max=function(){for(var u=[],s=0,h=this._dimensions.length;s<h;s++){var l=this._dimensions[s];u[s]=typeof l=="string"?l:l.max()}return u},i.prototype.min=function(){for(var u=[],s=0,h=this._dimensions.length;s<h;s++){var l=this._dimensions[s];u[s]=typeof l=="string"?l:l.min()}return u},i.prototype.forEach=function(u){for(var s=0,h=this._dimensions.length;s<h;s++)u(this._dimensions[s],s,this)},i.prototype.dimension=function(u){return this._dimensions[u]||null},i.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var u=[],s=0,h=this._dimensions.length;s<h;s++){var l=this._dimensions[s];u.push(typeof l=="string"?l:l.toArray())}return u},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var u=[],s=0,h=this._dimensions.length;s<h;s++){var l=this._dimensions[s];typeof l=="string"?u.push(JSON.stringify(l)):u.push(l.toString())}return"["+u.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(u){return i.create(u.dimensions)},i},{isClass:!0});function ii(r){var e=[];return r.forEach((t,i)=>{t&&e.push(i)}),e}var cc="FibonacciHeap",lc=["smaller","larger"],vc=rr(cc,lc,r=>{var{smaller:e,larger:t}=r,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(o,a){var f={key:o,value:a,degree:0};if(this._minimum){var v=this._minimum;f.left=v,f.right=v.right,v.right=f,f.right.left=f,e(o,v.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var a=this._minimum,f=o.degree,v=o.child;f>0;){var d=v.right;v.left.right=v.right,v.right.left=v.left,v.left=a,v.right=a.right,a.right=v,v.right.left=v,v.parent=null,v=d,f--}return o.left.right=o.right,o.right.left=o.left,o===o.right?a=null:(a=o.right,a=c(a,this._size)),this._size--,this._minimum=a,o},n.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,a,f){a.key=f;var v=a.parent;return v&&e(a.key,v.key)&&(s(o,a,v),h(o,v)),e(a.key,o.key)&&(o=a),o}function s(o,a,f){a.left.right=a.right,a.right.left=a.left,f.degree--,f.child===a&&(f.child=a.right),f.degree===0&&(f.child=null),a.left=o,a.right=o.right,o.right=a,a.right.left=a,a.parent=null,a.mark=!1}function h(o,a){var f=a.parent;f&&(a.mark?(s(o,a,f),h(f)):a.mark=!0)}var l=function(a,f){a.left.right=a.right,a.right.left=a.left,a.parent=f,f.child?(a.left=f.child,a.right=f.child.right,f.child.right=a,a.right.left=a):(f.child=a,a.right=a,a.left=a),f.degree++,a.mark=!1};function c(o,a){var f=Math.floor(Math.log(a)*i)+1,v=new Array(f),d=0,p=o;if(p)for(d++,p=p.right;p!==o;)d++,p=p.right;for(var g;d>0;){for(var D=p.degree,E=p.right;g=v[D],!!g;){if(t(p.key,g.key)){var w=g;g=p,p=w}l(g,p),v[D]=null,D++}v[D]=p,p=E,d--}o=null;for(var F=0;F<f;F++)g=v[F],g&&(o?(g.left.right=g.right,g.right.left=g.left,g.left=o,g.right=o.right,o.right=g,g.right.left=g,e(g.key,o.key)&&(o=g)):o=g);return o}return n},{isClass:!0}),hc="Spa",pc=["addScalar","equalScalar","FibonacciHeap"],dc=rr(hc,pc,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(u,s){if(this._values[u])this._values[u].value=s;else{var h=this._heap.insert(u,s);this._values[u]=h}},n.prototype.get=function(u){var s=this._values[u];return s?s.value:0},n.prototype.accumulate=function(u,s){var h=this._values[u];h?h.value=e(h.value,s):(h=this._heap.insert(u,s),this._values[u]=h)},n.prototype.forEach=function(u,s,h){var l=this._heap,c=this._values,o=[],a=l.extractMinimum();for(a&&o.push(a);a&&a.key<=s;)a.key>=u&&(t(a.value,0)||h(a.key,a.value,this)),a=l.extractMinimum(),a&&o.push(a);for(var f=0;f<o.length;f++){var v=o[f];a=l.insert(v.key,v.value),c[a.key]=a}},n.prototype.swap=function(u,s){var h=this._values[u],l=this._values[s];if(!h&&l)h=this._heap.insert(u,l.value),this._heap.remove(l),this._values[u]=h,this._values[s]=void 0;else if(h&&!l)l=this._heap.insert(s,h.value),this._heap.remove(h),this._values[s]=l,this._values[u]=void 0;else if(h&&l){var c=h.value;h.value=l.value,l.value=c}},n},{isClass:!0}),mc="atan",Dc=["typed"],gc=rr(mc,Dc,r=>{var{typed:e}=r;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),va=rr("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,i.valueType())(i.value)})}}),ai="cos",yc=["typed"],wc=rr(ai,yc,r=>{var{typed:e}=r,t=va({typed:e});return e(ai,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},t)}),ui="sin",Ac=["typed"],Ec=rr(ui,Ac,r=>{var{typed:e}=r,t=va({typed:e});return e(ui,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},t)}),oi="add",Fc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Cc=rr(oi,Fc,r=>{var{typed:e,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:u,SparseMatrix:s,concat:h}=r,l=sa({typed:e}),c=Bf({typed:e,equalScalar:n}),o=fa({typed:e,DenseMatrix:u}),a=Ee({typed:e,matrix:t,concat:h});return e(oi,{"any, any":i,"any, any, ...any":e.referToSelf(f=>(v,d,p)=>{for(var g=f(v,d),D=0;D<p.length;D++)g=f(g,p[D]);return g})},a({elop:i,DS:l,SS:c,Ss:o}))}),si="norm",bc=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Mc=rr(si,bc,r=>{var{typed:e,abs:t,add:i,pow:n,conj:u,sqrt:s,multiply:h,equalScalar:l,larger:c,smaller:o,matrix:a,ctranspose:f,eigs:v}=r;return e(si,{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return m(a(C),2)},Matrix:function(C){return m(C,2)},"Array, number | BigNumber | string":function(C,y){return m(a(C),y)},"Matrix, number | BigNumber | string":function(C,y){return m(C,y)}});function d(b){var C=0;return b.forEach(function(y){var M=t(y);c(M,C)&&(C=M)},!0),C}function p(b){var C;return b.forEach(function(y){var M=t(y);(!C||o(M,C))&&(C=M)},!0),C||0}function g(b,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return d(b);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return p(b);if(C==="fro")return m(b,2);if(typeof C=="number"&&!isNaN(C)){if(!l(C,0)){var y=0;return b.forEach(function(M){y=i(n(t(M),C),y)},!0),n(y,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function D(b){var C=0;return b.forEach(function(y,M){C=i(C,h(y,u(y)))}),t(s(C))}function E(b){var C=[],y=0;return b.forEach(function(M,S){var B=S[1],O=i(C[B]||0,t(M));c(O,y)&&(y=O),C[B]=O},!0),y}function w(b){var C=b.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var y=f(b),M=h(y,b),S=v(M).values.toArray(),B=S[S.length-1];return t(s(B))}function F(b){var C=[],y=0;return b.forEach(function(M,S){var B=S[0],O=i(C[B]||0,t(M));c(O,y)&&(y=O),C[B]=O},!0),y}function A(b,C){if(C===1)return E(b);if(C===Number.POSITIVE_INFINITY||C==="inf")return F(b);if(C==="fro")return D(b);if(C===2)return w(b);throw new Error("Unsupported parameter value "+C)}function m(b,C){var y=b.size();if(y.length===1)return g(b,C);if(y.length===2){if(y[0]&&y[1])return A(b,C);throw new RangeError("Invalid matrix dimensions")}}}),fi="dot",Sc=["typed","addScalar","multiplyScalar","conj","size"],_c=rr(fi,Sc,r=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:n,size:u}=r;return e(fi,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":l});function s(o,a){var f=c(o),v=c(a),d,p;if(f.length===1)d=f[0];else if(f.length===2&&f[1]===1)d=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(v.length===1)p=v[0];else if(v.length===2&&v[1]===1)p=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d!==p)throw new RangeError("Vectors must have equal length ("+d+" != "+p+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function h(o,a){var f=s(o,a),v=_r(o)?o._data:o,d=_r(o)?o._datatype||o.getDataType():void 0,p=_r(a)?a._data:a,g=_r(a)?a._datatype||a.getDataType():void 0,D=c(o).length===2,E=c(a).length===2,w=t,F=i;if(d&&g&&d===g&&typeof d=="string"&&d!=="mixed"){var A=d;w=e.find(t,[A,A]),F=e.find(i,[A,A])}if(!D&&!E){for(var m=F(n(v[0]),p[0]),b=1;b<f;b++)m=w(m,F(n(v[b]),p[b]));return m}if(!D&&E){for(var C=F(n(v[0]),p[0][0]),y=1;y<f;y++)C=w(C,F(n(v[y]),p[y][0]));return C}if(D&&!E){for(var M=F(n(v[0][0]),p[0]),S=1;S<f;S++)M=w(M,F(n(v[S][0]),p[S]));return M}if(D&&E){for(var B=F(n(v[0][0]),p[0][0]),O=1;O<f;O++)B=w(B,F(n(v[O][0]),p[O][0]));return B}}function l(o,a){s(o,a);for(var f=o._index,v=o._values,d=a._index,p=a._values,g=0,D=t,E=i,w=0,F=0;w<f.length&&F<d.length;){var A=f[w],m=d[F];if(A<m){w++;continue}if(A>m){F++;continue}A===m&&(g=D(g,E(v[w],p[F])),w++,F++)}return g}function c(o){return _r(o)?o.size():u(o)}}),ci="index",Bc=["typed","Index"],Nc=rr(ci,Bc,r=>{var{typed:e,Index:t}=r;return e(ci,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var u=n.map(function(h){return Ir(h)?h.toNumber():Fr(h)||_r(h)?h.map(function(l){return Ir(l)?l.toNumber():l}):h}),s=new t;return t.apply(s,u),s}})}),li="lup",xc=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Tc=rr(li,xc,r=>{var{typed:e,matrix:t,abs:i,addScalar:n,divideScalar:u,multiplyScalar:s,subtractScalar:h,larger:l,equalScalar:c,unaryMinus:o,DenseMatrix:a,SparseMatrix:f,Spa:v}=r;return e(li,{DenseMatrix:function(D){return d(D)},SparseMatrix:function(D){return p(D)},Array:function(D){var E=t(D),w=d(E);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function d(g){var D=g._size[0],E=g._size[1],w=Math.min(D,E),F=Er(g._data),A=[],m=[D,w],b=[],C=[w,E],y,M,S,B=[];for(y=0;y<D;y++)B[y]=y;for(M=0;M<E;M++){if(M>0)for(y=0;y<D;y++){var O=Math.min(y,M),z=0;for(S=0;S<O;S++)z=n(z,s(F[y][S],F[S][M]));F[y][M]=h(F[y][M],z)}var I=M,N=0,Y=0;for(y=M;y<D;y++){var q=F[y][M],T=i(q);l(T,N)&&(I=y,N=T,Y=q)}if(M!==I&&(B[M]=[B[I],B[I]=B[M]][0],a._swapRows(M,I,F)),M<D)for(y=M+1;y<D;y++){var Z=F[y][M];c(Z,0)||(F[y][M]=u(F[y][M],Y))}}for(M=0;M<E;M++)for(y=0;y<D;y++){if(M===0&&(y<E&&(b[y]=[]),A[y]=[]),y<M){y<E&&(b[y][M]=F[y][M]),M<D&&(A[y][M]=0);continue}if(y===M){y<E&&(b[y][M]=F[y][M]),M<D&&(A[y][M]=1);continue}y<E&&(b[y][M]=0),M<D&&(A[y][M]=F[y][M])}var W=new a({data:A,size:m}),U=new a({data:b,size:C}),R=[];for(y=0,w=B.length;y<w;y++)R[B[y]]=y;return{L:W,U,p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function p(g){var D=g._size[0],E=g._size[1],w=Math.min(D,E),F=g._values,A=g._index,m=g._ptr,b=[],C=[],y=[],M=[D,w],S=[],B=[],O=[],z=[w,E],I,N,Y,q=[],T=[];for(I=0;I<D;I++)q[I]=I,T[I]=I;var Z=function(R,V){var nr=T[R],k=T[V];q[nr]=V,q[k]=R,T[R]=k,T[V]=nr},W=function(){var R=new v;N<D&&(y.push(b.length),b.push(1),C.push(N)),O.push(S.length);var V=m[N],nr=m[N+1];for(Y=V;Y<nr;Y++)I=A[Y],R.set(q[I],F[Y]);N>0&&R.forEach(0,N-1,function(K,G){f._forEachRow(K,b,C,y,function(ur,j){ur>K&&R.accumulate(ur,o(s(j,G)))})});var k=N,L=R.get(N),X=i(L);R.forEach(N+1,D-1,function(K,G){var ur=i(G);l(ur,X)&&(k=K,X=ur,L=G)}),N!==k&&(f._swapRows(N,k,M[1],b,C,y),f._swapRows(N,k,z[1],S,B,O),R.swap(N,k),Z(N,k)),R.forEach(0,D-1,function(K,G){K<=N?(S.push(G),B.push(K)):(G=u(G,L),c(G,0)||(b.push(G),C.push(K)))})};for(N=0;N<E;N++)W();return O.push(S.length),y.push(b.length),{L:new f({values:b,index:C,ptr:y,size:M}),U:new f({values:S,index:B,ptr:O,size:z}),p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),vi="qr",zc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Oc=rr(vi,zc,r=>{var{typed:e,matrix:t,zeros:i,identity:n,isZero:u,equal:s,sign:h,sqrt:l,conj:c,unaryMinus:o,addScalar:a,divideScalar:f,multiplyScalar:v,subtractScalar:d,complex:p}=r;return Ne(e(vi,{DenseMatrix:function(F){return D(F)},SparseMatrix:function(F){return E()},Array:function(F){var A=t(F),m=D(A);return{Q:m.Q.valueOf(),R:m.R.valueOf()}}}),{_denseQRimpl:g});function g(w){var F=w._size[0],A=w._size[1],m=n([F],"dense"),b=m._data,C=w.clone(),y=C._data,M,S,B,O=i([F],"");for(B=0;B<Math.min(A,F);++B){var z=y[B][B],I=o(s(z,0)?1:h(z)),N=c(I),Y=0;for(M=B;M<F;M++)Y=a(Y,v(y[M][B],c(y[M][B])));var q=v(I,l(Y));if(!u(q)){var T=d(z,q);for(O[B]=1,M=B+1;M<F;M++)O[M]=f(y[M][B],T);var Z=o(c(f(T,q))),W=void 0;for(S=B;S<A;S++){for(W=0,M=B;M<F;M++)W=a(W,v(c(O[M]),y[M][S]));for(W=v(W,Z),M=B;M<F;M++)y[M][S]=v(d(y[M][S],v(O[M],W)),N)}for(M=0;M<F;M++){for(W=0,S=B;S<F;S++)W=a(W,v(b[M][S],O[S]));for(W=v(W,Z),S=B;S<F;++S)b[M][S]=f(d(b[M][S],v(W,c(O[S]))),N)}}}return{Q:m,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function D(w){var F=g(w),A=F.R._data;if(w._data.length>0)for(var m=A[0][0].type==="Complex"?p(0):0,b=0;b<A.length;++b)for(var C=0;C<b&&C<(A[0]||[]).length;++C)A[b][C]=m;return F}function E(w){throw new Error("qr not implemented for sparse matrices yet")}});function Ic(r,e,t,i){r._values;for(var n=r._index,u=r._ptr,s=r._size,h=r._datatype,l=s[0],c=s[1],o=null,a=[],f=[],v=0,d=0;d<c;d++){f[d]=v;for(var p=t?t[d]:d,g=u[p],D=u[p+1],E=g;E<D;E++){var w=n[E];a[v]=w,v++}}return f[c]=v,r.createSparseMatrix({values:o,index:a,ptr:f,size:[l,c],datatype:h})}function ha(r,e,t,i,n,u,s){var h=0;for(t[s]=r;h>=0;){var l=t[s+h],c=t[i+l];c===-1?(h--,u[e++]=l):(t[i+l]=t[n+c],++h,t[s+h]=c)}return e}function $c(r,e){if(!r)return null;var t=0,i,n=[],u=[],s=0,h=e,l=2*e;for(i=0;i<e;i++)u[s+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(u[h+i]=u[s+r[i]],u[s+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(t=ha(i,t,u,s,h,n,l));return n}function qc(r,e){if(!r)return null;var t=r._index,i=r._ptr,n=r._size,u=n[0],s=n[1],h=[],l=[],c=0,o=s,a,f;for(a=0;a<u;a++)l[o+a]=-1;for(var v=0;v<s;v++){h[v]=-1,l[c+v]=-1;for(var d=i[v],p=i[v+1],g=d;g<p;g++){var D=t[g];for(a=l[o+D];a!==-1&&a<v;a=f)f=l[c+a],l[c+a]=v,f===-1&&(h[a]=v);l[o+D]=v}}return h}function Pc(r,e,t){for(var i=r._values,n=r._index,u=r._ptr,s=r._size,h=s[1],l=0,c=0;c<h;c++){var o=u[c];for(u[c]=l;o<u[c+1];o++)e(n[o],c,i?i[o]:1,t)&&(n[l]=n[o],i&&(i[l]=i[o]),l++)}return u[h]=l,n.splice(l,n.length-l),i&&i.splice(l,i.length-l),l}function de(r){return-r-2}var Rc="csAmd",Uc=["add","multiply","transpose"],Lc=rr(Rc,Uc,r=>{var{add:e,multiply:t,transpose:i}=r;return function(o,a){if(!a||o<=0||o>3)return null;var f=a._size,v=f[0],d=f[1],p=0,g=Math.max(16,10*Math.sqrt(d));g=Math.min(d-2,g);var D=n(o,a,v,d,g);Pc(D,l,null);for(var E=D._index,w=D._ptr,F=w[d],A=[],m=[],b=0,C=d+1,y=2*(d+1),M=3*(d+1),S=4*(d+1),B=5*(d+1),O=6*(d+1),z=7*(d+1),I=A,N=u(d,w,m,b,M,I,y,z,C,O,S,B),Y=s(d,w,m,B,S,O,g,C,M,I,y),q=0,T,Z,W,U,R,V,nr,k,L,X,K,G,ur,j,or,cr;Y<d;){for(W=-1;q<d&&(W=m[M+q])===-1;q++);m[y+W]!==-1&&(I[m[y+W]]=-1),m[M+q]=m[y+W];var pr=m[S+W],mr=m[C+W];Y+=mr;var Dr=0;m[C+W]=-mr;var lr=w[W],Ar=pr===0?lr:F,yr=Ar;for(U=1;U<=pr+1;U++){for(U>pr?(V=W,nr=lr,k=m[b+W]-pr):(V=E[lr++],nr=w[V],k=m[b+V]),R=1;R<=k;R++)T=E[nr++],!((L=m[C+T])<=0)&&(Dr+=L,m[C+T]=-L,E[yr++]=T,m[y+T]!==-1&&(I[m[y+T]]=I[T]),I[T]!==-1?m[y+I[T]]=m[y+T]:m[M+m[B+T]]=m[y+T]);V!==W&&(w[V]=de(W),m[O+V]=0)}for(pr!==0&&(F=yr),m[B+W]=Dr,w[W]=Ar,m[b+W]=yr-Ar,m[S+W]=-2,N=h(N,p,m,O,d),X=Ar;X<yr;X++)if(T=E[X],!((K=m[S+T])<=0)){L=-m[C+T];var Cr=N-L;for(lr=w[T],G=w[T]+K-1;lr<=G;lr++)V=E[lr],m[O+V]>=N?m[O+V]-=L:m[O+V]!==0&&(m[O+V]=m[B+V]+Cr)}for(X=Ar;X<yr;X++){for(T=E[X],G=w[T],ur=G+m[S+T]-1,j=G,or=0,cr=0,lr=G;lr<=ur;lr++)if(V=E[lr],m[O+V]!==0){var Pr=m[O+V]-N;Pr>0?(cr+=Pr,E[j++]=V,or+=V):(w[V]=de(W),m[O+V]=0)}m[S+T]=j-G+1;var _=j,x=G+m[b+T];for(lr=ur+1;lr<x;lr++){Z=E[lr];var $=m[C+Z];$<=0||(cr+=$,E[j++]=Z,or+=Z)}cr===0?(w[T]=de(W),L=-m[C+T],Dr-=L,mr+=L,Y+=L,m[C+T]=0,m[S+T]=-1):(m[B+T]=Math.min(m[B+T],cr),E[j]=E[_],E[_]=E[G],E[G]=W,m[b+T]=j-G+1,or=(or<0?-or:or)%d,m[y+T]=m[z+or],m[z+or]=T,I[T]=or)}for(m[B+W]=Dr,p=Math.max(p,Dr),N=h(N+p,p,m,O,d),X=Ar;X<yr;X++)if(T=E[X],!(m[C+T]>=0))for(or=I[T],T=m[z+or],m[z+or]=-1;T!==-1&&m[y+T]!==-1;T=m[y+T],N++){for(k=m[b+T],K=m[S+T],lr=w[T]+1;lr<=w[T]+k-1;lr++)m[O+E[lr]]=N;var P=T;for(Z=m[y+T];Z!==-1;){var Q=m[b+Z]===k&&m[S+Z]===K;for(lr=w[Z]+1;Q&&lr<=w[Z]+k-1;lr++)m[O+E[lr]]!==N&&(Q=0);Q?(w[Z]=de(T),m[C+T]+=m[C+Z],m[C+Z]=0,m[S+Z]=-1,Z=m[y+Z],m[y+P]=Z):(P=Z,Z=m[y+Z])}}for(lr=Ar,X=Ar;X<yr;X++)T=E[X],!((L=-m[C+T])<=0)&&(m[C+T]=L,cr=m[B+T]+Dr-L,cr=Math.min(cr,d-Y-L),m[M+cr]!==-1&&(I[m[M+cr]]=T),m[y+T]=m[M+cr],I[T]=-1,m[M+cr]=T,q=Math.min(q,cr),m[B+T]=cr,E[lr++]=T);m[C+W]=mr,(m[b+W]=lr-Ar)===0&&(w[W]=-1,m[O+W]=0),pr!==0&&(F=lr)}for(T=0;T<d;T++)w[T]=de(w[T]);for(Z=0;Z<=d;Z++)m[M+Z]=-1;for(Z=d;Z>=0;Z--)m[C+Z]>0||(m[y+Z]=m[M+w[Z]],m[M+w[Z]]=Z);for(V=d;V>=0;V--)m[C+V]<=0||w[V]!==-1&&(m[y+V]=m[M+w[V]],m[M+w[V]]=V);for(W=0,T=0;T<=d;T++)w[T]===-1&&(W=ha(T,W,m,M,y,A,O));return A.splice(A.length-1,1),A};function n(c,o,a,f,v){var d=i(o);if(c===1&&f===a)return e(o,d);if(c===2){for(var p=d._index,g=d._ptr,D=0,E=0;E<a;E++){var w=g[E];if(g[E]=D,!(g[E+1]-w>v))for(var F=g[E+1];w<F;w++)p[D++]=p[w]}return g[a]=D,o=i(d),t(d,o)}return t(d,o)}function u(c,o,a,f,v,d,p,g,D,E,w,F){for(var A=0;A<c;A++)a[f+A]=o[A+1]-o[A];a[f+c]=0;for(var m=0;m<=c;m++)a[v+m]=-1,d[m]=-1,a[p+m]=-1,a[g+m]=-1,a[D+m]=1,a[E+m]=1,a[w+m]=0,a[F+m]=a[f+m];var b=h(0,0,a,E,c);return a[w+c]=-2,o[c]=-1,a[E+c]=0,b}function s(c,o,a,f,v,d,p,g,D,E,w){for(var F=0,A=0;A<c;A++){var m=a[f+A];if(m===0)a[v+A]=-2,F++,o[A]=-1,a[d+A]=0;else if(m>p)a[g+A]=0,a[v+A]=-1,F++,o[A]=de(c),a[g+c]++;else{var b=a[D+m];b!==-1&&(E[b]=A),a[w+A]=a[D+m],a[D+m]=A}}return F}function h(c,o,a,f,v){if(c<2||c+o<0){for(var d=0;d<v;d++)a[f+d]!==0&&(a[f+d]=1);c=2}return c}function l(c,o){return c!==o}});function Zc(r,e,t,i,n,u,s){var h,l,c=0,o;if(r<=e||t[i+e]<=t[n+r])return-1;t[n+r]=t[i+e];var a=t[u+r];if(t[u+r]=e,a===-1)c=1,o=r;else{for(c=2,o=a;o!==t[s+o];o=t[s+o]);for(h=a;h!==o;h=l)l=t[s+h],t[s+h]=o}return{jleaf:c,q:o}}var Vc="csCounts",Yc=["transpose"],Jc=rr(Vc,Yc,r=>{var{transpose:e}=r;return function(t,i,n,u){if(!t||!i||!n)return null;var s=t._size,h=s[0],l=s[1],c,o,a,f,v,d,p,g=4*l+(u?l+h+1:0),D=[],E=0,w=l,F=2*l,A=3*l,m=4*l,b=5*l+1;for(a=0;a<g;a++)D[a]=-1;var C=[],y=e(t),M=y._index,S=y._ptr;for(a=0;a<l;a++)for(o=n[a],C[o]=D[A+o]===-1?1:0;o!==-1&&D[A+o]===-1;o=i[o])D[A+o]=a;if(u){for(a=0;a<l;a++)D[n[a]]=a;for(c=0;c<h;c++){for(a=l,d=S[c],p=S[c+1],v=d;v<p;v++)a=Math.min(a,D[M[v]]);D[b+c]=D[m+a],D[m+a]=c}}for(c=0;c<l;c++)D[E+c]=c;for(a=0;a<l;a++){for(o=n[a],i[o]!==-1&&C[i[o]]--,f=u?D[m+a]:o;f!==-1;f=u?D[b+f]:-1)for(v=S[f];v<S[f+1];v++){c=M[v];var B=Zc(c,o,D,A,w,F,E);B.jleaf>=1&&C[o]++,B.jleaf===2&&C[B.q]--}i[o]!==-1&&(D[E+o]=i[o])}for(o=0;o<l;o++)i[o]!==-1&&(C[i[o]]+=C[o]);return C}}),Gc="csSqr",Qc=["add","multiply","transpose"],Xc=rr(Gc,Qc,r=>{var{add:e,multiply:t,transpose:i}=r,n=Lc({add:e,multiply:t,transpose:i}),u=Jc({transpose:i});return function(l,c,o){var a=c._ptr,f=c._size,v=f[1],d,p={};if(p.q=n(l,c),l&&!p.q)return null;if(o){var g=l?Ic(c,null,p.q):c;p.parent=qc(g);var D=$c(p.parent,v);if(p.cp=u(g,p.parent,D,1),g&&p.parent&&p.cp&&s(g,p))for(p.unz=0,d=0;d<v;d++)p.unz+=p.cp[d]}else p.unz=4*a[v]+v,p.lnz=p.unz;return p};function s(h,l){var c=h._ptr,o=h._index,a=h._size,f=a[0],v=a[1];l.pinv=[],l.leftmost=[];var d=l.parent,p=l.pinv,g=l.leftmost,D=[],E=0,w=f,F=f+v,A=f+2*v,m,b,C,y,M;for(b=0;b<v;b++)D[w+b]=-1,D[F+b]=-1,D[A+b]=0;for(m=0;m<f;m++)g[m]=-1;for(b=v-1;b>=0;b--)for(y=c[b],M=c[b+1],C=y;C<M;C++)g[o[C]]=b;for(m=f-1;m>=0;m--)p[m]=-1,b=g[m],b!==-1&&(D[A+b]++===0&&(D[F+b]=m),D[E+m]=D[w+b],D[w+b]=m);for(l.lnz=0,l.m2=f,b=0;b<v;b++)if(m=D[w+b],l.lnz++,m<0&&(m=l.m2++),p[m]=b,!(--A[b]<=0)){l.lnz+=D[A+b];var S=d[b];S!==-1&&(D[A+S]===0&&(D[F+S]=D[F+b]),D[E+D[F+b]]=D[w+S],D[w+S]=D[E+m],D[A+S]+=D[A+b])}for(m=0;m<f;m++)p[m]<0&&(p[m]=b++);return!0}});function Vt(r,e){return r[e]<0}function pa(r,e){r[e]=de(r[e])}function hi(r){return r<0?de(r):r}function Kc(r,e,t,i,n){var u=e._index,s=e._ptr,h=e._size,l=h[1],c,o,a,f=0;for(i[0]=r;f>=0;){r=i[f];var v=n?n[r]:r;Vt(s,r)||(pa(s,r),i[l+f]=v<0?0:hi(s[v]));var d=1;for(o=i[l+f],a=v<0?0:hi(s[v+1]);o<a;o++)if(c=u[o],!Vt(s,c)){i[l+f]=o,i[++f]=c,d=0;break}d&&(f--,i[--t]=r)}return t}function Wc(r,e,t,i,n){var u=r._ptr,s=r._size,h=e._index,l=e._ptr,c=s[1],o,a,f,v=c;for(a=l[t],f=l[t+1],o=a;o<f;o++){var d=h[o];Vt(u,d)||(v=Kc(d,r,v,i,n))}for(o=v;o<c;o++)pa(u,i[o]);return v}var Hc="csSpsolve",kc=["divideScalar","multiply","subtract"],jc=rr(Hc,kc,r=>{var{divideScalar:e,multiply:t,subtract:i}=r;return function(u,s,h,l,c,o,a){var f=u._values,v=u._index,d=u._ptr,p=u._size,g=p[1],D=s._values,E=s._index,w=s._ptr,F,A,m,b,C=Wc(u,s,h,l,o);for(F=C;F<g;F++)c[l[F]]=0;for(A=w[h],m=w[h+1],F=A;F<m;F++)c[E[F]]=D[F];for(var y=C;y<g;y++){var M=l[y],S=o?o[M]:M;if(!(S<0))for(A=d[S],m=d[S+1],c[M]=e(c[M],f[a?A:m-1]),F=a?A+1:A,b=a?m:m-1;F<b;F++){var B=v[F];c[B]=i(c[B],t(f[F],c[M]))}}return C}}),rl="csLu",el=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],tl=rr(rl,el,r=>{var{abs:e,divideScalar:t,multiply:i,subtract:n,larger:u,largerEq:s,SparseMatrix:h}=r,l=jc({divideScalar:t,multiply:i,subtract:n});return function(o,a,f){if(!o)return null;var v=o._size,d=v[1],p,g=100,D=100;a&&(p=a.q,g=a.lnz||g,D=a.unz||D);var E=[],w=[],F=[],A=new h({values:E,index:w,ptr:F,size:[d,d]}),m=[],b=[],C=[],y=new h({values:m,index:b,ptr:C,size:[d,d]}),M=[],S,B,O=[],z=[];for(S=0;S<d;S++)O[S]=0,M[S]=-1,F[S+1]=0;g=0,D=0;for(var I=0;I<d;I++){F[I]=g,C[I]=D;var N=p?p[I]:I,Y=l(A,o,N,z,O,M,1),q=-1,T=-1;for(B=Y;B<d;B++)if(S=z[B],M[S]<0){var Z=e(O[S]);u(Z,T)&&(T=Z,q=S)}else b[D]=M[S],m[D++]=O[S];if(q===-1||T<=0)return null;M[N]<0&&s(e(O[N]),i(T,f))&&(q=N);var W=O[q];for(b[D]=I,m[D++]=W,M[q]=I,w[g]=q,E[g++]=1,B=Y;B<d;B++)S=z[B],M[S]<0&&(w[g]=S,E[g++]=t(O[S],W)),O[S]=0}for(F[d]=g,C[d]=D,B=0;B<g;B++)w[B]=M[w[B]];return E.splice(g,E.length-g),w.splice(g,w.length-g),m.splice(D,m.length-D),b.splice(D,b.length-D),{L:A,U:y,pinv:M}}}),pi="slu",nl=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],il=rr(pi,nl,r=>{var{typed:e,abs:t,add:i,multiply:n,transpose:u,divideScalar:s,subtract:h,larger:l,largerEq:c,SparseMatrix:o}=r,a=Xc({add:i,multiply:n,transpose:u}),f=tl({abs:t,divideScalar:s,multiply:n,subtract:h,larger:l,largerEq:c,SparseMatrix:o});return e(pi,{"SparseMatrix, number, number":function(d,p,g){if(!Nr(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var D=a(p,d,!1),E=f(d,D,g);return{L:E.L,U:E.U,p:E.pinv,q:D.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function di(r,e){var t,i=e.length,n=[];if(r)for(t=0;t<i;t++)n[r[t]]=e[t];else for(t=0;t<i;t++)n[t]=e[t];return n}var mi="lusolve",al=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],ul=rr(mi,al,r=>{var{typed:e,matrix:t,lup:i,slu:n,usolve:u,lsolve:s,DenseMatrix:h}=r,l=St({DenseMatrix:h});return e(mi,{"Array, Array | Matrix":function(f,v){f=t(f);var d=i(f),p=o(d.L,d.U,d.p,null,v);return p.valueOf()},"DenseMatrix, Array | Matrix":function(f,v){var d=i(f);return o(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix":function(f,v){var d=i(f);return o(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix, number, number":function(f,v,d,p){var g=n(f,d,p);return o(g.L,g.U,g.p,g.q,v)},"Object, Array | Matrix":function(f,v){return o(f.L,f.U,f.p,f.q,v)}});function c(a){if(_r(a))return a;if(Fr(a))return t(a);throw new TypeError("Invalid Matrix LU decomposition")}function o(a,f,v,d,p){a=c(a),f=c(f),v&&(p=l(a,p,!0),p._data=di(v,p._data));var g=s(a,p),D=u(f,g);return d&&(D._data=di(d,D._data)),D}}),Di="det",ol=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],sl=rr(Di,ol,r=>{var{typed:e,matrix:t,subtractScalar:i,multiply:n,divideScalar:u,isZero:s,unaryMinus:h}=r;return e(Di,{any:function(o){return Er(o)},"Array | Matrix":function(o){var a;switch(_r(o)?a=o.size():Array.isArray(o)?(o=t(o),a=o.size()):a=[],a.length){case 0:return Er(o);case 1:if(a[0]===1)return Er(o.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Or(a)+")");case 2:{var f=a[0],v=a[1];if(f===v)return l(o.clone().valueOf(),f);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+Or(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Or(a)+")")}}});function l(c,o,a){if(o===1)return Er(c[0][0]);if(o===2)return i(n(c[0][0],c[1][1]),n(c[1][0],c[0][1]));for(var f=!1,v=new Array(o).fill(0).map((b,C)=>C),d=0;d<o;d++){var p=v[d];if(s(c[p][d])){var g=void 0;for(g=d+1;g<o;g++)if(!s(c[v[g]][d])){p=v[g],v[g]=v[d],v[d]=p,f=!f;break}if(g===o)return c[p][d]}for(var D=c[p][d],E=d===0?1:c[v[d-1]][d-1],w=d+1;w<o;w++)for(var F=v[w],A=d+1;A<o;A++)c[F][A]=u(i(n(c[F][A],D),n(c[F][d],c[p][A])),E)}var m=c[v[o-1]][o-1];return f?h(m):m}}),gi="inv",fl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],cl=rr(gi,fl,r=>{var{typed:e,matrix:t,divideScalar:i,addScalar:n,multiply:u,unaryMinus:s,det:h,identity:l,abs:c}=r;return e(gi,{"Array | Matrix":function(f){var v=_r(f)?f.size():zr(f);switch(v.length){case 1:if(v[0]===1)return _r(f)?t([i(1,f.valueOf()[0])]):[i(1,f[0])];throw new RangeError("Matrix must be square (size: "+Or(v)+")");case 2:{var d=v[0],p=v[1];if(d===p)return _r(f)?t(o(f.valueOf(),d,p),f.storage()):o(f,d,p);throw new RangeError("Matrix must be square (size: "+Or(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Or(v)+")")}},any:function(f){return i(1,f)}});function o(a,f,v){var d,p,g,D,E;if(f===1){if(D=a[0][0],D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,D)]]}else if(f===2){var w=h(a);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(a[1][1],w),i(s(a[0][1]),w)],[i(s(a[1][0]),w),i(a[0][0],w)]]}else{var F=a.concat();for(d=0;d<f;d++)F[d]=F[d].concat();for(var A=l(f).valueOf(),m=0;m<v;m++){var b=c(F[m][m]),C=m;for(d=m+1;d<f;)c(F[d][m])>b&&(b=c(F[d][m]),C=d),d++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");d=C,d!==m&&(E=F[m],F[m]=F[d],F[d]=E,E=A[m],A[m]=A[d],A[d]=E);var y=F[m],M=A[m];for(d=0;d<f;d++){var S=F[d],B=A[d];if(d!==m){if(S[m]!==0){for(g=i(s(S[m]),y[m]),p=m;p<v;p++)S[p]=n(S[p],u(g,y[p]));for(p=0;p<v;p++)B[p]=n(B[p],u(g,M[p]))}}else{for(g=y[m],p=m;p<v;p++)S[p]=i(S[p],g);for(p=0;p<v;p++)B[p]=i(B[p],g)}}}return A}}});function ll(r){var{addScalar:e,subtract:t,flatten:i,multiply:n,multiplyScalar:u,divideScalar:s,sqrt:h,abs:l,bignumber:c,diag:o,size:a,reshape:f,inv:v,qr:d,usolve:p,usolveAll:g,equal:D,complex:E,larger:w,smaller:F,matrixFromColumns:A,dot:m}=r;function b(U,R,V,nr){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,L=C(U,R,V,nr,k);y(U,R,V,nr,k,L);var{values:X,C:K}=M(U,R,V,nr,k);if(k){var G=S(U,R,K,L,X,V,nr);return{values:X,eigenvectors:G}}return{values:X}}function C(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?c(0):0,G=L?c(1):X?E(1):1,ur=L?c(1):1,j=L?c(10):2,or=u(j,j),cr;k&&(cr=Array(R).fill(G));for(var pr=!1;!pr;){pr=!0;for(var mr=0;mr<R;mr++){for(var Dr=K,lr=K,Ar=0;Ar<R;Ar++)mr!==Ar&&(Dr=e(Dr,l(U[Ar][mr])),lr=e(lr,l(U[mr][Ar])));if(!D(Dr,0)&&!D(lr,0)){for(var yr=ur,Cr=Dr,Pr=s(lr,j),_=u(lr,j);F(Cr,Pr);)Cr=u(Cr,or),yr=u(yr,j);for(;w(Cr,_);)Cr=s(Cr,or),yr=s(yr,j);var x=F(s(e(Cr,lr),yr),u(e(Dr,lr),.95));if(x){pr=!1;for(var $=s(1,yr),P=0;P<R;P++)mr!==P&&(U[mr][P]=u(U[mr][P],$),U[P][mr]=u(U[P][mr],yr));k&&(cr[mr]=u(cr[mr],$))}}}}return k?o(cr):null}function y(U,R,V,nr,k,L){var X=nr==="BigNumber",K=nr==="Complex",G=X?c(0):K?E(0):0;X&&(V=c(V));for(var ur=0;ur<R-2;ur++){for(var j=0,or=G,cr=ur+1;cr<R;cr++){var pr=U[cr][ur];F(l(or),l(pr))&&(or=pr,j=cr)}if(!F(l(or),V)){if(j!==ur+1){var mr=U[j];U[j]=U[ur+1],U[ur+1]=mr;for(var Dr=0;Dr<R;Dr++){var lr=U[Dr][j];U[Dr][j]=U[Dr][ur+1],U[Dr][ur+1]=lr}if(k){var Ar=L[j];L[j]=L[ur+1],L[ur+1]=Ar}}for(var yr=ur+2;yr<R;yr++){var Cr=s(U[yr][ur],or);if(Cr!==0){for(var Pr=0;Pr<R;Pr++)U[yr][Pr]=t(U[yr][Pr],u(Cr,U[ur+1][Pr]));for(var _=0;_<R;_++)U[_][ur+1]=e(U[_][ur+1],u(Cr,U[_][yr]));if(k)for(var x=0;x<R;x++)L[yr][x]=t(L[yr][x],u(Cr,L[ur+1][x]))}}}}return L}function M(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?c(1):X?E(1):1;L&&(V=c(V));for(var G=Er(U),ur=[],j=R,or=[],cr=k?o(Array(R).fill(K)):void 0,pr=k?o(Array(j).fill(K)):void 0,mr=0;mr<=100;){mr+=1;for(var Dr=G[j-1][j-1],lr=0;lr<j;lr++)G[lr][lr]=t(G[lr][lr],Dr);var{Q:Ar,R:yr}=d(G);G=n(yr,Ar);for(var Cr=0;Cr<j;Cr++)G[Cr][Cr]=e(G[Cr][Cr],Dr);if(k&&(pr=n(pr,Ar)),j===1||F(l(G[j-1][j-2]),V)){mr=0,ur.push(G[j-1][j-1]),k&&(or.unshift([[1]]),z(pr,R),cr=n(cr,pr),j>1&&(pr=o(Array(j-1).fill(K)))),j-=1,G.pop();for(var Pr=0;Pr<j;Pr++)G[Pr].pop()}else if(j===2||F(l(G[j-2][j-3]),V)){mr=0;var _=B(G[j-2][j-2],G[j-2][j-1],G[j-1][j-2],G[j-1][j-1]);ur.push(..._),k&&(or.unshift(O(G[j-2][j-2],G[j-2][j-1],G[j-1][j-2],G[j-1][j-1],_[0],_[1],V,nr)),z(pr,R),cr=n(cr,pr),j>2&&(pr=o(Array(j-2).fill(K)))),j-=2,G.pop(),G.pop();for(var x=0;x<j;x++)G[x].pop(),G[x].pop()}if(j===0)break}if(ur.sort((Q,J)=>+t(l(Q),l(J))),mr>100){var $=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ur.join(", "));throw $.values=ur,$.vectors=[],$}var P=k?n(cr,I(or,R)):void 0;return{values:ur,C:P}}function S(U,R,V,nr,k,L,X){var K=v(V),G=n(K,U,V),ur=X==="BigNumber",j=X==="Complex",or=ur?c(0):j?E(0):0,cr=ur?c(1):j?E(1):1,pr=[],mr=[];for(var Dr of k){var lr=N(pr,Dr,D);lr===-1?(pr.push(Dr),mr.push(1)):mr[lr]+=1}for(var Ar=[],yr=pr.length,Cr=Array(R).fill(or),Pr=o(Array(R).fill(cr)),_=function(){var P=pr[x],Q=t(G,n(P,Pr)),J=g(Q,Cr);for(J.shift();J.length<mr[x];){var ar=Y(Q,R,J,L,X);if(ar===null)break;J.push(ar)}var tr=n(v(nr),V);J=J.map(ir=>n(tr,ir)),Ar.push(...J.map(ir=>({value:P,vector:i(ir)})))},x=0;x<yr;x++)_();return Ar}function B(U,R,V,nr){var k=e(U,nr),L=t(u(U,nr),u(R,V)),X=u(k,.5),K=u(h(t(u(k,k),u(4,L))),.5);return[e(X,K),t(X,K)]}function O(U,R,V,nr,k,L,X,K){var G=K==="BigNumber",ur=K==="Complex",j=G?c(0):ur?E(0):0,or=G?c(1):ur?E(1):1;if(F(l(V),X))return[[or,j],[j,or]];if(w(l(t(k,L)),X))return[[t(k,nr),t(L,nr)],[V,V]];var cr=t(U,k),pr=t(nr,k);return F(l(R),X)&&F(l(pr),X)?[[cr,or],[V,j]]:[[R,j],[pr,or]]}function z(U,R){for(var V=0;V<U.length;V++)U[V].push(...Array(R-U[V].length).fill(0));for(var nr=U.length;nr<R;nr++)U.push(Array(R).fill(0)),U[nr][nr]=1;return U}function I(U,R){for(var V=[],nr=0;nr<R;nr++)V[nr]=Array(R).fill(0);var k=0;for(var L of U){for(var X=L.length,K=0;K<X;K++)for(var G=0;G<X;G++)V[k+K][k+G]=L[K][G];k+=X}return V}function N(U,R,V){for(var nr=0;nr<U.length;nr++)if(V(U[nr],R))return nr;return-1}function Y(U,R,V,nr,k){for(var L=k==="BigNumber"?c(1e3):1e3,X,K=0;K<5;++K){X=q(R,V,k);try{X=p(U,X)}catch{continue}if(w(Z(X),L))break}if(K>=5)return null;for(K=0;;){var G=p(U,X);if(F(Z(T(X,[G])),nr))break;if(++K>=10)return null;X=W(G)}return X}function q(U,R,V){var nr=V==="BigNumber",k=V==="Complex",L=Array(U).fill(0).map(X=>2*Math.random()-1);return nr&&(L=L.map(X=>c(X))),k&&(L=L.map(X=>E(X))),L=T(L,R),W(L,V)}function T(U,R){var V=a(U);for(var nr of R)nr=f(nr,V),U=t(U,n(s(m(nr,U),m(nr,nr)),nr));return U}function Z(U){return l(h(m(U,U)))}function W(U,R){var V=R==="BigNumber",nr=R==="Complex",k=V?c(1):nr?E(1):1;return n(s(k,Z(U)),U)}return b}function vl(r){var{config:e,addScalar:t,subtract:i,abs:n,atan:u,cos:s,sin:h,multiplyScalar:l,inv:c,bignumber:o,multiply:a,add:f}=r;function v(y,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,B=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if(B==="number")return d(y,S,O);if(B==="BigNumber")return p(y,S,O);throw TypeError("Unsupported data type: "+B)}function d(y,M,S){var B=y.length,O=Math.abs(M/B),z,I;if(S){I=new Array(B);for(var N=0;N<B;N++)I[N]=Array(B).fill(0),I[N][N]=1}for(var Y=m(y);Math.abs(Y[1])>=Math.abs(O);){var q=Y[0][0],T=Y[0][1];z=g(y[q][q],y[T][T],y[q][T]),y=A(y,z,q,T),S&&(I=E(I,z,q,T)),Y=m(y)}for(var Z=Array(B).fill(0),W=0;W<B;W++)Z[W]=y[W][W];return C(Er(Z),I,S)}function p(y,M,S){var B=y.length,O=n(M/B),z,I;if(S){I=new Array(B);for(var N=0;N<B;N++)I[N]=Array(B).fill(0),I[N][N]=1}for(var Y=b(y);n(Y[1])>=n(O);){var q=Y[0][0],T=Y[0][1];z=D(y[q][q],y[T][T],y[q][T]),y=F(y,z,q,T),S&&(I=w(I,z,q,T)),Y=b(y)}for(var Z=Array(B).fill(0),W=0;W<B;W++)Z[W]=y[W][W];return C(Er(Z),I,S)}function g(y,M,S){var B=M-y;return Math.abs(B)<=e.relTol?Math.PI/4:.5*Math.atan(2*S/(M-y))}function D(y,M,S){var B=i(M,y);return n(B)<=e.relTol?o(-1).acos().div(4):l(.5,u(a(2,S,c(B))))}function E(y,M,S,B){for(var O=y.length,z=Math.cos(M),I=Math.sin(M),N=Array(O).fill(0),Y=Array(O).fill(0),q=0;q<O;q++)N[q]=z*y[q][S]-I*y[q][B],Y[q]=I*y[q][S]+z*y[q][B];for(var T=0;T<O;T++)y[T][S]=N[T],y[T][B]=Y[T];return y}function w(y,M,S,B){for(var O=y.length,z=s(M),I=h(M),N=Array(O).fill(o(0)),Y=Array(O).fill(o(0)),q=0;q<O;q++)N[q]=i(l(z,y[q][S]),l(I,y[q][B])),Y[q]=t(l(I,y[q][S]),l(z,y[q][B]));for(var T=0;T<O;T++)y[T][S]=N[T],y[T][B]=Y[T];return y}function F(y,M,S,B){for(var O=y.length,z=o(s(M)),I=o(h(M)),N=l(z,z),Y=l(I,I),q=Array(O).fill(o(0)),T=Array(O).fill(o(0)),Z=a(o(2),z,I,y[S][B]),W=t(i(l(N,y[S][S]),Z),l(Y,y[B][B])),U=f(l(Y,y[S][S]),Z,l(N,y[B][B])),R=0;R<O;R++)q[R]=i(l(z,y[S][R]),l(I,y[B][R])),T[R]=t(l(I,y[S][R]),l(z,y[B][R]));y[S][S]=W,y[B][B]=U,y[S][B]=o(0),y[B][S]=o(0);for(var V=0;V<O;V++)V!==S&&V!==B&&(y[S][V]=q[V],y[V][S]=q[V],y[B][V]=T[V],y[V][B]=T[V]);return y}function A(y,M,S,B){for(var O=y.length,z=Math.cos(M),I=Math.sin(M),N=z*z,Y=I*I,q=Array(O).fill(0),T=Array(O).fill(0),Z=N*y[S][S]-2*z*I*y[S][B]+Y*y[B][B],W=Y*y[S][S]+2*z*I*y[S][B]+N*y[B][B],U=0;U<O;U++)q[U]=z*y[S][U]-I*y[B][U],T[U]=I*y[S][U]+z*y[B][U];y[S][S]=Z,y[B][B]=W,y[S][B]=0,y[B][S]=0;for(var R=0;R<O;R++)R!==S&&R!==B&&(y[S][R]=q[R],y[R][S]=q[R],y[B][R]=T[R],y[R][B]=T[R]);return y}function m(y){for(var M=y.length,S=0,B=[0,1],O=0;O<M;O++)for(var z=O+1;z<M;z++)Math.abs(S)<Math.abs(y[O][z])&&(S=Math.abs(y[O][z]),B=[O,z]);return[B,S]}function b(y){for(var M=y.length,S=0,B=[0,1],O=0;O<M;O++)for(var z=O+1;z<M;z++)n(S)<n(y[O][z])&&(S=n(y[O][z]),B=[O,z]);return[B,S]}function C(y,M,S){var B=y.length,O=Array(B),z;if(S){z=Array(B);for(var I=0;I<B;I++)z[I]=Array(B)}for(var N=0;N<B;N++){for(var Y=0,q=y[0],T=0;T<y.length;T++)n(y[T])<n(q)&&(Y=T,q=y[Y]);if(O[N]=y.splice(Y,1)[0],S)for(var Z=0;Z<B;Z++)z[N][Z]=M[Z][Y],M[Z].splice(Y,1)}if(!S)return{values:O};var W=z.map((U,R)=>({value:O[R],vector:U}));return{values:O,eigenvectors:W}}return v}var hl="eigs",pl=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],dl=rr(hl,pl,r=>{var{config:e,typed:t,matrix:i,addScalar:n,subtract:u,equal:s,abs:h,atan:l,cos:c,sin:o,multiplyScalar:a,divideScalar:f,inv:v,bignumber:d,multiply:p,add:g,larger:D,column:E,flatten:w,number:F,complex:A,sqrt:m,diag:b,size:C,reshape:y,qr:M,usolve:S,usolveAll:B,im:O,re:z,smaller:I,matrixFromColumns:N,dot:Y}=r,q=vl({config:e,addScalar:n,subtract:u,column:E,flatten:w,equal:s,abs:h,atan:l,cos:c,sin:o,multiplyScalar:a,inv:v,bignumber:d,complex:A,multiply:p,add:g}),T=ll({config:e,addScalar:n,subtract:u,multiply:p,multiplyScalar:a,flatten:w,divideScalar:f,sqrt:m,abs:h,bignumber:d,diag:b,size:C,reshape:y,qr:M,inv:v,usolve:S,usolveAll:B,equal:s,complex:A,larger:D,smaller:I,matrixFromColumns:N,dot:Y});return t("eigs",{Array:function(L){return Z(i(L))},"Array, number|BigNumber":function(L,X){return Z(i(L),{precision:X})},"Array, Object"(k,L){return Z(i(k),L)},Matrix:function(L){return Z(L,{matricize:!0})},"Matrix, number|BigNumber":function(L,X){return Z(L,{precision:X,matricize:!0})},"Matrix, Object":function(L,X){var K={matricize:!0};return Ne(K,X),Z(L,K)}});function Z(k){var L,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K="eigenvectors"in X?X.eigenvectors:!0,G=(L=X.precision)!==null&&L!==void 0?L:e.relTol,ur=W(k,G,K);return X.matricize&&(ur.values=i(ur.values),K&&(ur.eigenvectors=ur.eigenvectors.map(j=>{var{value:or,vector:cr}=j;return{value:or,vector:i(cr)}}))),K&&Object.defineProperty(ur,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ur}function W(k,L,X){var K=k.toArray(),G=k.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: ".concat(Or(G),")"));var ur=G[0];if(R(K,ur,L)&&(V(K,ur),U(K,ur,L))){var j=nr(k,K,ur);return q(K,ur,L,j,X)}var or=nr(k,K,ur);return T(K,ur,L,or,X)}function U(k,L,X){for(var K=0;K<L;K++)for(var G=K;G<L;G++)if(D(d(h(u(k[K][G],k[G][K]))),X))return!1;return!0}function R(k,L,X){for(var K=0;K<L;K++)for(var G=0;G<L;G++)if(D(d(h(O(k[K][G]))),X))return!1;return!0}function V(k,L){for(var X=0;X<L;X++)for(var K=0;K<L;K++)k[X][K]=z(k[X][K])}function nr(k,L,X){var K=k.datatype();if(K==="number"||K==="BigNumber"||K==="Complex")return K;for(var G=!1,ur=!1,j=!1,or=0;or<X;or++)for(var cr=0;cr<X;cr++){var pr=L[or][cr];if(Br(pr)||Jt(pr))G=!0;else if(Ir(pr))ur=!0;else if(Yt(pr))j=!0;else throw TypeError("Unsupported type in Matrix: "+ce(pr))}if(ur&&j&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),j){for(var mr=0;mr<X;mr++)for(var Dr=0;Dr<X;Dr++)L[mr][Dr]=A(L[mr][Dr]);return"Complex"}if(ur){for(var lr=0;lr<X;lr++)for(var Ar=0;Ar<X;Ar++)L[lr][Ar]=d(L[lr][Ar]);return"BigNumber"}if(G){for(var yr=0;yr<X;yr++)for(var Cr=0;Cr<X;Cr++)L[yr][Cr]=F(L[yr][Cr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Qe=Qo({config:Qr}),_t=ko({}),kt=us({}),jt=fs({}),Vr=ws({Matrix:jt}),fr=Ku({BigNumber:Qe,Complex:_t,DenseMatrix:Vr,Fraction:kt}),Xe=ef({typed:fr}),we=nf({typed:fr}),ml=gc({typed:fr}),rn=Ys({Complex:_t,typed:fr}),Bt=Qf({typed:fr}),Dl=wc({typed:fr}),ee=Ns({config:Qr,typed:fr}),gl=o0({typed:fr}),yl=Kf({typed:fr}),da=Es({typed:fr}),wl=bs({config:Qr,typed:fr}),ma=Ss({equalScalar:ee,typed:fr}),ve=Of({typed:fr}),en=Ps({typed:fr}),Al=Hf({typed:fr}),El=Pf({BigNumber:Qe,Fraction:kt,complex:rn,typed:fr}),Fl=Ec({typed:fr}),qe=zs({Matrix:jt,equalScalar:ee,typed:fr}),Fe=uf({typed:fr}),tn=Ls({BigNumber:Qe,typed:fr}),nn=Lf({Complex:_t,config:Qr,typed:fr}),Ke=js({typed:fr}),Da=Qs({Fraction:kt,typed:fr}),gr=Ks({DenseMatrix:Vr,Matrix:jt,SparseMatrix:qe,typed:fr}),Cl=T0({bignumber:tn,fraction:Da,number:en}),bl=m0({isInteger:da,matrix:gr,typed:fr}),an=g0({matrix:gr,config:Qr,typed:fr}),un=b0({matrix:gr,typed:fr}),ga=B0({BigNumber:Qe,config:Qr,matrix:gr,typed:fr}),Ce=jf({isInteger:da,matrix:gr,typed:fr}),Ml=S0({conj:Bt,transpose:un,typed:fr}),Sl=n0({DenseMatrix:Vr,SparseMatrix:qe,matrix:gr,typed:fr}),he=O0({numeric:Cl,typed:fr}),ya=Y0({DenseMatrix:Vr,concat:Ce,equalScalar:ee,matrix:gr,typed:fr}),on=a0({matrix:gr,typed:fr}),Nt=f0({BigNumber:Qe,DenseMatrix:Vr,SparseMatrix:qe,config:Qr,matrix:gr,typed:fr}),_l=l0({matrix:gr,multiplyScalar:ve,typed:fr}),wa=tc({DenseMatrix:Vr,concat:Ce,config:Qr,matrix:gr,typed:fr}),Bl=P0({DenseMatrix:Vr,divideScalar:he,equalScalar:ee,matrix:gr,multiplyScalar:ve,subtractScalar:Fe,typed:fr}),Nl=Hs({flatten:on,matrix:gr,size:an,typed:fr}),xl=Oc({addScalar:we,complex:rn,conj:Bt,divideScalar:he,equal:ya,identity:Nt,isZero:ma,matrix:gr,multiplyScalar:ve,sign:El,sqrt:nn,subtractScalar:Fe,typed:fr,unaryMinus:Ke,zeros:ga}),We=Q0({DenseMatrix:Vr,concat:Ce,config:Qr,matrix:gr,typed:fr}),He=Vf({DenseMatrix:Vr,concat:Ce,equalScalar:ee,matrix:gr,subtractScalar:Fe,typed:fr,unaryMinus:Ke}),Aa=U0({DenseMatrix:Vr,divideScalar:he,equalScalar:ee,matrix:gr,multiplyScalar:ve,subtractScalar:Fe,typed:fr}),ke=Cc({DenseMatrix:Vr,SparseMatrix:qe,addScalar:we,concat:Ce,equalScalar:ee,matrix:gr,typed:fr}),Le=_c({addScalar:we,conj:Bt,multiplyScalar:ve,size:an,typed:fr}),Tl=uc({DenseMatrix:Vr,smaller:We}),Ea=fc({ImmutableDenseMatrix:Tl,getMatrixDataType:gl}),Pe=j0({DenseMatrix:Vr,concat:Ce,config:Qr,matrix:gr,typed:fr}),ue=$f({addScalar:we,dot:Le,equalScalar:ee,matrix:gr,multiplyScalar:ve,typed:fr}),zl=il({SparseMatrix:qe,abs:Xe,add:ke,divideScalar:he,larger:Pe,largerEq:wa,multiply:ue,subtract:He,transpose:un,typed:fr}),ut=w0({add:ke,matrix:gr,typed:fr,zeros:ga}),Ol=Z0({DenseMatrix:Vr,divideScalar:he,equalScalar:ee,matrix:gr,multiplyScalar:ve,subtractScalar:Fe,typed:fr}),Il=sl({divideScalar:he,isZero:ma,matrix:gr,multiply:ue,subtractScalar:Fe,typed:fr,unaryMinus:Ke}),$l=vc({larger:Pe,smaller:We}),ot=Nc({Index:Ea,typed:fr}),ql=W0({DenseMatrix:Vr,concat:Ce,config:Qr,matrix:gr,typed:fr}),Pl=p0({bignumber:tn,matrix:gr,add:ke,config:Qr,isPositive:wl,larger:Pe,largerEq:wa,smaller:We,smallerEq:ql,typed:fr}),Rl=dc({FibonacciHeap:$l,addScalar:we,equalScalar:ee}),Ul=e0({Index:Ea,matrix:gr,range:Pl,typed:fr}),Fa=cl({abs:Xe,addScalar:we,det:Il,divideScalar:he,identity:Nt,matrix:gr,multiply:ue,typed:fr,unaryMinus:Ke}),Ll=Tc({DenseMatrix:Vr,Spa:Rl,SparseMatrix:qe,abs:Xe,addScalar:we,divideScalar:he,equalScalar:ee,larger:Pe,matrix:gr,multiplyScalar:ve,subtractScalar:Fe,typed:fr,unaryMinus:Ke}),Zl=$0({Complex:_t,config:Qr,fraction:Da,identity:Nt,inv:Fa,matrix:gr,multiply:ue,number:en,typed:fr}),Vl=ul({DenseMatrix:Vr,lsolve:Bl,lup:Ll,matrix:gr,slu:zl,typed:fr,usolve:Aa}),Yl=dl({abs:Xe,add:ke,addScalar:we,atan:ml,bignumber:tn,column:Ul,complex:rn,config:Qr,cos:Dl,diag:Sl,divideScalar:he,dot:Le,equal:ya,flatten:on,im:yl,inv:Fa,larger:Pe,matrix:gr,matrixFromColumns:Nl,multiply:ue,multiplyScalar:ve,number:en,qr:xl,re:Al,reshape:bl,sin:Fl,size:an,smaller:We,sqrt:nn,subtract:He,typed:fr,usolve:Aa,usolveAll:Ol}),sn=Mc({abs:Xe,add:ke,conj:Bt,ctranspose:Ml,eigs:Yl,equalScalar:ee,larger:Pe,matrix:gr,multiply:ue,pow:Zl,smaller:We,sqrt:nn,typed:fr});function Ca(r,e){const t=He(e,r),i=sn(t),n=Le(t,gr([1,0,0]))/i,u=Le(t,gr([0,1,0]))/i,s=Le(t,gr([0,0,1]))/i,h=Math.sqrt(n**2+u**2);let l=gr([[n,u,s],[-u/h,n/h,0],[-n*s/h,-u*s/h,h]]);return s===1&&(l=gr([[0,0,1],[0,1,0],[-1,0,0]])),s===-1&&(l=gr([[0,0,-1],[0,1,0],[1,0,0]])),_l(Nt(4),l).toArray()}function ba(r,e,t){const i=(r==null?void 0:r.momentOfInertiaZ)??0,n=(r==null?void 0:r.momentOfInertiaY)??0,u=(e==null?void 0:e.elasticity)??0,s=(r==null?void 0:r.area)??0,h=(e==null?void 0:e.shearModulus)??0,l=(r==null?void 0:r.torsionalConstant)??0,c=t??1,o=u*s/c,a=u*i/c**3,f=u*n/c**3,v=h*l/c;return gr([[o,0,0,0,0,0,-o,0,0,0,0,0],[0,12*a,0,0,0,6*c*a,0,-12*a,0,0,0,6*c*a],[0,0,12*f,0,-6*c*f,0,0,0,-12*f,0,-6*c*f,0],[0,0,0,v,0,0,0,0,0,-v,0,0],[0,0,-6*c*f,0,4*f*c**2,0,0,0,6*c*f,0,2*f*c**2,0],[0,6*c*a,0,0,0,4*a*c**2,0,-6*c*a,0,0,0,2*a*c**2],[-o,0,0,0,0,0,o,0,0,0,0,0],[0,-12*a,0,0,0,-6*a*c,0,12*a,0,0,0,-6*a*c],[0,0,-12*f,0,6*c*f,0,0,0,12*f,0,6*c*f,0],[0,0,0,-v,0,0,0,0,0,v,0,0],[0,0,-6*c*f,0,2*f*c**2,0,0,0,6*c*f,0,4*f*c**2,0],[0,6*c*a,0,0,0,2*a*c**2,0,-6*c*a,0,0,0,4*a*c**2]]).toArray()}function Jl(r,e,t,i,n){let u=Array(n).fill(0).map(()=>Array(n).fill(0));return e.forEach((s,h)=>{const[l,c]=s,o=r[l],a=r[c],f=sn(He(a,o)),v=ba(i==null?void 0:i.get(h),t==null?void 0:t.get(h),f),d=Ca(o,a),p=ue(un(d),ue(v,d));u=Gl(u,p,l,c)}),u}function Gl(r,e,t,i){const n=6*t,u=6*i;for(let s=0;s<6;s++)for(let h=0;h<6;h++)r[n+s][n+h]+=e[s][h],r[u+s][n+h]+=e[s+6][h],r[n+s][u+h]+=e[s][h+6],r[u+s][u+h]+=e[s+6][h+6];return r}function Ql(r,e,t,i){const n=[];r==null||r.forEach((h,l)=>{h[0]&&n.push(l*6),h[1]&&n.push(l*6+1),h[2]&&n.push(l*6+2),h[3]&&n.push(l*6+3),h[4]&&n.push(l*6+4),h[5]&&n.push(l*6+5)});const u=new Set;e==null||e.forEach((h,l)=>{if(!h.momentOfInertiaY&&!h.momentOfInertiaZ){const c=t[l];u.add(c[0]),u.add(c[1])}});const s=[];return u.forEach(h=>{s.push(h*6+3),s.push(h*6+4),s.push(h*6+5)}),Array(i).fill(0).map((h,l)=>l).filter(h=>!n.includes(h)&&!s.includes(h))}function Xl(r,e){const t=Array(e).fill(0);return r==null||r.forEach((i,n)=>{t[n*6]=i[0],t[n*6+1]=i[1],t[n*6+2]=i[2],t[n*6+3]=i[3],t[n*6+4]=i[4],t[n*6+5]=i[5]}),t}function Kl(r,e,t){const i=r.length*6,n=Ql(t.pointSupports,t.sections,e,i),u=Xl(t.pointLoads,i),s=Jl(r,e,t.materials,t.sections,i),h=ut(u,ot(n)),l=ut(s,ot(n,n)),c=Vl(l,h),o=ut(Array(i).fill(0),ot(n),on(c)),a=ue(s,o);return{deformations:o,reactions:a}}function Hl(r,e,t){const{deformations:i,reactions:n}=Kl(r,e,t),u={nodes:new Map,elements:new Map};return r.forEach((s,h)=>{var c,o;const l=(c=t.pointSupports)==null?void 0:c.get(h);(o=u.nodes)==null||o.set(h,{deformation:[i[h*6],i[h*6+1],i[h*6+2],i[h*6+3],i[h*6+4],i[h*6+5]],...l&&{reaction:[n[h*6],n[h*6+1],n[h*6+2],n[h*6+3],n[h*6+4],n[h*6+5]]}})}),e.forEach((s,h)=>{var E,w,F,A;const l=r[s[0]],c=r[s[1]],o=sn(He(c,l)),a=ut(i,ot(Wl(s))),f=Ca(l,c),v=ue(f,a),d=ba((E=t.sections)==null?void 0:E.get(h),(w=t.materials)==null?void 0:w.get(h),o);let p=ue(d,v);const g=(F=t.sections)==null?void 0:F.get(h),D=(g==null?void 0:g.momentOfInertiaY)&&g.momentOfInertiaZ;(A=u.elements)==null||A.set(h,{normal:[p[0],p[6]],...D&&{shearY:[p[1],p[7]],shearZ:[p[2],p[8]],torsion:[p[3],p[9]],bendingY:[p[4],p[10]],bendingZ:[p[5],p[11]]}})}),u}function Wl(r){const e=[r[0]*6,r[0]*6+1,r[0]*6+2,r[0]*6+3,r[0]*6+4,r[0]*6+5],t=[r[1]*6,r[1]*6+1,r[1]*6+2,r[1]*6+3,r[1]*6+4,r[1]*6+5];return[...e,...t]}export{Hl as a};
