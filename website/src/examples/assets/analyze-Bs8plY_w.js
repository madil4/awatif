function Ue(){return Ue=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ue.apply(null,arguments)}var _i={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Br(r){return typeof r=="number"}function Ir(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function hu(r){return typeof r=="bigint"}function kt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function jt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function xi(r){return r&&r.constructor.prototype.isUnit===!0||!1}function ee(r){return typeof r=="string"}var Fr=Array.isArray;function Nr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function vt(r){return Array.isArray(r)||Nr(r)}function ht(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ie(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ti(r){return r&&r.constructor.prototype.isRange===!0||!1}function Mt(r){return r&&r.constructor.prototype.isIndex===!0||!1}function pu(r){return typeof r=="boolean"}function du(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function mu(r){return r&&r.constructor.prototype.isHelp===!0||!1}function Du(r){return typeof r=="function"}function gu(r){return r instanceof Date}function yu(r){return r instanceof RegExp}function rn(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!kt(r)&&!jt(r))}function wu(r){return r===null}function Au(r){return r===void 0}function Eu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fu(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bu(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function _u(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function xu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function zu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ou(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Iu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function $u(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function qu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pu(r){return r&&r.constructor.prototype.isChain===!0||!1}function ue(r){var e=typeof r;return e==="object"?r===null?"null":Ir(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Er(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Er(t)});if(r instanceof Date)return new Date(r.valueOf());if(Ir(r))return r;if(rn(r))return Ru(r,Er);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Ru(r,e){var t={};for(var i in r)ke(r,i)&&(t[i]=e(r[i]));return t}function Uu(r,e){for(var t in e)ke(e,t)&&(r[t]=e[t]);return r}function we(r,e){var t,i,n;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(i=0,n=r.length;i<n;i++)if(!we(r[i],e[i]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!we(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function ke(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Lu(r,e){for(var t={},i=0;i<e.length;i++){var n=e[i],u=r[n];u!==void 0&&(t[n]=u)}return t}var Zu=["Matrix","Array"],Vu=["number","BigNumber","Fraction"],Gr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(_i)};Ue(Gr,_i,{MATRIX_OPTIONS:Zu,NUMBER_OPTIONS:Vu});function mn(){return!0}function re(){return!1}function ze(){}const Dn="Argument is not a typed-function.";function zi(){function r(N){return typeof N=="object"&&N!==null&&N.constructor===Object}const e=[{name:"number",test:function(N){return typeof N=="number"}},{name:"string",test:function(N){return typeof N=="string"}},{name:"boolean",test:function(N){return typeof N=="boolean"}},{name:"Function",test:function(N){return typeof N=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(N){return N instanceof Date}},{name:"RegExp",test:function(N){return N instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(N){return N===null}},{name:"undefined",test:function(N){return N===void 0}}],t={name:"any",test:mn,isAny:!0};let i,n,u=0,s={createCount:0};function p(N){const x=i.get(N);if(x)return x;let $='Unknown type "'+N+'"';const P=N.toLowerCase();let X;for(X of n)if(X.toLowerCase()===P){$+='. Did you mean "'+X+'" ?';break}throw new TypeError($)}function c(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const $=x?p(x).index:n.length,P=[];for(let Y=0;Y<N.length;++Y){if(!N[Y]||typeof N[Y].name!="string"||typeof N[Y].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ar=N[Y].name;if(i.has(ar))throw new TypeError('Duplicate type name "'+ar+'"');P.push(ar),i.set(ar,{name:ar,test:N[Y].test,isAny:N[Y].isAny,index:$+Y,conversionsTo:[]})}const X=n.slice($);n=n.slice(0,$).concat(P).concat(X);for(let Y=$+P.length;Y<n.length;++Y)i.get(n[Y]).index=Y}function l(){i=new Map,n=[],u=0,c([t],!1)}l(),c(e);function o(){let N;for(N of n)i.get(N).conversionsTo=[];u=0}function a(N){const x=n.filter($=>{const P=i.get($);return!P.isAny&&P.test(N)});return x.length?x:["any"]}function f(N){return N&&typeof N=="function"&&"_typedFunctionData"in N}function v(N,x,$){if(!f(N))throw new TypeError(Dn);const P=$&&$.exact,X=Array.isArray(x)?x.join(","):x,Y=F(X),ar=g(Y);if(!P||ar in N.signatures){const Mr=N._typedFunctionData.signatureMap.get(ar);if(Mr)return Mr}const tr=Y.length;let ir;if(P){ir=[];let Mr;for(Mr in N.signatures)ir.push(N._typedFunctionData.signatureMap.get(Mr))}else ir=N._typedFunctionData.signatures;for(let Mr=0;Mr<tr;++Mr){const Tr=Y[Mr],qr=[];let Qr;for(Qr of ir){const Xr=C(Qr.params,Mr);if(!(!Xr||Tr.restParam&&!Xr.restParam)){if(!Xr.hasAny){const ne=y(Xr);if(Tr.types.some(ie=>!ne.has(ie.name)))continue}qr.push(Qr)}}if(ir=qr,ir.length===0)break}let er;for(er of ir)if(er.params.length<=tr)return er;throw new TypeError("Signature not found (signature: "+(N.name||"unnamed")+"("+g(Y,", ")+"))")}function d(N,x,$){return v(N,x,$).implementation}function h(N,x){const $=p(x);if($.test(N))return N;const P=$.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let X=0;X<P.length;X++)if(p(P[X].from).test(N))return P[X].convert(N);throw new Error("Cannot convert "+N+" to "+x)}function g(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return N.map($=>$.name).join(x)}function m(N){const x=N.indexOf("...")===0,P=(x?N.length>3?N.slice(3):"any":N).split("|").map(tr=>p(tr.trim()));let X=!1,Y=x?"...":"";return{types:P.map(function(tr){return X=tr.isAny||X,Y+=tr.name+"|",{name:tr.name,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:null,conversionIndex:-1}}),name:Y.slice(0,-1),hasAny:X,hasConversion:!1,restParam:x}}function E(N){const x=N.types.map(ar=>ar.name),$=J(x);let P=N.hasAny,X=N.name;const Y=$.map(function(ar){const tr=p(ar.from);return P=tr.isAny||P,X+="|"+ar.from,{name:ar.from,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:ar,conversionIndex:ar.index}});return{types:N.types.concat(Y),name:X,hasAny:P,hasConversion:Y.length>0,restParam:N.restParam}}function y(N){return N.typeSet||(N.typeSet=new Set,N.types.forEach(x=>N.typeSet.add(x.name))),N.typeSet}function F(N){const x=[];if(typeof N!="string")throw new TypeError("Signatures must be strings");const $=N.trim();if($==="")return x;const P=$.split(",");for(let X=0;X<P.length;++X){const Y=m(P[X].trim());if(Y.restParam&&X!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[X]+'": only allowed for the last parameter');if(Y.types.length===0)return null;x.push(Y)}return x}function A(N){const x=K(N);return x?x.restParam:!1}function D(N){if(!N||N.types.length===0)return mn;if(N.types.length===1)return p(N.types[0].name).test;if(N.types.length===2){const x=p(N.types[0].name).test,$=p(N.types[1].name).test;return function(X){return x(X)||$(X)}}else{const x=N.types.map(function($){return p($.name).test});return function(P){for(let X=0;X<x.length;X++)if(x[X](P))return!0;return!1}}}function b(N){let x,$,P;if(A(N)){x=Q(N).map(D);const X=x.length,Y=D(K(N)),ar=function(tr){for(let ir=X;ir<tr.length;ir++)if(!Y(tr[ir]))return!1;return!0};return function(ir){for(let er=0;er<x.length;er++)if(!x[er](ir[er]))return!1;return ar(ir)&&ir.length>=X+1}}else return N.length===0?function(Y){return Y.length===0}:N.length===1?($=D(N[0]),function(Y){return $(Y[0])&&Y.length===1}):N.length===2?($=D(N[0]),P=D(N[1]),function(Y){return $(Y[0])&&P(Y[1])&&Y.length===2}):(x=N.map(D),function(Y){for(let ar=0;ar<x.length;ar++)if(!x[ar](Y[ar]))return!1;return Y.length===x.length})}function C(N,x){return x<N.length?N[x]:A(N)?K(N):null}function w(N,x){const $=C(N,x);return $?y($):new Set}function M(N){return N.conversion===null||N.conversion===void 0}function S(N,x){const $=new Set;return N.forEach(P=>{const X=w(P.params,x);let Y;for(Y of X)$.add(Y)}),$.has("any")?["any"]:Array.from($)}function B(N,x,$){let P,X;const Y=N||"unnamed";let ar=$,tr;for(tr=0;tr<x.length;tr++){const Tr=[];if(ar.forEach(qr=>{const Qr=C(qr.params,tr),Xr=D(Qr);(tr<qr.params.length||A(qr.params))&&Xr(x[tr])&&Tr.push(qr)}),Tr.length===0){if(X=S(ar,tr),X.length>0){const qr=a(x[tr]);return P=new TypeError("Unexpected type of argument in function "+Y+" (expected: "+X.join(" or ")+", actual: "+qr.join(" | ")+", index: "+tr+")"),P.data={category:"wrongType",fn:Y,index:tr,actual:qr,expected:X},P}}else ar=Tr}const ir=ar.map(function(Tr){return A(Tr.params)?1/0:Tr.params.length});if(x.length<Math.min.apply(null,ir))return X=S(ar,tr),P=new TypeError("Too few arguments in function "+Y+" (expected: "+X.join(" or ")+", index: "+x.length+")"),P.data={category:"tooFewArgs",fn:Y,index:x.length,expected:X},P;const er=Math.max.apply(null,ir);if(x.length>er)return P=new TypeError("Too many arguments in function "+Y+" (expected: "+er+", actual: "+x.length+")"),P.data={category:"tooManyArgs",fn:Y,index:x.length,expectedLength:er},P;const Mr=[];for(let Tr=0;Tr<x.length;++Tr)Mr.push(a(x[Tr]).join("|"));return P=new TypeError('Arguments of type "'+Mr.join(", ")+'" do not match any of the defined signatures of function '+Y+"."),P.data={category:"mismatch",actual:Mr},P}function O(N){let x=n.length+1;for(let $=0;$<N.types.length;$++)M(N.types[$])&&(x=Math.min(x,N.types[$].typeIndex));return x}function z(N){let x=u+1;for(let $=0;$<N.types.length;$++)M(N.types[$])||(x=Math.min(x,N.types[$].conversionIndex));return x}function I(N,x){if(N.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(N.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(N.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const $=O(N)-O(x);if($<0)return-1;if($>0)return 1;const P=z(N)-z(x);return P<0?-1:P>0?1:0}function _(N,x){const $=N.params,P=x.params,X=K($),Y=K(P),ar=A($),tr=A(P);if(ar&&X.hasAny){if(!tr||!Y.hasAny)return 1}else if(tr&&Y.hasAny)return-1;let ir=0,er=0,Mr;for(Mr of $)Mr.hasAny&&++ir,Mr.hasConversion&&++er;let Tr=0,qr=0;for(Mr of P)Mr.hasAny&&++Tr,Mr.hasConversion&&++qr;if(ir!==Tr)return ir-Tr;if(ar&&X.hasConversion){if(!tr||!Y.hasConversion)return 1}else if(tr&&Y.hasConversion)return-1;if(er!==qr)return er-qr;if(ar){if(!tr)return 1}else if(tr)return-1;const Qr=($.length-P.length)*(ar?-1:1);if(Qr!==0)return Qr;const Xr=[];let ne=0;for(let Te=0;Te<$.length;++Te){const at=I($[Te],P[Te]);Xr.push(at),ne+=at}if(ne!==0)return ne;let ie;for(ie of Xr)if(ie!==0)return ie;return 0}function J(N){if(N.length===0)return[];const x=N.map(p);N.length>1&&x.sort((X,Y)=>X.index-Y.index);let $=x[0].conversionsTo;if(N.length===1)return $;$=$.concat([]);const P=new Set(N);for(let X=1;X<x.length;++X){let Y;for(Y of x[X].conversionsTo)P.has(Y.from)||($.push(Y),P.add(Y.from))}return $}function q(N,x){let $=x;if(N.some(X=>X.hasConversion)){const X=A(N),Y=N.map(T);$=function(){const tr=[],ir=X?arguments.length-1:arguments.length;for(let er=0;er<ir;er++)tr[er]=Y[er](arguments[er]);return X&&(tr[ir]=arguments[ir].map(Y[ir])),x.apply(this,tr)}}let P=$;if(A(N)){const X=N.length-1;P=function(){return $.apply(this,G(arguments,0,X).concat([G(arguments,X)]))}}return P}function T(N){let x,$,P,X;const Y=[],ar=[];switch(N.types.forEach(function(tr){tr.conversion&&(Y.push(p(tr.conversion.from).test),ar.push(tr.conversion.convert))}),ar.length){case 0:return function(ir){return ir};case 1:return x=Y[0],P=ar[0],function(ir){return x(ir)?P(ir):ir};case 2:return x=Y[0],$=Y[1],P=ar[0],X=ar[1],function(ir){return x(ir)?P(ir):$(ir)?X(ir):ir};default:return function(ir){for(let er=0;er<ar.length;er++)if(Y[er](ir))return ar[er](ir);return ir}}}function Z(N){function x($,P,X){if(P<$.length){const Y=$[P];let ar=[];if(Y.restParam){const tr=Y.types.filter(M);tr.length<Y.types.length&&ar.push({types:tr,name:"..."+tr.map(ir=>ir.name).join("|"),hasAny:tr.some(ir=>ir.isAny),hasConversion:!1,restParam:!0}),ar.push(Y)}else ar=Y.types.map(function(tr){return{types:[tr],name:tr.name,hasAny:tr.isAny,hasConversion:tr.conversion,restParam:!1}});return rr(ar,function(tr){return x($,P+1,X.concat([tr]))})}else return[X]}return x(N,0,[])}function W(N,x){const $=Math.max(N.length,x.length);for(let tr=0;tr<$;tr++){const ir=w(N,tr),er=w(x,tr);let Mr=!1,Tr;for(Tr of er)if(ir.has(Tr)){Mr=!0;break}if(!Mr)return!1}const P=N.length,X=x.length,Y=A(N),ar=A(x);return Y?ar?P===X:X>=P:ar?P>=X:P===X}function U(N){return N.map(x=>gr(x)?pr(x.referToSelf.callback):Dr(x)?cr(x.referTo.references,x.referTo.callback):x)}function R(N,x,$){const P=[];let X;for(X of N){let Y=$[X];if(typeof Y!="number")throw new TypeError('No definition for referenced signature "'+X+'"');if(Y=x[Y],typeof Y!="function")return!1;P.push(Y)}return P}function V(N,x,$){const P=U(N),X=new Array(P.length).fill(!1);let Y=!0;for(;Y;){Y=!1;let ar=!0;for(let tr=0;tr<P.length;++tr){if(X[tr])continue;const ir=P[tr];if(gr(ir))P[tr]=ir.referToSelf.callback($),P[tr].referToSelf=ir.referToSelf,X[tr]=!0,ar=!1;else if(Dr(ir)){const er=R(ir.referTo.references,P,x);er?(P[tr]=ir.referTo.callback.apply(this,er),P[tr].referTo=ir.referTo,X[tr]=!0,ar=!1):Y=!0}}if(ar&&Y)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function nr(N){const x=/\bthis(\(|\.signatures\b)/;Object.keys(N).forEach($=>{const P=N[$];if(x.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function k(N,x){if(s.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&nr(x);const $=[],P=[],X={},Y=[];let ar;for(ar in x){if(!Object.prototype.hasOwnProperty.call(x,ar))continue;const br=F(ar);if(!br)continue;$.forEach(function(We){if(W(We,br))throw new TypeError('Conflicting signatures "'+g(We)+'" and "'+g(br)+'".')}),$.push(br);const Kr=P.length;P.push(x[ar]);const lu=br.map(E);let ut;for(ut of Z(lu)){const We=g(ut);Y.push({params:ut,name:We,fn:Kr}),ut.every(vu=>!vu.hasConversion)&&(X[We]=Kr)}}Y.sort(_);const tr=V(P,X,Ke);let ir;for(ir in X)Object.prototype.hasOwnProperty.call(X,ir)&&(X[ir]=tr[X[ir]]);const er=[],Mr=new Map;for(ir of Y)Mr.has(ir.name)||(ir.fn=tr[ir.fn],er.push(ir),Mr.set(ir.name,ir));const Tr=er[0]&&er[0].params.length<=2&&!A(er[0].params),qr=er[1]&&er[1].params.length<=2&&!A(er[1].params),Qr=er[2]&&er[2].params.length<=2&&!A(er[2].params),Xr=er[3]&&er[3].params.length<=2&&!A(er[3].params),ne=er[4]&&er[4].params.length<=2&&!A(er[4].params),ie=er[5]&&er[5].params.length<=2&&!A(er[5].params),Te=Tr&&qr&&Qr&&Xr&&ne&&ie;for(let br=0;br<er.length;++br)er[br].test=b(er[br].params);const at=Tr?D(er[0].params[0]):re,qa=qr?D(er[1].params[0]):re,Pa=Qr?D(er[2].params[0]):re,Ra=Xr?D(er[3].params[0]):re,Ua=ne?D(er[4].params[0]):re,La=ie?D(er[5].params[0]):re,Za=Tr?D(er[0].params[1]):re,Va=qr?D(er[1].params[1]):re,Ja=Qr?D(er[2].params[1]):re,Ya=Xr?D(er[3].params[1]):re,Ga=ne?D(er[4].params[1]):re,Xa=ie?D(er[5].params[1]):re;for(let br=0;br<er.length;++br)er[br].implementation=q(er[br].params,er[br].fn);const Qa=Tr?er[0].implementation:ze,Ka=qr?er[1].implementation:ze,Wa=Qr?er[2].implementation:ze,Ha=Xr?er[3].implementation:ze,ka=ne?er[4].implementation:ze,ja=ie?er[5].implementation:ze,ru=Tr?er[0].params.length:-1,eu=qr?er[1].params.length:-1,tu=Qr?er[2].params.length:-1,nu=Xr?er[3].params.length:-1,iu=ne?er[4].params.length:-1,au=ie?er[5].params.length:-1,uu=Te?6:0,ou=er.length,su=er.map(br=>br.test),fu=er.map(br=>br.implementation),cu=function(){for(let Kr=uu;Kr<ou;Kr++)if(su[Kr](arguments))return fu[Kr].apply(this,arguments);return s.onMismatch(N,arguments,er)};function Ke(br,Kr){return arguments.length===ru&&at(br)&&Za(Kr)?Qa.apply(this,arguments):arguments.length===eu&&qa(br)&&Va(Kr)?Ka.apply(this,arguments):arguments.length===tu&&Pa(br)&&Ja(Kr)?Wa.apply(this,arguments):arguments.length===nu&&Ra(br)&&Ya(Kr)?Ha.apply(this,arguments):arguments.length===iu&&Ua(br)&&Ga(Kr)?ka.apply(this,arguments):arguments.length===au&&La(br)&&Xa(Kr)?ja.apply(this,arguments):cu.apply(this,arguments)}try{Object.defineProperty(Ke,"name",{value:N})}catch{}return Ke.signatures=X,Ke._typedFunctionData={signatures:er,signatureMap:Mr},Ke}function L(N,x,$){throw B(N,x,$)}function Q(N){return G(N,0,N.length-1)}function K(N){return N[N.length-1]}function G(N,x,$){return Array.prototype.slice.call(N,x,$)}function ur(N,x){for(let $=0;$<N.length;$++)if(x(N[$]))return N[$]}function rr(N,x){return Array.prototype.concat.apply([],N.map(x))}function or(){const N=Q(arguments).map($=>g(F($))),x=K(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return cr(N,x)}function cr(N,x){return{referTo:{references:N,callback:x}}}function pr(N){if(typeof N!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:N}}}function Dr(N){return N&&typeof N.referTo=="object"&&Array.isArray(N.referTo.references)&&typeof N.referTo.callback=="function"}function gr(N){return N&&typeof N.referToSelf=="object"&&typeof N.referToSelf.callback=="function"}function lr(N,x){if(!N)return x;if(x&&x!==N){const $=new Error("Function names do not match (expected: "+N+", actual: "+x+")");throw $.data={actual:x,expected:N},$}return N}function Ar(N){let x;for(const $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(f(N[$])||typeof N[$].signature=="string")&&(x=lr(x,N[$].name));return x}function yr(N,x){let $;for($ in x)if(Object.prototype.hasOwnProperty.call(x,$)){if($ in N&&x[$]!==N[$]){const P=new Error('Signature "'+$+'" is defined twice');throw P.data={signature:$,sourceFunction:x[$],destFunction:N[$]},P}N[$]=x[$]}}const Cr=s;s=function(N){const x=typeof N=="string",$=x?1:0;let P=x?N:"";const X={};for(let Y=$;Y<arguments.length;++Y){const ar=arguments[Y];let tr={},ir;if(typeof ar=="function"?(ir=ar.name,typeof ar.signature=="string"?tr[ar.signature]=ar:f(ar)&&(tr=ar.signatures)):r(ar)&&(tr=ar,x||(ir=Ar(ar))),Object.keys(tr).length===0){const er=new TypeError("Argument to 'typed' at index "+Y+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw er.data={index:Y,argument:ar},er}x||(P=lr(P,ir)),yr(X,tr)}return k(P||"",X)},s.create=zi,s.createCount=Cr.createCount,s.onMismatch=L,s.throwMismatchError=L,s.createError=B,s.clear=l,s.clearConversions=o,s.addTypes=c,s._findType=p,s.referTo=or,s.referToSelf=pr,s.convert=h,s.findSignature=v,s.find=d,s.isTypedFunction=f,s.warnAgainstDeprecatedThis=!0,s.addType=function(N,x){let $="any";x!==!1&&i.has("Object")&&($="Object"),s.addTypes([N],$)};function Pr(N){if(!N||typeof N.from!="string"||typeof N.to!="string"||typeof N.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(N.to===N.from)throw new SyntaxError('Illegal to define conversion from "'+N.from+'" to itself.')}return s.addConversion=function(N){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Pr(N);const $=p(N.to),P=$.conversionsTo.find(X=>X.from===N.from);if(P)if(x&&x.override)s.removeConversion({from:P.from,to:N.to,convert:P.convert});else throw new Error('There is already a conversion from "'+N.from+'" to "'+$.name+'"');$.conversionsTo.push({from:N.from,convert:N.convert,index:u++})},s.addConversions=function(N,x){N.forEach($=>s.addConversion($,x))},s.removeConversion=function(N){Pr(N);const x=p(N.to),$=ur(x.conversionsTo,X=>X.from===N.from);if(!$)throw new Error("Attempt to remove nonexistent conversion from "+N.from+" to "+N.to);if($.convert!==N.convert)throw new Error("Conversion to remove does not match existing conversion");const P=x.conversionsTo.indexOf($);x.conversionsTo.splice(P,1)},s.resolve=function(N,x){if(!f(N))throw new TypeError(Dn);const $=N._typedFunctionData.signatures;for(let P=0;P<$.length;++P)if($[P].test(x))return $[P];return null},s}const gn=zi();function _r(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var Ju=Math.sign||function(r){return r>0?1:r<0?-1:0};function Ut(r,e,t){var i={2:"0b",8:"0o",16:"0x"},n=i[e],u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_r(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!_r(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),u="i".concat(t)}var s="";return r<0&&(r=-r,s="-"),"".concat(s).concat(n).concat(r.toString(e)).concat(u)}function Zt(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:i,wordSize:n}=Oi(e);switch(t){case"fixed":return Gu(r,i);case"exponential":return Ii(r,i);case"engineering":return Yu(r,i);case"bin":return Ut(r,2,n);case"oct":return Ut(r,8,n);case"hex":return Ut(r,16,n);case"auto":return Xu(r,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],s=arguments[4];return u!=="."?u+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Oi(r){var e="auto",t,i;if(r!==void 0)if(Br(r))t=r;else if(Ir(r))t=r.toNumber();else if(rn(r))r.precision!==void 0&&(t=yn(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(i=yn(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:i}}function St(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],i=e[2],n=parseFloat(e[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(p){return n-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return s.length===0&&(s.push(0),n++),{sign:t,coefficients:s,exponent:n}}function Yu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=St(r),i=Nt(t,e),n=i.exponent,u=i.coefficients,s=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Br(e))for(;e>u.length||n-s+1>u.length;)u.push(0);else for(var p=Math.abs(n-s)-(u.length-1),c=0;c<p;c++)u.push(0);for(var l=Math.abs(n-s),o=1;l>0;)o++,l--;var a=u.slice(o).join(""),f=Br(e)&&a.length||a.match(/[1-9]/)?"."+a:"",v=u.slice(0,o).join("")+f+"e"+(n>=0?"+":"")+s.toString();return i.sign+v}function Gu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=St(r),i=typeof e=="number"?Nt(t,t.exponent+1+e):t,n=i.coefficients,u=i.exponent+1,s=u+(e||0);return n.length<s&&(n=n.concat(Pe(s-n.length))),u<0&&(n=Pe(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function Ii(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=St(r),i=e?Nt(t,e):t,n=i.coefficients,u=i.exponent;n.length<e&&(n=n.concat(Pe(e-n.length)));var s=n.shift();return i.sign+s+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function Xu(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var i=wn(t==null?void 0:t.lowerExp,-3),n=wn(t==null?void 0:t.upperExp,5),u=St(r),s=e?Nt(u,e):u;if(s.exponent<i||s.exponent>=n)return Ii(r,e);var p=s.coefficients,c=s.exponent;p.length<e&&(p=p.concat(Pe(e-p.length))),p=p.concat(Pe(c-p.length+1+(p.length<e?e-p.length:0))),p=Pe(-c).concat(p);var l=c>0?c:0;return l<p.length-1&&p.splice(l+1,0,"."),s.sign+p.join("")}function Nt(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e){var n=i.splice(e,i.length-e);if(n[0]>=5){var u=e-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),t.exponent++,u++),u--,i[u]++}}return t}function Pe(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function Qu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function se(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),i)}function yn(r,e){if(Br(r))return r;if(Ir(r))return r.toNumber();e()}function wn(r,e){return Br(r)?r:Ir(r)?r.toNumber():e}function j(r,e,t,i){function n(u){var s=Lu(u,e.map(Hu));return Ku(r,e,u),t(s)}return n.isFactory=!0,n.fn=r,n.dependencies=e.slice().sort(),i&&(n.meta=i),n}function Ku(r,e,t){var i=e.filter(u=>!Wu(u)).every(u=>t[u]!==void 0);if(!i){var n=e.filter(u=>t[u]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Wu(r){return r&&r[0]==="?"}function Hu(r){return r&&r[0]==="?"?r.slice(1):r}function $i(r,e){if(Ri(r)&&Pi(r,e))return r[e];throw typeof r[e]=="function"&&ju(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function qi(r,e,t){if(Ri(r)&&Pi(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function ku(r,e){return e in r}function Pi(r,e){return!r||typeof r!="object"?!1:ke(ro,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ju(r,e){return r==null||typeof r[e]!="function"||ke(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:ke(eo,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ri(r){return typeof r=="object"&&r&&r.constructor===Object}var ro={length:!0,name:!0},eo={toString:!0,valueOf:!0,toLocaleString:!0};class to{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return $i(this.wrappedObject,e)}set(e,t){return qi(this.wrappedObject,e,t),this}has(e){return ku(this.wrappedObject,e)}entries(){return no(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function no(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function io(r){return r?r instanceof Map||r instanceof to||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ui=function(){return Ui=gn.create,gn},ao=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],uo=j("typed",ao,function(e){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:u}=e,s=Ui();return s.clear(),s.addTypes([{name:"number",test:Br},{name:"Complex",test:kt},{name:"BigNumber",test:Ir},{name:"bigint",test:hu},{name:"Fraction",test:jt},{name:"Unit",test:xi},{name:"identifier",test:p=>ee&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:ee},{name:"Chain",test:Pu},{name:"Array",test:Fr},{name:"Matrix",test:Nr},{name:"DenseMatrix",test:ht},{name:"SparseMatrix",test:Ie},{name:"Range",test:Ti},{name:"Index",test:Mt},{name:"boolean",test:pu},{name:"ResultSet",test:du},{name:"Help",test:mu},{name:"function",test:Du},{name:"Date",test:gu},{name:"RegExp",test:yu},{name:"null",test:wu},{name:"undefined",test:Au},{name:"AccessorNode",test:Eu},{name:"ArrayNode",test:Fu},{name:"AssignmentNode",test:Cu},{name:"BlockNode",test:bu},{name:"ConditionalNode",test:Mu},{name:"ConstantNode",test:Su},{name:"FunctionNode",test:Bu},{name:"FunctionAssignmentNode",test:Nu},{name:"IndexNode",test:_u},{name:"Node",test:xu},{name:"ObjectNode",test:Tu},{name:"OperatorNode",test:zu},{name:"ParenthesisNode",test:Ou},{name:"RangeNode",test:Iu},{name:"RelationalNode",test:$u},{name:"SymbolNode",test:qu},{name:"Map",test:io},{name:"Object",test:rn}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||ot(c),Qu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return i||st(c),new i(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return i||st(c),new i(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return t||ot(c),new t(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return u||ft(c),new u(c.toString())}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return i||st(c),new i(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||ft(c);var l=new u(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){t||ot(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){u||ft(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){i||st(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||ot(c),new t(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||ft(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||oo(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),s.onMismatch=(p,c,l)=>{var o=s.createError(p,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&vt(c[0])&&l.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw a.data=o.data,a}throw o},s.onMismatch=(p,c,l)=>{var o=s.createError(p,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&vt(c[0])&&l.some(f=>!f.params.includes(","))){var a=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw a.data=o.data,a}throw o},s});function ot(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function st(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function oo(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function ft(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var $e=9e15,Ee=1e9,Vt="0123456789abcdef",pt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",dt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Jt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$e,maxE:$e,crypto:!1},Li,ve,dr=!0,Bt="[DecimalError] ",Ae=Bt+"Invalid argument: ",Zi=Bt+"Precision limit exceeded",Vi=Bt+"crypto unavailable",Ji="[object Decimal]",Yr=Math.floor,Rr=Math.pow,so=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,fo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,co=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Yi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oe=1e7,hr=7,lo=9007199254740991,vo=pt.length-1,Yt=dt.length-1,H={toStringTag:Ji};H.absoluteValue=H.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),vr(r)};H.ceil=function(){return vr(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(r,e){var t,i=this,n=i.constructor;if(r=new n(r),e=new n(e),!r.s||!e.s)return new n(NaN);if(r.gt(e))throw Error(Ae+e);return t=i.cmp(r),t<0?r:i.cmp(e)>0?e:new n(i)};H.comparedTo=H.cmp=function(r){var e,t,i,n,u=this,s=u.d,p=(r=new u.constructor(r)).d,c=u.s,l=r.s;if(!s||!p)return!c||!l?NaN:c!==l?c:s===p?0:!s^c<0?1:-1;if(!s[0]||!p[0])return s[0]?c:p[0]?-l:0;if(c!==l)return c;if(u.e!==r.e)return u.e>r.e^c<0?1:-1;for(i=s.length,n=p.length,e=0,t=i<n?i:n;e<t;++e)if(s[e]!==p[e])return s[e]>p[e]^c<0?1:-1;return i===n?0:i>n^c<0?1:-1};H.cosine=H.cos=function(){var r,e,t=this,i=t.constructor;return t.d?t.d[0]?(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+hr,i.rounding=1,t=ho(i,Wi(i,t)),i.precision=r,i.rounding=e,vr(ve==2||ve==3?t.neg():t,r,e,!0)):new i(1):new i(NaN)};H.cubeRoot=H.cbrt=function(){var r,e,t,i,n,u,s,p,c,l,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);for(dr=!1,u=o.s*Rr(o.s*o,1/3),!u||Math.abs(u)==1/0?(t=Vr(o.d),r=o.e,(u=(r-t.length+1)%3)&&(t+=u==1||u==-2?"0":"00"),u=Rr(t,1/3),r=Yr((r+1)/3)-(r%3==(r<0?-1:2)),u==1/0?t="5e"+r:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),i=new a(t),i.s=o.s):i=new a(u.toString()),s=(r=a.precision)+3;;)if(p=i,c=p.times(p).times(p),l=c.plus(o),i=xr(l.plus(o).times(p),l.plus(c),s+2,1),Vr(p.d).slice(0,s)===(t=Vr(i.d)).slice(0,s))if(t=t.slice(s-3,s+1),t=="9999"||!n&&t=="4999"){if(!n&&(vr(p,r+1,0),p.times(p).times(p).eq(o))){i=p;break}s+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(vr(i,r+1,1),e=!i.times(i).times(i).eq(o));break}return dr=!0,vr(i,r,a.rounding,e)};H.decimalPlaces=H.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-Yr(this.e/hr))*hr,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};H.dividedBy=H.div=function(r){return xr(this,new this.constructor(r))};H.dividedToIntegerBy=H.divToInt=function(r){var e=this,t=e.constructor;return vr(xr(e,new t(r),0,1,1),t.precision,t.rounding)};H.equals=H.eq=function(r){return this.cmp(r)===0};H.floor=function(){return vr(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(r){return this.cmp(r)>0};H.greaterThanOrEqualTo=H.gte=function(r){var e=this.cmp(r);return e==1||e===0};H.hyperbolicCosine=H.cosh=function(){var r,e,t,i,n,u=this,s=u.constructor,p=new s(1);if(!u.isFinite())return new s(u.s?1/0:NaN);if(u.isZero())return p;t=s.precision,i=s.rounding,s.precision=t+Math.max(u.e,u.sd())+4,s.rounding=1,n=u.d.length,n<32?(r=Math.ceil(n/3),e=(1/xt(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),u=Le(s,1,u.times(e),new s(1),!0);for(var c,l=r,o=new s(8);l--;)c=u.times(u),u=p.minus(c.times(o.minus(c.times(o))));return vr(u,s.precision=t,s.rounding=i,!0)};H.hyperbolicSine=H.sinh=function(){var r,e,t,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(e=u.precision,t=u.rounding,u.precision=e+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=Le(u,2,n,n,!0);else{r=1.4*Math.sqrt(i),r=r>16?16:r|0,n=n.times(1/xt(5,r)),n=Le(u,2,n,n,!0);for(var s,p=new u(5),c=new u(16),l=new u(20);r--;)s=n.times(n),n=n.times(p.plus(s.times(c.times(s).plus(l))))}return u.precision=e,u.rounding=t,vr(n,e,t,!0)};H.hyperbolicTangent=H.tanh=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+7,i.rounding=1,xr(t.sinh(),t.cosh(),i.precision=r,i.rounding=e)):new i(t.s)};H.inverseCosine=H.acos=function(){var r,e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,u=t.rounding;return i!==-1?i===0?e.isNeg()?ae(t,n,u):new t(0):new t(NaN):e.isZero()?ae(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=ae(t,n+4,u).times(.5),t.precision=n,t.rounding=u,r.minus(e))};H.inverseHyperbolicCosine=H.acosh=function(){var r,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(r=i.precision,e=i.rounding,i.precision=r+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,dr=!1,t=t.times(t).minus(1).sqrt().plus(t),dr=!0,i.precision=r,i.rounding=e,t.ln()):new i(t)};H.inverseHyperbolicSine=H.asinh=function(){var r,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,dr=!1,t=t.times(t).plus(1).sqrt().plus(t),dr=!0,i.precision=r,i.rounding=e,t.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var r,e,t,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(r=u.precision,e=u.rounding,i=n.sd(),Math.max(i,r)<2*-n.e-1?vr(new u(n),r,e,!0):(u.precision=t=i-n.e,n=xr(n.plus(1),new u(1).minus(n),t+r,1),u.precision=r+4,u.rounding=1,n=n.ln(),u.precision=r,u.rounding=e,n.times(.5))):new u(NaN)};H.inverseSine=H.asin=function(){var r,e,t,i,n=this,u=n.constructor;return n.isZero()?new u(n):(e=n.abs().cmp(1),t=u.precision,i=u.rounding,e!==-1?e===0?(r=ae(u,t+4,i).times(.5),r.s=n.s,r):new u(NaN):(u.precision=t+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=t,u.rounding=i,n.times(2)))};H.inverseTangent=H.atan=function(){var r,e,t,i,n,u,s,p,c,l=this,o=l.constructor,a=o.precision,f=o.rounding;if(l.isFinite()){if(l.isZero())return new o(l);if(l.abs().eq(1)&&a+4<=Yt)return s=ae(o,a+4,f).times(.25),s.s=l.s,s}else{if(!l.s)return new o(NaN);if(a+4<=Yt)return s=ae(o,a+4,f).times(.5),s.s=l.s,s}for(o.precision=p=a+10,o.rounding=1,t=Math.min(28,p/hr+2|0),r=t;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(dr=!1,e=Math.ceil(p/hr),i=1,c=l.times(l),s=new o(l),n=l;r!==-1;)if(n=n.times(c),u=s.minus(n.div(i+=2)),n=n.times(c),s=u.plus(n.div(i+=2)),s.d[e]!==void 0)for(r=e;s.d[r]===u.d[r]&&r--;);return t&&(s=s.times(2<<t-1)),dr=!0,vr(s,o.precision=a,o.rounding=f,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&Yr(this.e/hr)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(r){return this.cmp(r)<0};H.lessThanOrEqualTo=H.lte=function(r){return this.cmp(r)<1};H.logarithm=H.log=function(r){var e,t,i,n,u,s,p,c,l=this,o=l.constructor,a=o.precision,f=o.rounding,v=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(t=l.d,l.s<0||!t||!t[0]||l.eq(1))return new o(t&&!t[0]?-1/0:l.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)u=!0;else{for(n=t[0];n%10===0;)n/=10;u=n!==1}if(dr=!1,p=a+v,s=ge(l,p),i=e?mt(o,p+10):ge(r,p),c=xr(s,i,p,1),je(c.d,n=a,f))do if(p+=10,s=ge(l,p),i=e?mt(o,p+10):ge(r,p),c=xr(s,i,p,1),!u){+Vr(c.d).slice(n+1,n+15)+1==1e14&&(c=vr(c,a+1,0));break}while(je(c.d,n+=10,f));return dr=!0,vr(c,a,f)};H.minus=H.sub=function(r){var e,t,i,n,u,s,p,c,l,o,a,f,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return!v.s||!r.s?r=new d(NaN):v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(l=v.d,f=r.d,p=d.precision,c=d.rounding,!l[0]||!f[0]){if(f[0])r.s=-r.s;else if(l[0])r=new d(v);else return new d(c===3?-0:0);return dr?vr(r,p,c):r}if(t=Yr(r.e/hr),o=Yr(v.e/hr),l=l.slice(),u=o-t,u){for(a=u<0,a?(e=l,u=-u,s=f.length):(e=f,t=o,s=l.length),i=Math.max(Math.ceil(p/hr),s)+2,u>i&&(u=i,e.length=1),e.reverse(),i=u;i--;)e.push(0);e.reverse()}else{for(i=l.length,s=f.length,a=i<s,a&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){a=l[i]<f[i];break}u=0}for(a&&(e=l,l=f,f=e,r.s=-r.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>u;){if(l[--i]<f[i]){for(n=i;n&&l[--n]===0;)l[n]=oe-1;--l[n],l[i]+=oe}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--t;return l[0]?(r.d=l,r.e=_t(l,t),dr?vr(r,p,c):r):new d(c===3?-0:0)};H.modulo=H.mod=function(r){var e,t=this,i=t.constructor;return r=new i(r),!t.d||!r.s||r.d&&!r.d[0]?new i(NaN):!r.d||t.d&&!t.d[0]?vr(new i(t),i.precision,i.rounding):(dr=!1,i.modulo==9?(e=xr(t,r.abs(),0,3,1),e.s*=r.s):e=xr(t,r,0,i.modulo,1),e=e.times(r),dr=!0,t.minus(e))};H.naturalExponential=H.exp=function(){return Gt(this)};H.naturalLogarithm=H.ln=function(){return ge(this)};H.negated=H.neg=function(){var r=new this.constructor(this);return r.s=-r.s,vr(r)};H.plus=H.add=function(r){var e,t,i,n,u,s,p,c,l,o,a=this,f=a.constructor;if(r=new f(r),!a.d||!r.d)return!a.s||!r.s?r=new f(NaN):a.d||(r=new f(r.d||a.s===r.s?a:NaN)),r;if(a.s!=r.s)return r.s=-r.s,a.minus(r);if(l=a.d,o=r.d,p=f.precision,c=f.rounding,!l[0]||!o[0])return o[0]||(r=new f(a)),dr?vr(r,p,c):r;if(u=Yr(a.e/hr),i=Yr(r.e/hr),l=l.slice(),n=u-i,n){for(n<0?(t=l,n=-n,s=o.length):(t=o,i=u,s=l.length),u=Math.ceil(p/hr),s=u>s?u+1:s+1,n>s&&(n=s,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(s=l.length,n=o.length,s-n<0&&(n=s,t=o,o=l,l=t),e=0;n;)e=(l[--n]=l[n]+o[n]+e)/oe|0,l[n]%=oe;for(e&&(l.unshift(e),++i),s=l.length;l[--s]==0;)l.pop();return r.d=l,r.e=_t(l,i),dr?vr(r,p,c):r};H.precision=H.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Ae+r);return t.d?(e=Gi(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};H.round=function(){var r=this,e=r.constructor;return vr(new e(r),r.e+1,e.rounding)};H.sine=H.sin=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+Math.max(t.e,t.sd())+hr,i.rounding=1,t=mo(i,Wi(i,t)),i.precision=r,i.rounding=e,vr(ve>2?t.neg():t,r,e,!0)):new i(NaN)};H.squareRoot=H.sqrt=function(){var r,e,t,i,n,u,s=this,p=s.d,c=s.e,l=s.s,o=s.constructor;if(l!==1||!p||!p[0])return new o(!l||l<0&&(!p||p[0])?NaN:p?s:1/0);for(dr=!1,l=Math.sqrt(+s),l==0||l==1/0?(e=Vr(p),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Yr((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),i=new o(e)):i=new o(l.toString()),t=(c=o.precision)+3;;)if(u=i,i=u.plus(xr(s,u,t+2,1)).times(.5),Vr(u.d).slice(0,t)===(e=Vr(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!n&&e=="4999"){if(!n&&(vr(u,c+1,0),u.times(u).eq(s))){i=u;break}t+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(vr(i,c+1,1),r=!i.times(i).eq(s));break}return dr=!0,vr(i,c,o.rounding,r)};H.tangent=H.tan=function(){var r,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(r=i.precision,e=i.rounding,i.precision=r+10,i.rounding=1,t=t.sin(),t.s=1,t=xr(t,new i(1).minus(t.times(t)).sqrt(),r+10,0),i.precision=r,i.rounding=e,vr(ve==2||ve==4?t.neg():t,r,e,!0)):new i(NaN)};H.times=H.mul=function(r){var e,t,i,n,u,s,p,c,l,o=this,a=o.constructor,f=o.d,v=(r=new a(r)).d;if(r.s*=o.s,!f||!f[0]||!v||!v[0])return new a(!r.s||f&&!f[0]&&!v||v&&!v[0]&&!f?NaN:!f||!v?r.s/0:r.s*0);for(t=Yr(o.e/hr)+Yr(r.e/hr),c=f.length,l=v.length,c<l&&(u=f,f=v,v=u,s=c,c=l,l=s),u=[],s=c+l,i=s;i--;)u.push(0);for(i=l;--i>=0;){for(e=0,n=c+i;n>i;)p=u[n]+v[i]*f[n-i-1]+e,u[n--]=p%oe|0,e=p/oe|0;u[n]=(u[n]+e)%oe|0}for(;!u[--s];)u.pop();return e?++t:u.shift(),r.d=u,r.e=_t(u,t),dr?vr(r,a.precision,a.rounding):r};H.toBinary=function(r,e){return en(this,2,r,e)};H.toDecimalPlaces=H.toDP=function(r,e){var t=this,i=t.constructor;return t=new i(t),r===void 0?t:(Wr(r,0,Ee),e===void 0?e=i.rounding:Wr(e,0,8),vr(t,r+t.e+1,e))};H.toExponential=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=fe(i,!0):(Wr(r,0,Ee),e===void 0?e=n.rounding:Wr(e,0,8),i=vr(new n(i),r+1,e),t=fe(i,!0,r+1)),i.isNeg()&&!i.isZero()?"-"+t:t};H.toFixed=function(r,e){var t,i,n=this,u=n.constructor;return r===void 0?t=fe(n):(Wr(r,0,Ee),e===void 0?e=u.rounding:Wr(e,0,8),i=vr(new u(n),r+n.e+1,e),t=fe(i,!1,r+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};H.toFraction=function(r){var e,t,i,n,u,s,p,c,l,o,a,f,v=this,d=v.d,h=v.constructor;if(!d)return new h(v);if(l=t=new h(1),i=c=new h(0),e=new h(i),u=e.e=Gi(d)-v.e-1,s=u%hr,e.d[0]=Rr(10,s<0?hr+s:s),r==null)r=u>0?e:l;else{if(p=new h(r),!p.isInt()||p.lt(l))throw Error(Ae+p);r=p.gt(e)?u>0?e:l:p}for(dr=!1,p=new h(Vr(d)),o=h.precision,h.precision=u=d.length*hr*2;a=xr(p,e,0,1,1),n=t.plus(a.times(i)),n.cmp(r)!=1;)t=i,i=n,n=l,l=c.plus(a.times(n)),c=n,n=e,e=p.minus(a.times(n)),p=n;return n=xr(r.minus(t),i,0,1,1),c=c.plus(n.times(l)),t=t.plus(n.times(i)),c.s=l.s=v.s,f=xr(l,i,u,1).minus(v).abs().cmp(xr(c,t,u,1).minus(v).abs())<1?[l,i]:[c,t],h.precision=o,dr=!0,f};H.toHexadecimal=H.toHex=function(r,e){return en(this,16,r,e)};H.toNearest=function(r,e){var t=this,i=t.constructor;if(t=new i(t),r==null){if(!t.d)return t;r=new i(1),e=i.rounding}else{if(r=new i(r),e===void 0?e=i.rounding:Wr(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(dr=!1,t=xr(t,r,0,e,1).times(r),dr=!0,vr(t)):(r.s=t.s,t=r),t};H.toNumber=function(){return+this};H.toOctal=function(r,e){return en(this,8,r,e)};H.toPower=H.pow=function(r){var e,t,i,n,u,s,p=this,c=p.constructor,l=+(r=new c(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new c(Rr(+p,l));if(p=new c(p),p.eq(1))return p;if(i=c.precision,u=c.rounding,r.eq(1))return vr(p,i,u);if(e=Yr(r.e/hr),e>=r.d.length-1&&(t=l<0?-l:l)<=lo)return n=Xi(c,p,t,i),r.s<0?new c(1).div(n):vr(n,i,u);if(s=p.s,s<0){if(e<r.d.length-1)return new c(NaN);if(r.d[e]&1||(s=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=s,p}return t=Rr(+p,l),e=t==0||!isFinite(t)?Yr(l*(Math.log("0."+Vr(p.d))/Math.LN10+p.e+1)):new c(t+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(dr=!1,c.rounding=p.s=1,t=Math.min(12,(e+"").length),n=Gt(r.times(ge(p,i+t)),i),n.d&&(n=vr(n,i+5,1),je(n.d,i,u)&&(e=i+10,n=vr(Gt(r.times(ge(p,e+t)),e),e+5,1),+Vr(n.d).slice(i+1,i+15)+1==1e14&&(n=vr(n,i+1,0)))),n.s=s,dr=!0,c.rounding=u,vr(n,i,u))};H.toPrecision=function(r,e){var t,i=this,n=i.constructor;return r===void 0?t=fe(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Wr(r,1,Ee),e===void 0?e=n.rounding:Wr(e,0,8),i=vr(new n(i),r,e),t=fe(i,r<=i.e||i.e<=n.toExpNeg,r)),i.isNeg()&&!i.isZero()?"-"+t:t};H.toSignificantDigits=H.toSD=function(r,e){var t=this,i=t.constructor;return r===void 0?(r=i.precision,e=i.rounding):(Wr(r,1,Ee),e===void 0?e=i.rounding:Wr(e,0,8)),vr(new i(t),r,e)};H.toString=function(){var r=this,e=r.constructor,t=fe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};H.truncated=H.trunc=function(){return vr(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var r=this,e=r.constructor,t=fe(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function Vr(r){var e,t,i,n=r.length-1,u="",s=r[0];if(n>0){for(u+=s,e=1;e<n;e++)i=r[e]+"",t=hr-i.length,t&&(u+=me(t)),u+=i;s=r[e],i=s+"",t=hr-i.length,t&&(u+=me(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return u+s}function Wr(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Ae+r)}function je(r,e,t,i){var n,u,s,p;for(u=r[0];u>=10;u/=10)--e;return--e<0?(e+=hr,n=0):(n=Math.ceil((e+1)/hr),e%=hr),u=Rr(10,hr-e),p=r[n]%u|0,i==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),s=t<4&&p==99999||t>3&&p==49999||p==5e4||p==0):s=(t<4&&p+1==u||t>3&&p+1==u/2)&&(r[n+1]/u/100|0)==Rr(10,e-2)-1||(p==u/2||p==0)&&(r[n+1]/u/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),s=(i||t<4)&&p==9999||!i&&t>3&&p==4999):s=((i||t<4)&&p+1==u||!i&&t>3&&p+1==u/2)&&(r[n+1]/u/1e3|0)==Rr(10,e-3)-1,s}function ct(r,e,t){for(var i,n=[0],u,s=0,p=r.length;s<p;){for(u=n.length;u--;)n[u]*=e;for(n[0]+=Vt.indexOf(r.charAt(s++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function ho(r,e){var t,i,n;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),n=(1/xt(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),r.precision+=t,e=Le(r,1,e.times(n),new r(1));for(var u=t;u--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return r.precision-=t,e}var xr=function(){function r(i,n,u){var s,p=0,c=i.length;for(i=i.slice();c--;)s=i[c]*n+p,i[c]=s%u|0,p=s/u|0;return p&&i.unshift(p),i}function e(i,n,u,s){var p,c;if(u!=s)c=u>s?1:-1;else for(p=c=0;p<u;p++)if(i[p]!=n[p]){c=i[p]>n[p]?1:-1;break}return c}function t(i,n,u,s){for(var p=0;u--;)i[u]-=p,p=i[u]<n[u]?1:0,i[u]=p*s+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,s,p,c){var l,o,a,f,v,d,h,g,m,E,y,F,A,D,b,C,w,M,S,B,O=i.constructor,z=i.s==n.s?1:-1,I=i.d,_=n.d;if(!I||!I[0]||!_||!_[0])return new O(!i.s||!n.s||(I?_&&I[0]==_[0]:!_)?NaN:I&&I[0]==0||!_?z*0:z/0);for(c?(v=1,o=i.e-n.e):(c=oe,v=hr,o=Yr(i.e/v)-Yr(n.e/v)),S=_.length,w=I.length,m=new O(z),E=m.d=[],a=0;_[a]==(I[a]||0);a++);if(_[a]>(I[a]||0)&&o--,u==null?(D=u=O.precision,s=O.rounding):p?D=u+(i.e-n.e)+1:D=u,D<0)E.push(1),d=!0;else{if(D=D/v+2|0,a=0,S==1){for(f=0,_=_[0],D++;(a<w||f)&&D--;a++)b=f*c+(I[a]||0),E[a]=b/_|0,f=b%_|0;d=f||a<w}else{for(f=c/(_[0]+1)|0,f>1&&(_=r(_,f,c),I=r(I,f,c),S=_.length,w=I.length),C=S,y=I.slice(0,S),F=y.length;F<S;)y[F++]=0;B=_.slice(),B.unshift(0),M=_[0],_[1]>=c/2&&++M;do f=0,l=e(_,y,S,F),l<0?(A=y[0],S!=F&&(A=A*c+(y[1]||0)),f=A/M|0,f>1?(f>=c&&(f=c-1),h=r(_,f,c),g=h.length,F=y.length,l=e(h,y,g,F),l==1&&(f--,t(h,S<g?B:_,g,c))):(f==0&&(l=f=1),h=_.slice()),g=h.length,g<F&&h.unshift(0),t(y,h,F,c),l==-1&&(F=y.length,l=e(_,y,S,F),l<1&&(f++,t(y,S<F?B:_,F,c))),F=y.length):l===0&&(f++,y=[0]),E[a++]=f,l&&y[0]?y[F++]=I[C]||0:(y=[I[C]],F=1);while((C++<w||y[0]!==void 0)&&D--);d=y[0]!==void 0}E[0]||E.shift()}if(v==1)m.e=o,Li=d;else{for(a=1,f=E[0];f>=10;f/=10)a++;m.e=a+o*v-1,vr(m,p?u+m.e+1:u,s,d)}return m}}();function vr(r,e,t,i){var n,u,s,p,c,l,o,a,f,v=r.constructor;r:if(e!=null){if(a=r.d,!a)return r;for(n=1,p=a[0];p>=10;p/=10)n++;if(u=e-n,u<0)u+=hr,s=e,o=a[f=0],c=o/Rr(10,n-s-1)%10|0;else if(f=Math.ceil((u+1)/hr),p=a.length,f>=p)if(i){for(;p++<=f;)a.push(0);o=c=0,n=1,u%=hr,s=u-hr+1}else break r;else{for(o=p=a[f],n=1;p>=10;p/=10)n++;u%=hr,s=u-hr+n,c=s<0?0:o/Rr(10,n-s-1)%10|0}if(i=i||e<0||a[f+1]!==void 0||(s<0?o:o%Rr(10,n-s-1)),l=t<4?(c||i)&&(t==0||t==(r.s<0?3:2)):c>5||c==5&&(t==4||i||t==6&&(u>0?s>0?o/Rr(10,n-s):0:a[f-1])%10&1||t==(r.s<0?8:7)),e<1||!a[0])return a.length=0,l?(e-=r.e+1,a[0]=Rr(10,(hr-e%hr)%hr),r.e=-e||0):a[0]=r.e=0,r;if(u==0?(a.length=f,p=1,f--):(a.length=f+1,p=Rr(10,hr-u),a[f]=s>0?(o/Rr(10,n-s)%Rr(10,s)|0)*p:0),l)for(;;)if(f==0){for(u=1,s=a[0];s>=10;s/=10)u++;for(s=a[0]+=p,p=1;s>=10;s/=10)p++;u!=p&&(r.e++,a[0]==oe&&(a[0]=1));break}else{if(a[f]+=p,a[f]!=oe)break;a[f--]=0,p=1}for(u=a.length;a[--u]===0;)a.pop()}return dr&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function fe(r,e,t){if(!r.isFinite())return Ki(r);var i,n=r.e,u=Vr(r.d),s=u.length;return e?(t&&(i=t-s)>0?u=u.charAt(0)+"."+u.slice(1)+me(i):s>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):n<0?(u="0."+me(-n-1)+u,t&&(i=t-s)>0&&(u+=me(i))):n>=s?(u+=me(n+1-s),t&&(i=t-n-1)>0&&(u=u+"."+me(i))):((i=n+1)<s&&(u=u.slice(0,i)+"."+u.slice(i)),t&&(i=t-s)>0&&(n+1===s&&(u+="."),u+=me(i))),u}function _t(r,e){var t=r[0];for(e*=hr;t>=10;t/=10)e++;return e}function mt(r,e,t){if(e>vo)throw dr=!0,t&&(r.precision=t),Error(Zi);return vr(new r(pt),e,1,!0)}function ae(r,e,t){if(e>Yt)throw Error(Zi);return vr(new r(dt),e,t,!0)}function Gi(r){var e=r.length-1,t=e*hr+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function me(r){for(var e="";r--;)e+="0";return e}function Xi(r,e,t,i){var n,u=new r(1),s=Math.ceil(i/hr+4);for(dr=!1;;){if(t%2&&(u=u.times(e),En(u.d,s)&&(n=!0)),t=Yr(t/2),t===0){t=u.d.length-1,n&&u.d[t]===0&&++u.d[t];break}e=e.times(e),En(e.d,s)}return dr=!0,u}function An(r){return r.d[r.d.length-1]&1}function Qi(r,e,t){for(var i,n=new r(e[0]),u=0;++u<e.length;)if(i=new r(e[u]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function Gt(r,e){var t,i,n,u,s,p,c,l=0,o=0,a=0,f=r.constructor,v=f.rounding,d=f.precision;if(!r.d||!r.d[0]||r.e>17)return new f(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(dr=!1,c=d):c=e,p=new f(.03125);r.e>-2;)r=r.times(p),a+=5;for(i=Math.log(Rr(2,a))/Math.LN10*2+5|0,c+=i,t=u=s=new f(1),f.precision=c;;){if(u=vr(u.times(r),c,1),t=t.times(++o),p=s.plus(xr(u,t,c,1)),Vr(p.d).slice(0,c)===Vr(s.d).slice(0,c)){for(n=a;n--;)s=vr(s.times(s),c,1);if(e==null)if(l<3&&je(s.d,c-i,v,l))f.precision=c+=10,t=u=p=new f(1),o=0,l++;else return vr(s,f.precision=d,v,dr=!0);else return f.precision=d,s}s=p}}function ge(r,e){var t,i,n,u,s,p,c,l,o,a,f,v=1,d=10,h=r,g=h.d,m=h.constructor,E=m.rounding,y=m.precision;if(h.s<0||!g||!g[0]||!h.e&&g[0]==1&&g.length==1)return new m(g&&!g[0]?-1/0:h.s!=1?NaN:g?0:h);if(e==null?(dr=!1,o=y):o=e,m.precision=o+=d,t=Vr(g),i=t.charAt(0),Math.abs(u=h.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)h=h.times(r),t=Vr(h.d),i=t.charAt(0),v++;u=h.e,i>1?(h=new m("0."+t),u++):h=new m(i+"."+t.slice(1))}else return l=mt(m,o+2,y).times(u+""),h=ge(new m(i+"."+t.slice(1)),o-d).plus(l),m.precision=y,e==null?vr(h,y,E,dr=!0):h;for(a=h,c=s=h=xr(h.minus(1),h.plus(1),o,1),f=vr(h.times(h),o,1),n=3;;){if(s=vr(s.times(f),o,1),l=c.plus(xr(s,new m(n),o,1)),Vr(l.d).slice(0,o)===Vr(c.d).slice(0,o))if(c=c.times(2),u!==0&&(c=c.plus(mt(m,o+2,y).times(u+""))),c=xr(c,new m(v),o,1),e==null)if(je(c.d,o-d,E,p))m.precision=o+=d,l=s=h=xr(a.minus(1),a.plus(1),o,1),f=vr(h.times(h),o,1),n=p=1;else return vr(c,m.precision=y,E,dr=!0);else return m.precision=y,c;c=l,n+=2}}function Ki(r){return String(r.s*r.s/0)}function Xt(r,e){var t,i,n;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(i,n),e){if(n-=i,r.e=t=t-i-1,r.d=[],i=(t+1)%hr,t<0&&(i+=hr),i<n){for(i&&r.d.push(+e.slice(0,i)),n-=hr;i<n;)r.d.push(+e.slice(i,i+=hr));e=e.slice(i),i=hr-e.length}else i-=n;for(;i--;)e+="0";r.d.push(+e),dr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function po(r,e){var t,i,n,u,s,p,c,l,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Yi.test(e))return Xt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(fo.test(e))t=16,e=e.toLowerCase();else if(so.test(e))t=2;else if(co.test(e))t=8;else throw Error(Ae+e);for(u=e.search(/p/i),u>0?(c=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),s=u>=0,i=r.constructor,s&&(e=e.replace(".",""),p=e.length,u=p-u,n=Xi(i,new i(t),u,u*2)),l=ct(e,t,oe),o=l.length-1,u=o;l[u]===0;--u)l.pop();return u<0?new i(r.s*0):(r.e=_t(l,o),r.d=l,dr=!1,s&&(r=xr(r,n,p*4)),c&&(r=r.times(Math.abs(c)<54?Rr(2,c):Ze.pow(2,c))),dr=!0,r)}function mo(r,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Le(r,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/xt(5,t)),e=Le(r,2,e,e);for(var n,u=new r(5),s=new r(16),p=new r(20);t--;)n=e.times(e),e=e.times(u.plus(n.times(s.times(n).minus(p))));return e}function Le(r,e,t,i,n){var u,s,p,c,l=r.precision,o=Math.ceil(l/hr);for(dr=!1,c=t.times(t),p=new r(i);;){if(s=xr(p.times(c),new r(e++*e++),l,1),p=n?i.plus(s):i.minus(s),i=xr(s.times(c),new r(e++*e++),l,1),s=p.plus(i),s.d[o]!==void 0){for(u=o;s.d[u]===p.d[u]&&u--;);if(u==-1)break}u=p,p=i,i=s,s=u}return dr=!0,s.d.length=o+1,s}function xt(r,e){for(var t=r;--e;)t*=r;return t}function Wi(r,e){var t,i=e.s<0,n=ae(r,r.precision,1),u=n.times(.5);if(e=e.abs(),e.lte(u))return ve=i?4:1,e;if(t=e.divToInt(n),t.isZero())ve=i?3:2;else{if(e=e.minus(t.times(n)),e.lte(u))return ve=An(t)?i?2:3:i?4:1,e;ve=An(t)?i?1:4:i?3:2}return e.minus(n).abs()}function en(r,e,t,i){var n,u,s,p,c,l,o,a,f,v=r.constructor,d=t!==void 0;if(d?(Wr(t,1,Ee),i===void 0?i=v.rounding:Wr(i,0,8)):(t=v.precision,i=v.rounding),!r.isFinite())o=Ki(r);else{for(o=fe(r),s=o.indexOf("."),d?(n=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):n=e,s>=0&&(o=o.replace(".",""),f=new v(1),f.e=o.length-s,f.d=ct(fe(f),10,n),f.e=f.d.length),a=ct(o,10,n),u=c=a.length;a[--c]==0;)a.pop();if(!a[0])o=d?"0p+0":"0";else{if(s<0?u--:(r=new v(r),r.d=a,r.e=u,r=xr(r,f,t,i,0,n),a=r.d,u=r.e,l=Li),s=a[t],p=n/2,l=l||a[t+1]!==void 0,l=i<4?(s!==void 0||l)&&(i===0||i===(r.s<0?3:2)):s>p||s===p&&(i===4||l||i===6&&a[t-1]&1||i===(r.s<0?8:7)),a.length=t,l)for(;++a[--t]>n-1;)a[t]=0,t||(++u,a.unshift(1));for(c=a.length;!a[c-1];--c);for(s=0,o="";s<c;s++)o+=Vt.charAt(a[s]);if(d){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)o+="0";for(a=ct(o,n,e),c=a.length;!a[c-1];--c);for(s=1,o="1.";s<c;s++)o+=Vt.charAt(a[s])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>c)for(u-=c;u--;)o+="0";else u<c&&(o=o.slice(0,u)+"."+o.slice(u))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function En(r,e){if(r.length>e)return r.length=e,!0}function Do(r){return new this(r).abs()}function go(r){return new this(r).acos()}function yo(r){return new this(r).acosh()}function wo(r,e){return new this(r).plus(e)}function Ao(r){return new this(r).asin()}function Eo(r){return new this(r).asinh()}function Fo(r){return new this(r).atan()}function Co(r){return new this(r).atanh()}function bo(r,e){r=new this(r),e=new this(e);var t,i=this.precision,n=this.rounding,u=i+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=ae(this,u,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?ae(this,i,n):new this(0),t.s=r.s):!r.d||e.isZero()?(t=ae(this,u,1).times(.5),t.s=r.s):e.s<0?(this.precision=u,this.rounding=1,t=this.atan(xr(r,e,u,1)),e=ae(this,u,1),this.precision=i,this.rounding=n,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(xr(r,e,u,1)),t}function Mo(r){return new this(r).cbrt()}function So(r){return vr(r=new this(r),r.e+1,2)}function No(r,e,t){return new this(r).clamp(e,t)}function Bo(r){if(!r||typeof r!="object")throw Error(Bt+"Object expected");var e,t,i,n=r.defaults===!0,u=["precision",1,Ee,"rounding",0,8,"toExpNeg",-$e,0,"toExpPos",0,$e,"maxE",0,$e,"minE",-$e,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(t=u[e],n&&(this[t]=Jt[t]),(i=r[t])!==void 0)if(Yr(i)===i&&i>=u[e+1]&&i<=u[e+2])this[t]=i;else throw Error(Ae+t+": "+i);if(t="crypto",n&&(this[t]=Jt[t]),(i=r[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(Vi);else this[t]=!1;else throw Error(Ae+t+": "+i);return this}function _o(r){return new this(r).cos()}function xo(r){return new this(r).cosh()}function Hi(r){var e,t,i;function n(u){var s,p,c,l=this;if(!(l instanceof n))return new n(u);if(l.constructor=n,Fn(u)){l.s=u.s,dr?!u.d||u.e>n.maxE?(l.e=NaN,l.d=null):u.e<n.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(s=0,p=u;p>=10;p/=10)s++;dr?s>n.maxE?(l.e=NaN,l.d=null):s<n.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[u]):(l.e=s,l.d=[u]);return}else if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return Xt(l,u.toString())}else if(c!=="string")throw Error(Ae+u);return(p=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(p===43&&(u=u.slice(1)),l.s=1),Yi.test(u)?Xt(l,u):po(l,u)}if(n.prototype=H,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Bo,n.clone=Hi,n.isDecimal=Fn,n.abs=Do,n.acos=go,n.acosh=yo,n.add=wo,n.asin=Ao,n.asinh=Eo,n.atan=Fo,n.atanh=Co,n.atan2=bo,n.cbrt=Mo,n.ceil=So,n.clamp=No,n.cos=_o,n.cosh=xo,n.div=To,n.exp=zo,n.floor=Oo,n.hypot=Io,n.ln=$o,n.log=qo,n.log10=Ro,n.log2=Po,n.max=Uo,n.min=Lo,n.mod=Zo,n.mul=Vo,n.pow=Jo,n.random=Yo,n.round=Go,n.sign=Xo,n.sin=Qo,n.sinh=Ko,n.sqrt=Wo,n.sub=Ho,n.sum=ko,n.tan=jo,n.tanh=rs,n.trunc=es,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)r.hasOwnProperty(t=i[e++])||(r[t]=this[t]);return n.config(r),n}function To(r,e){return new this(r).div(e)}function zo(r){return new this(r).exp()}function Oo(r){return vr(r=new this(r),r.e+1,3)}function Io(){var r,e,t=new this(0);for(dr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return dr=!0,new this(1/0);t=e}return dr=!0,t.sqrt()}function Fn(r){return r instanceof Ze||r&&r.toStringTag===Ji||!1}function $o(r){return new this(r).ln()}function qo(r,e){return new this(r).log(e)}function Po(r){return new this(r).log(2)}function Ro(r){return new this(r).log(10)}function Uo(){return Qi(this,arguments,"lt")}function Lo(){return Qi(this,arguments,"gt")}function Zo(r,e){return new this(r).mod(e)}function Vo(r,e){return new this(r).mul(e)}function Jo(r,e){return new this(r).pow(e)}function Yo(r){var e,t,i,n,u=0,s=new this(1),p=[];if(r===void 0?r=this.precision:Wr(r,1,Ee),i=Math.ceil(r/hr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));u<i;)n=e[u],n>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:p[u++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);u<i;)n=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,u):(p.push(n%1e7),u+=4);u=i/4}else throw Error(Vi);else for(;u<i;)p[u++]=Math.random()*1e7|0;for(i=p[--u],r%=hr,i&&r&&(n=Rr(10,hr-r),p[u]=(i/n|0)*n);p[u]===0;u--)p.pop();if(u<0)t=0,p=[0];else{for(t=-1;p[0]===0;t-=hr)p.shift();for(i=1,n=p[0];n>=10;n/=10)i++;i<hr&&(t-=hr-i)}return s.e=t,s.d=p,s}function Go(r){return vr(r=new this(r),r.e+1,this.rounding)}function Xo(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Qo(r){return new this(r).sin()}function Ko(r){return new this(r).sinh()}function Wo(r){return new this(r).sqrt()}function Ho(r,e){return new this(r).sub(e)}function ko(){var r=0,e=arguments,t=new this(e[r]);for(dr=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return dr=!0,vr(t,this.precision,this.rounding)}function jo(r){return new this(r).tan()}function rs(r){return new this(r).tanh()}function es(r){return vr(r=new this(r),r.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var Ze=H.constructor=Hi(Jt);pt=new Ze(pt);dt=new Ze(dt);var ts="BigNumber",ns=["?on","config"],is=j(ts,ns,r=>{var{on:e,config:t}=r,i=Ze.clone({precision:t.precision,modulo:Ze.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},e&&e("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});function ki(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ji={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(t){var i=Math.cosh||function(a){return Math.abs(a)<1e-9?1-a:(Math.exp(a)+Math.exp(-a))*.5},n=Math.sinh||function(a){return Math.abs(a)<1e-9?a:(Math.exp(a)-Math.exp(-a))*.5},u=function(a){var f=Math.PI/4;if(-f>a||a>f)return Math.cos(a)-1;var v=a*a;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(a,f){var v=Math.abs(a),d=Math.abs(f);return v<3e3&&d<3e3?Math.sqrt(v*v+d*d):(v<d?(v=d,d=a/f):d=f/a,v*Math.sqrt(1+d*d))},p=function(){throw SyntaxError("Invalid Param")};function c(a,f){var v=Math.abs(a),d=Math.abs(f);return a===0?Math.log(d):f===0?Math.log(v):v<3e3&&d<3e3?Math.log(a*a+f*f)*.5:(a=a/2,f=f/2,.5*Math.log(a*a+f*f)+Math.LN2)}var l=function(a,f){var v={re:0,im:0};if(a==null)v.re=v.im=0;else if(f!==void 0)v.re=a,v.im=f;else switch(typeof a){case"object":if("im"in a&&"re"in a)v.re=a.re,v.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return o.INFINITY;v.re=a.abs*Math.cos(a.arg),v.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return o.INFINITY;v.re=a.r*Math.cos(a.phi),v.im=a.r*Math.sin(a.phi)}else a.length===2?(v.re=a[0],v.im=a[1]):p();break;case"string":v.im=v.re=0;var d=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,g=0;d===null&&p();for(var m=0;m<d.length;m++){var E=d[m];E===" "||E==="	"||E===`
`||(E==="+"?h++:E==="-"?g++:E==="i"||E==="I"?(h+g===0&&p(),d[m+1]!==" "&&!isNaN(d[m+1])?(v.im+=parseFloat((g%2?"-":"")+d[m+1]),m++):v.im+=parseFloat((g%2?"-":"")+"1"),h=g=0):((h+g===0||isNaN(E))&&p(),d[m+1]==="i"||d[m+1]==="I"?(v.im+=parseFloat((g%2?"-":"")+E),m++):v.re+=parseFloat((g%2?"-":"")+E),h=g=0))}h+g>0&&p();break;case"number":v.im=0,v.re=a;break;default:p()}return isNaN(v.re)||isNaN(v.im),v};function o(a,f){if(!(this instanceof o))return new o(a,f);var v=l(a,f);this.re=v.re,this.im=v.im}o.prototype={re:0,im:0,sign:function(){var a=this.abs();return new o(this.re/a,this.im/a)},add:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:new o(this.re+v.re,this.im+v.im)},sub:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:new o(this.re-v.re,this.im-v.im)},mul:function(a,f){var v=new o(a,f);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?o.NAN:this.isInfinite()||v.isInfinite()?o.INFINITY:v.im===0&&this.im===0?new o(this.re*v.re,0):new o(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(a,f){var v=new o(a,f);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return o.NAN;if(this.isInfinite()||v.isZero())return o.INFINITY;if(this.isZero()||v.isInfinite())return o.ZERO;a=this.re,f=this.im;var d=v.re,h=v.im,g,m;return h===0?new o(a/d,f/d):Math.abs(d)<Math.abs(h)?(m=d/h,g=d*m+h,new o((a*m+f)/g,(f*m-a)/g)):(m=h/d,g=h*m+d,new o((a+f*m)/g,(f-a*m)/g))},pow:function(a,f){var v=new o(a,f);if(a=this.re,f=this.im,v.isZero())return o.ONE;if(v.im===0){if(f===0&&a>0)return new o(Math.pow(a,v.re),0);if(a===0)switch((v.re%4+4)%4){case 0:return new o(Math.pow(f,v.re),0);case 1:return new o(0,Math.pow(f,v.re));case 2:return new o(-Math.pow(f,v.re),0);case 3:return new o(0,-Math.pow(f,v.re))}}if(a===0&&f===0&&v.re>0&&v.im>=0)return o.ZERO;var d=Math.atan2(f,a),h=c(a,f);return a=Math.exp(v.re*h-v.im*d),f=v.im*h+v.re*d,new o(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){var a=this.re,f=this.im,v=this.abs(),d,h;if(a>=0){if(f===0)return new o(Math.sqrt(a),0);d=.5*Math.sqrt(2*(v+a))}else d=Math.abs(f)/Math.sqrt(2*(v-a));return a<=0?h=.5*Math.sqrt(2*(v-a)):h=Math.abs(f)/Math.sqrt(2*(v+a)),new o(d,f<0?-h:h)},exp:function(){var a=Math.exp(this.re);return this.im,new o(a*Math.cos(this.im),a*Math.sin(this.im))},expm1:function(){var a=this.re,f=this.im;return new o(Math.expm1(a)*Math.cos(f)+u(f),Math.exp(a)*Math.sin(f))},log:function(){var a=this.re,f=this.im;return new o(c(a,f),Math.atan2(f,a))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,f=this.im;return new o(Math.sin(a)*i(f),Math.cos(a)*n(f))},cos:function(){var a=this.re,f=this.im;return new o(Math.cos(a)*i(f),-Math.sin(a)*n(f))},tan:function(){var a=2*this.re,f=2*this.im,v=Math.cos(a)+i(f);return new o(Math.sin(a)/v,n(f)/v)},cot:function(){var a=2*this.re,f=2*this.im,v=Math.cos(a)-i(f);return new o(-Math.sin(a)/v,n(f)/v)},sec:function(){var a=this.re,f=this.im,v=.5*i(2*f)+.5*Math.cos(2*a);return new o(Math.cos(a)*i(f)/v,Math.sin(a)*n(f)/v)},csc:function(){var a=this.re,f=this.im,v=.5*i(2*f)-.5*Math.cos(2*a);return new o(Math.sin(a)*i(f)/v,-Math.cos(a)*n(f)/v)},asin:function(){var a=this.re,f=this.im,v=new o(f*f-a*a+1,-2*a*f).sqrt(),d=new o(v.re-f,v.im+a).log();return new o(d.im,-d.re)},acos:function(){var a=this.re,f=this.im,v=new o(f*f-a*a+1,-2*a*f).sqrt(),d=new o(v.re-f,v.im+a).log();return new o(Math.PI/2-d.im,d.re)},atan:function(){var a=this.re,f=this.im;if(a===0){if(f===1)return new o(0,1/0);if(f===-1)return new o(0,-1/0)}var v=a*a+(1-f)*(1-f),d=new o((1-f*f-a*a)/v,-2*a/v).log();return new o(-.5*d.im,.5*d.re)},acot:function(){var a=this.re,f=this.im;if(f===0)return new o(Math.atan2(1,a),0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).atan():new o(a!==0?a/0:0,f!==0?-f/0:0).atan()},asec:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,1/0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).acos():new o(a!==0?a/0:0,f!==0?-f/0:0).acos()},acsc:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(Math.PI/2,1/0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).asin():new o(a!==0?a/0:0,f!==0?-f/0:0).asin()},sinh:function(){var a=this.re,f=this.im;return new o(n(a)*Math.cos(f),i(a)*Math.sin(f))},cosh:function(){var a=this.re,f=this.im;return new o(i(a)*Math.cos(f),n(a)*Math.sin(f))},tanh:function(){var a=2*this.re,f=2*this.im,v=i(a)+Math.cos(f);return new o(n(a)/v,Math.sin(f)/v)},coth:function(){var a=2*this.re,f=2*this.im,v=i(a)-Math.cos(f);return new o(n(a)/v,-Math.sin(f)/v)},csch:function(){var a=this.re,f=this.im,v=Math.cos(2*f)-i(2*a);return new o(-2*n(a)*Math.cos(f)/v,2*i(a)*Math.sin(f)/v)},sech:function(){var a=this.re,f=this.im,v=Math.cos(2*f)+i(2*a);return new o(2*i(a)*Math.cos(f)/v,-2*n(a)*Math.sin(f)/v)},asinh:function(){var a=this.im;this.im=-this.re,this.re=a;var f=this.asin();return this.re=-this.im,this.im=a,a=f.re,f.re=-f.im,f.im=a,f},acosh:function(){var a=this.acos();if(a.im<=0){var f=a.re;a.re=-a.im,a.im=f}else{var f=a.im;a.im=-a.re,a.re=f}return a},atanh:function(){var a=this.re,f=this.im,v=a>1&&f===0,d=1-a,h=1+a,g=d*d+f*f,m=g!==0?new o((h*d-f*f)/g,(f*d+h*f)/g):new o(a!==-1?a/0:0,f!==0?f/0:0),E=m.re;return m.re=c(m.re,m.im)/2,m.im=Math.atan2(m.im,E)/2,v&&(m.im=-m.im),m},acoth:function(){var a=this.re,f=this.im;if(a===0&&f===0)return new o(0,Math.PI/2);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).atanh():new o(a!==0?a/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var a=this.re,f=this.im;if(f===0)return new o(a!==0?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var v=a*a+f*f;return v!==0?new o(a/v,-f/v).asinh():new o(a!==0?a/0:0,f!==0?-f/0:0).asinh()},asech:function(){var a=this.re,f=this.im;if(this.isZero())return o.INFINITY;var v=a*a+f*f;return v!==0?new o(a/v,-f/v).acosh():new o(a!==0?a/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var a=this.re,f=this.im,v=a*a+f*f;return new o(a/v,-f/v)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(a){return a=Math.pow(10,a||0),new o(Math.ceil(this.re*a)/a,Math.ceil(this.im*a)/a)},floor:function(a){return a=Math.pow(10,a||0),new o(Math.floor(this.re*a)/a,Math.floor(this.im*a)/a)},round:function(a){return a=Math.pow(10,a||0),new o(Math.round(this.re*a)/a,Math.round(this.im*a)/a)},equals:function(a,f){var v=new o(a,f);return Math.abs(v.re-this.re)<=o.EPSILON&&Math.abs(v.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var a=this.re,f=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(a)<o.EPSILON&&(a=0),Math.abs(f)<o.EPSILON&&(f=0),f===0?v+a:(a!==0?(v+=a,v+=" ",f<0?(f=-f,v+="-"):v+="+",v+=" "):f<0&&(f=-f,v+="-"),f!==1&&(v+=f),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})(ji);var as=ji.exports;const Zr=ki(as);var us="Complex",os=[],ss=j(us,os,()=>(Object.defineProperty(Zr,"name",{value:"Complex"}),Zr.prototype.constructor=Zr,Zr.prototype.type="Complex",Zr.prototype.isComplex=!0,Zr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Zr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Zr.prototype.format=function(r){var e="",t=this.im,i=this.re,n=Zt(this.re,r),u=Zt(this.im,r),s=Br(r)?r:r?r.precision:null;if(s!==null){var p=Math.pow(10,-s);Math.abs(i/t)<p&&(i=0),Math.abs(t/i)<p&&(t=0)}return t===0?e=n:i===0?t===1?e="i":t===-1?e="-i":e=u+"i":t<0?t===-1?e=n+" - i":e=n+" - "+u.substring(1)+"i":t===1?e=n+" + i":e=n+" + "+u+"i",e},Zr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Zr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(Br(t)){if(xi(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),Br(i))return new Zr({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Zr.prototype.valueOf=Zr.prototype.toString,Zr.fromJSON=function(r){return new Zr(r)},Zr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Zr),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var fs=2e3,fr={s:1,n:0,d:1};function ce(r,e){if(isNaN(r=parseInt(r,10)))throw lt();return r*e}function $r(r,e){if(e===0)throw tn();var t=Object.create(Jr.prototype);t.s=r<0?-1:1,r=r<0?-r:r;var i=qe(r,e);return t.n=r/i,t.d=e/i,t}function Cn(r){for(var e={},t=r,i=2,n=4;n<=t;){for(;t%i===0;)t/=i,e[i]=(e[i]||0)+1;n+=1+2*i++}return t!==r?t>1&&(e[t]=(e[t]||0)+1):e[r]=(e[r]||0)+1,e}var kr=function(r,e){var t=0,i=1,n=1,u=0,s=0,p=0,c=1,l=1,o=0,a=1,f=1,v=1,d=1e7,h;if(r!=null)if(e!==void 0){if(t=r,i=e,n=t*i,t%1!==0||i%1!==0)throw hs()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)t=r.n,i=r.d,"s"in r&&(t*=r.s);else if(0 in r)t=r[0],1 in r&&(i=r[1]);else throw lt();n=t*i;break}case"number":{if(r<0&&(n=r,r=-r),r%1===0)t=r;else if(r>0){for(r>=1&&(l=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=l);a<=d&&v<=d;)if(h=(o+f)/(a+v),r===h){a+v<=d?(t=o+f,i=a+v):v>a?(t=f,i=v):(t=o,i=a);break}else r>h?(o+=f,a+=v):(f+=o,v+=a),a>d?(t=f,i=v):(t=o,i=a);t*=l}else(isNaN(r)||isNaN(e))&&(i=t=NaN);break}case"string":{if(a=r.match(/\d+|./g),a===null)throw lt();if(a[o]==="-"?(n=-1,o++):a[o]==="+"&&o++,a.length===o+1?s=ce(a[o++],n):a[o+1]==="."||a[o]==="."?(a[o]!=="."&&(u=ce(a[o++],n)),o++,(o+1===a.length||a[o+1]==="("&&a[o+3]===")"||a[o+1]==="'"&&a[o+3]==="'")&&(s=ce(a[o],n),c=Math.pow(10,a[o].length),o++),(a[o]==="("&&a[o+2]===")"||a[o]==="'"&&a[o+2]==="'")&&(p=ce(a[o+1],n),l=Math.pow(10,a[o+1].length)-1,o+=3)):a[o+1]==="/"||a[o+1]===":"?(s=ce(a[o],n),c=ce(a[o+2],1),o+=3):a[o+3]==="/"&&a[o+1]===" "&&(u=ce(a[o],n),s=ce(a[o+2],n),c=ce(a[o+4],1),o+=5),a.length<=o){i=c*l,n=t=p+i*u+l*s;break}}default:throw lt()}if(i===0)throw tn();fr.s=n<0?-1:1,fr.n=Math.abs(t),fr.d=Math.abs(i)};function cs(r,e,t){for(var i=1;e>0;r=r*r%t,e>>=1)e&1&&(i=i*r%t);return i}function ls(r,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(e===1)return 0;for(var t=10%e,i=1;t!==1;i++)if(t=t*10%e,i>fs)return 0;return i}function vs(r,e,t){for(var i=1,n=cs(10,t,e),u=0;u<300;u++){if(i===n)return u;i=i*10%e,n=n*10%e}return 0}function qe(r,e){if(!r)return e;if(!e)return r;for(;;){if(r%=e,!r)return e;if(e%=r,!e)return r}}function Jr(r,e){if(kr(r,e),this instanceof Jr)r=qe(fr.d,fr.n),this.s=fr.s,this.n=fr.n/r,this.d=fr.d/r;else return $r(fr.s*fr.n,fr.d)}var tn=function(){return new Error("Division by Zero")},lt=function(){return new Error("Invalid argument")},hs=function(){return new Error("Parameters must be integer")};Jr.prototype={s:1,n:0,d:1,abs:function(){return $r(this.n,this.d)},neg:function(){return $r(-this.s*this.n,this.d)},add:function(r,e){return kr(r,e),$r(this.s*this.n*fr.d+fr.s*this.d*fr.n,this.d*fr.d)},sub:function(r,e){return kr(r,e),$r(this.s*this.n*fr.d-fr.s*this.d*fr.n,this.d*fr.d)},mul:function(r,e){return kr(r,e),$r(this.s*fr.s*this.n*fr.n,this.d*fr.d)},div:function(r,e){return kr(r,e),$r(this.s*fr.s*this.n*fr.d,this.d*fr.n)},clone:function(){return $r(this.s*this.n,this.d)},mod:function(r,e){if(isNaN(this.n)||isNaN(this.d))return new Jr(NaN);if(r===void 0)return $r(this.s*this.n%this.d,1);if(kr(r,e),fr.n===0&&this.d===0)throw tn();return $r(this.s*(fr.d*this.n)%(fr.n*this.d),fr.d*this.d)},gcd:function(r,e){return kr(r,e),$r(qe(fr.n,this.n)*qe(fr.d,this.d),fr.d*this.d)},lcm:function(r,e){return kr(r,e),fr.n===0&&this.n===0?$r(0,1):$r(fr.n*this.n,qe(fr.n,this.n)*qe(fr.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Jr(NaN):$r(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Jr(NaN):$r(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Jr(NaN):$r(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,e){return kr(r,e),$r(this.s*Math.round(this.n*fr.d/(this.d*fr.n))*fr.n,fr.d)},inverse:function(){return $r(this.s*this.d,this.n)},pow:function(r,e){if(kr(r,e),fr.d===1)return fr.s<0?$r(Math.pow(this.s*this.d,fr.n),Math.pow(this.n,fr.n)):$r(Math.pow(this.s*this.n,fr.n),Math.pow(this.d,fr.n));if(this.s<0)return null;var t=Cn(this.n),i=Cn(this.d),n=1,u=1;for(var s in t)if(s!=="1"){if(s==="0"){n=0;break}if(t[s]*=fr.n,t[s]%fr.d===0)t[s]/=fr.d;else return null;n*=Math.pow(s,t[s])}for(var s in i)if(s!=="1"){if(i[s]*=fr.n,i[s]%fr.d===0)i[s]/=fr.d;else return null;u*=Math.pow(s,i[s])}return fr.s<0?$r(u,n):$r(n,u)},equals:function(r,e){return kr(r,e),this.s*this.n*fr.d===fr.s*fr.n*this.d},compare:function(r,e){kr(r,e);var t=this.s*this.n*fr.d-fr.s*fr.n*this.d;return(0<t)-(t<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var e=this.abs(),t=e.toContinued(),i=1;i<t.length;i++){for(var n=$r(t[i-1],1),u=i-2;u>=0;u--)n=n.inverse().add(t[u]);if(Math.abs(n.sub(e).valueOf())<r)return n.mul(this.s)}return this},divisible:function(r,e){return kr(r,e),!(!(fr.n*this.d)||this.n*fr.d%(fr.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,t+=" ",i%=n),t+=i,t+="/",t+=n),t},toLatex:function(r){var e,t="",i=this.n,n=this.d;return this.s<0&&(t+="-"),n===1?t+=i:(r&&(e=Math.floor(i/n))>0&&(t+=e,i%=n),t+="\\frac{",t+=i,t+="}{",t+=n,t+="}"),t},toContinued:function(){var r,e=this.n,t=this.d,i=[];if(isNaN(e)||isNaN(t))return i;do i.push(Math.floor(e/t)),r=e%t,e=t,t=r;while(e!==1);return i},toString:function(r){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";r=r||15;var i=ls(e,t),n=vs(e,t,i),u=this.s<0?"-":"";if(u+=e/t|0,e%=t,e*=10,e&&(u+="."),i){for(var s=n;s--;)u+=e/t|0,e%=t,e*=10;u+="(";for(var s=i;s--;)u+=e/t|0,e%=t,e*=10;u+=")"}else for(var s=r;e&&s--;)u+=e/t|0,e%=t,e*=10;return u}};var ps="Fraction",ds=[],ms=j(ps,ds,()=>(Object.defineProperty(Jr,"name",{value:"Fraction"}),Jr.prototype.constructor=Jr,Jr.prototype.type="Fraction",Jr.prototype.isFraction=!0,Jr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Jr.fromJSON=function(r){return new Jr(r)},Jr),{isClass:!0}),Ds="Matrix",gs=[],ys=j(Ds,gs,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Lt(r,e,t){var i=r.constructor,n=new i(2),u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_r(t))throw new Error("size must be an integer");if(r.greaterThan(n.pow(t-1).sub(1))||r.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(n.pow(t))),u="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(u);case 8:return"".concat(r.toOctal()).concat(u);case 16:return"".concat(r.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function ws(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=Oi(e);switch(t){case"fixed":return Es(r,i);case"exponential":return bn(r,i);case"engineering":return As(r,i);case"bin":return Lt(r,2,n);case"oct":return Lt(r,8,n);case"hex":return Lt(r,16,n);case"auto":{var u=Mn(e==null?void 0:e.lowerExp,-3),s=Mn(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var p,c=r.toSignificantDigits(i),l=c.e;return l>=u&&l<s?p=c.toFixed():p=bn(r,i),p.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function As(r,e){var t=r.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=r.mul(Math.pow(10,-i)),u=n.toPrecision(e);if(u.includes("e")){var s=r.constructor;u=new s(u).toFixed()}return u+"e"+(t>=0?"+":"")+i.toString()}function bn(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Es(r,e){return r.toFixed(e)}function Mn(r,e){return Br(r)?r:Ir(r)?r.toNumber():e}function Or(r,e){var t=Fs(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Fs(r,e){if(typeof r=="number")return Zt(r,e);if(Ir(r))return ws(r,e);if(Cs(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return ra(r,e);if(ee(r))return Sn(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(i=>Sn(i)+": "+Or(r[i],e));return"{"+t.join(", ")+"}"}return String(r)}function Sn(r){for(var e=String(r),t="",i=0;i<e.length;){var n=e.charAt(i);t+=n in Nn?Nn[n]:n,i++}return'"'+t+'"'}var Nn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ra(r,e){if(Array.isArray(r)){for(var t="[",i=r.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=ra(r[n],e);return t+="]",t}else return Or(r,e)}function Cs(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function wr(r,e,t){if(!(this instanceof wr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}wr.prototype=new RangeError;wr.prototype.constructor=RangeError;wr.prototype.name="DimensionError";wr.prototype.isDimensionError=!0;function Se(r,e,t){if(!(this instanceof Se))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Se.prototype=new RangeError;Se.prototype.constructor=RangeError;Se.prototype.name="IndexError";Se.prototype.isIndexError=!0;function zr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function ea(r,e,t){var i,n=r.length;if(n!==e[t])throw new wr(n,e[t]);if(t<e.length-1){var u=t+1;for(i=0;i<n;i++){var s=r[i];if(!Array.isArray(s))throw new wr(e.length-1,e.length,"<");ea(r[i],e,u)}}else for(i=0;i<n;i++)if(Array.isArray(r[i]))throw new wr(e.length+1,e.length,">")}function Bn(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new wr(r.length,0)}else ea(r,e,0)}function Dt(r,e){var t=r.isMatrix?r._size:zr(r),i=e._sourceSize;i.forEach((n,u)=>{if(n!==null&&n!==t[u])throw new wr(n,t[u])})}function Sr(r,e){if(r!==void 0){if(!Br(r)||!_r(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Se(r,e)}}function Ve(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Fr(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(ee(t)&&t.length===0)return!0}return!1}function gt(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(n){if(!Br(n)||!_r(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Or(e)+")")}),(Br(r)||Ir(r))&&(r=[r]);var i=t!==void 0?t:0;return Qt(r,e,0,i),r}function Qt(r,e,t,i){var n,u,s=r.length,p=e[t],c=Math.min(s,p);if(r.length=p,t<e.length-1){var l=t+1;for(n=0;n<c;n++)u=r[n],Array.isArray(u)||(u=[u],r[n]=u),Qt(u,e,l,i);for(n=c;n<p;n++)u=[],r[n]=u,Qt(u,e,l,i)}else{for(n=0;n<c;n++)for(;Array.isArray(r[n]);)r[n]=r[n][0];for(n=c;n<p;n++)r[n]=i}}function nn(r,e){var t=Re(r),i=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new wr(0,i,"!=");e=an(e,i);var n=ta(e);if(i!==n)throw new wr(n,i,"!=");try{return bs(t,e)}catch(u){throw u instanceof wr?new wr(n,i,"!="):u}}function an(r,e){var t=ta(r),i=r.slice(),n=-1,u=r.indexOf(n),s=r.indexOf(n,u+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var p=u>=0,c=e%t===0;if(p)if(c)i[u]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return i}function ta(r){return r.reduce((e,t)=>e*t,1)}function bs(r,e){for(var t=r,i,n=e.length-1;n>0;n--){var u=e[n];i=[];for(var s=t.length/u,p=0;p<s;p++)i.push(t.slice(p*u,(p+1)*u));t=i}return t}function na(r,e,t,i){var n=i||zr(r);if(t)for(var u=0;u<t;u++)r=[r],n.unshift(1);for(r=ia(r,e,0);n.length<e;)n.push(1);return r}function ia(r,e,t){var i,n;if(Array.isArray(r)){var u=t+1;for(i=0,n=r.length;i<n;i++)r[i]=ia(r[i],e,u)}else for(var s=t;s<e;s++)r=[r];return r}function Re(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function _n(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var i=1;i<r.length;i++)r[i]===r[i-1]?t++:t=0,e.push({value:r[i],identifier:t});return e}function xn(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function rt(r,e){for(var t,i=0,n=0;n<r.length;n++){var u=r[n],s=Array.isArray(u);if(n===0&&s&&(i=u.length),s&&u.length!==i)return;var p=s?rt(u,e):e(u);if(t===void 0)t=p;else if(t!==p)return"mixed"}return t}function aa(r,e,t,i){if(i<t){if(r.length!==e.length)throw new wr(r.length,e.length);for(var n=[],u=0;u<r.length;u++)n[u]=aa(r[u],e[u],t,i+1);return n}else return r.concat(e)}function ua(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,i){return aa(t,i,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function oa(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var i=e.map(f=>f.length),n=Math.max(...i),u=new Array(n).fill(null),s=0;s<e.length;s++)for(var p=e[s],c=i[s],l=0;l<c;l++){var o=n-c+l;p[l]>u[o]&&(u[o]=p[l])}for(var a=0;a<e.length;a++)sa(e[a],u);return u}function sa(r,e){for(var t=e.length,i=r.length,n=0;n<i;n++){var u=t-i+n;if(r[n]<e[u]&&r[n]>1||r[n]>e[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(i," with size ").concat(r[n]," to size ").concat(e[u]))}}function Kt(r,e){var t=zr(r);if(we(t,e))return r;sa(t,e);var i=oa(t,e),n=i.length,u=[...Array(n-t.length).fill(1),...t],s=Ss(r);t.length<n&&(s=nn(s,u),t=zr(s));for(var p=0;p<n;p++)t[p]<i[p]&&(s=Ms(s,i[p],p),t=zr(s));return s}function Ms(r,e,t){return ua(...Array(e).fill(r),t)}function Ss(r){return Ue([],r)}function fa(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var i=(t.match(/,/g)||[]).length+1;return Math.max(e,i)},-1)}var Ns="DenseMatrix",Bs=["Matrix"],_s=j(Ns,Bs,r=>{var{Matrix:e}=r;function t(o,a){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!ee(a))throw new Error("Invalid datatype: "+a);if(Nr(o))o.type==="DenseMatrix"?(this._data=Er(o._data),this._size=Er(o._size),this._datatype=a||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=a||o._datatype);else if(o&&Fr(o.data)&&Fr(o.size))this._data=o.data,this._size=o.size,Bn(this._data,this._size),this._datatype=a||o.datatype;else if(Fr(o))this._data=l(o),this._size=zr(this._data),Bn(this._data,this._size),this._datatype=a;else{if(o)throw new TypeError("Unsupported type of data ("+ue(o)+")");this._data=[],this._size=[0],this._datatype=a}}t.prototype=new e,t.prototype.createDenseMatrix=function(o,a){return new t(o,a)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return rt(this._data,ue)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(o,a){return new t(o,a)},t.prototype.subset=function(o,a,f){switch(arguments.length){case 1:return i(this,o);case 2:case 3:return u(this,o,a,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(o){if(!Fr(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new wr(o.length,this._size.length);for(var a=0;a<o.length;a++)Sr(o[a],this._size[a]);for(var f=this._data,v=0,d=o.length;v<d;v++){var h=o[v];Sr(h,f.length),f=f[h]}return f},t.prototype.set=function(o,a,f){if(!Fr(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new wr(o.length,this._size.length,"<");var v,d,h,g=o.map(function(E){return E+1});c(this,g,f);var m=this._data;for(v=0,d=o.length-1;v<d;v++)h=o[v],Sr(h,m.length),m=m[h];return h=o[o.length-1],Sr(h,m.length),m[h]=a,this};function i(o,a){if(!Mt(a))throw new TypeError("Invalid index");var f=a.isScalar();if(f)return o.get(a.min());var v=a.size();if(v.length!==o._size.length)throw new wr(v.length,o._size.length);for(var d=a.min(),h=a.max(),g=0,m=o._size.length;g<m;g++)Sr(d[g],o._size[g]),Sr(h[g],o._size[g]);return new t(n(o._data,a,v.length,0),o._datatype)}function n(o,a,f,v){var d=v===f-1,h=a.dimension(v);return d?h.map(function(g){return Sr(g,o.length),o[g]}).valueOf():h.map(function(g){Sr(g,o.length);var m=o[g];return n(m,a,f,v+1)}).valueOf()}function u(o,a,f,v){if(!a||a.isIndex!==!0)throw new TypeError("Invalid index");var d=a.size(),h=a.isScalar(),g;if(Nr(f)?(g=f.size(),f=f.valueOf()):g=zr(f),h){if(g.length!==0)throw new TypeError("Scalar expected");o.set(a.min(),f,v)}else{if(!we(g,d))try{g.length===0?f=Kt([f],d):f=Kt(f,d),g=zr(f)}catch{}if(d.length<o._size.length)throw new wr(d.length,o._size.length,"<");if(g.length<d.length){for(var m=0,E=0;d[m]===1&&g[m]===1;)m++;for(;d[m]===1;)E++,m++;f=na(f,d.length,E,g)}if(!we(d,g))throw new wr(d,g,">");var y=a.max().map(function(D){return D+1});c(o,y,v);var F=d.length,A=0;s(o._data,a,f,F,A)}return o}function s(o,a,f,v,d){var h=d===v-1,g=a.dimension(d);h?g.forEach(function(m,E){Sr(m),o[m]=f[E[0]]}):g.forEach(function(m,E){Sr(m),s(o[m],a,f[E[0]],v,d+1)})}t.prototype.resize=function(o,a,f){if(!vt(o))throw new TypeError("Array or Matrix expected");var v=o.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),d=f?this.clone():this;return p(d,v,a)};function p(o,a,f){if(a.length===0){for(var v=o._data;Fr(v);)v=v[0];return v}return o._size=a.slice(0),o._data=gt(o._data,o._size,f),o}t.prototype.reshape=function(o,a){var f=a?this.clone():this;f._data=nn(f._data,o);var v=f._size.reduce((d,h)=>d*h);return f._size=an(o,v),f};function c(o,a,f){for(var v=o._size.slice(0),d=!1;v.length<a.length;)v.push(0),d=!0;for(var h=0,g=a.length;h<g;h++)a[h]>v[h]&&(v[h]=a[h],d=!0);d&&p(o,v,f)}t.prototype.clone=function(){var o=new t({data:Er(this._data),size:Er(this._size),datatype:this._datatype});return o},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(o){var a=this,f=fa(o),v=function g(m,E){return Fr(m)?m.map(function(y,F){return g(y,E.concat(F))}):f===1?o(m):f===2?o(m,E):o(m,E,a)},d=v(this._data,[]),h=this._datatype!==void 0?rt(d,ue):void 0;return new t(d,h)},t.prototype.forEach=function(o){var a=this,f=function v(d,h){Fr(d)?d.forEach(function(g,m){v(g,h.concat(m))}):o(d,h,a)};f(this._data,[])},t.prototype[Symbol.iterator]=function*(){var o=function*a(f,v){if(Fr(f))for(var d=0;d<f.length;d++)yield*a(f[d],v.concat(d));else yield{value:f,index:v}};yield*o(this._data,[])},t.prototype.rows=function(){var o=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var v of f)o.push(new t([v],this._datatype));return o},t.prototype.columns=function(){var o=this,a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,d=function(m){var E=v.map(y=>[y[m]]);a.push(new t(E,o._datatype))},h=0;h<f[1];h++)d(h);return a},t.prototype.toArray=function(){return Er(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(o){return Or(this._data,o)},t.prototype.toString=function(){return Or(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(o){if(o){if(Ir(o)&&(o=o.toNumber()),!Br(o)||!_r(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var a=o>0?o:0,f=o<0?-o:0,v=this._size[0],d=this._size[1],h=Math.min(v-f,d-a),g=[],m=0;m<h;m++)g[m]=this._data[m+f][m+a];return new t({data:g,size:[h],datatype:this._datatype})},t.diagonal=function(o,a,f,v){if(!Fr(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(b){if(Ir(b)&&(b=b.toNumber()),!Br(b)||!_r(b)||b<1)throw new Error("Size values must be positive integers");return b}),f){if(Ir(f)&&(f=f.toNumber()),!Br(f)||!_r(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var d=f>0?f:0,h=f<0?-f:0,g=o[0],m=o[1],E=Math.min(g-h,m-d),y;if(Fr(a)){if(a.length!==E)throw new Error("Invalid value array length");y=function(C){return a[C]}}else if(Nr(a)){var F=a.size();if(F.length!==1||F[0]!==E)throw new Error("Invalid matrix length");y=function(C){return a.get([C])}}else y=function(){return a};v||(v=Ir(y(0))?y(0).mul(0):0);var A=[];if(o.length>0){A=gt(A,o,v);for(var D=0;D<E;D++)A[D+h][D+d]=y(D)}return new t({data:A,size:[g,m]})},t.fromJSON=function(o){return new t(o)},t.prototype.swapRows=function(o,a){if(!Br(o)||!_r(o)||!Br(a)||!_r(a))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(o,this._size[0]),Sr(a,this._size[0]),t._swapRows(o,a,this._data),this},t._swapRows=function(o,a,f){var v=f[o];f[o]=f[a],f[a]=v};function l(o){return Nr(o)?l(o.valueOf()):Fr(o)?o.map(l):o}return t},{isClass:!0});function Hr(r,e,t){return r&&typeof r.map=="function"?r.map(function(i){return Hr(i,e)}):e(r)}var Tn="isInteger",xs=["typed"],Ts=j(Tn,xs,r=>{var{typed:e}=r;return e(Tn,{number:_r,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),un="number",Tt="number, number";function ca(r){return Math.abs(r)}ca.signature=un;function la(r,e){return r+e}la.signature=Tt;function va(r,e){return r-e}va.signature=Tt;function ha(r,e){return r*e}ha.signature=Tt;function pa(r){return-r}pa.signature=un;function Wt(r){return Ju(r)}Wt.signature=un;function da(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}da.signature=Tt;var zs="number";function ma(r){return r>0}ma.signature=zs;function Ne(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),i))}var zn="isPositive",Os=["typed","config"],Is=j(zn,Os,r=>{var{typed:e,config:t}=r;return e(zn,{number:i=>se(i,0,t.relTol,t.absTol)?!1:ma(i),BigNumber:i=>Ne(i,new i.constructor(0),t.relTol,t.absTol)?!1:!i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i>0n,Fraction:i=>i.s>0&&i.n>0,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),On="isZero",$s=["typed","equalScalar"],qs=j(On,$s,r=>{var{typed:e,equalScalar:t}=r;return e(On,{"number | BigNumber | Complex | Fraction":i=>t(i,0),bigint:i=>i===0n,Unit:e.referToSelf(i=>n=>e.find(i,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})});function Ps(r,e,t,i){return se(r.re,e.re,t,i)&&se(r.im,e.im,t,i)}var Je=j("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),yt="equalScalar",Rs=["typed","config"],Us=j(yt,Rs,r=>{var{typed:e,config:t}=r,i=Je({typed:e});return e(yt,{"boolean, boolean":function(u,s){return u===s},"number, number":function(u,s){return se(u,s,t.relTol,t.absTol)},"BigNumber, BigNumber":function(u,s){return u.eq(s)||Ne(u,s,t.relTol,t.absTol)},"bigint, bigint":function(u,s){return u===s},"Fraction, Fraction":function(u,s){return u.equals(s)},"Complex, Complex":function(u,s){return Ps(u,s,t.relTol,t.absTol)}},i)});j(yt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(yt,{"number, number":function(n,u){return se(n,u,t.relTol,t.absTol)}})});var Ls="SparseMatrix",Zs=["typed","equalScalar","Matrix"],Vs=j(Ls,Zs,r=>{var{typed:e,equalScalar:t,Matrix:i}=r;function n(h,g){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!ee(g))throw new Error("Invalid datatype: "+g);if(Nr(h))u(this,h,g);else if(h&&Fr(h.index)&&Fr(h.ptr)&&Fr(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=g||h.datatype;else if(Fr(h))s(this,h,g);else{if(h)throw new TypeError("Unsupported type of data ("+ue(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function u(h,g,m){g.type==="SparseMatrix"?(h._values=g._values?Er(g._values):void 0,h._index=Er(g._index),h._ptr=Er(g._ptr),h._size=Er(g._size),h._datatype=m||g._datatype):s(h,g.valueOf(),m||g._datatype)}function s(h,g,m){h._values=[],h._index=[],h._ptr=[],h._datatype=m;var E=g.length,y=0,F=t,A=0;if(ee(m)&&(F=e.find(t,[m,m])||t,A=e.convert(0,m)),E>0){var D=0;do{h._ptr.push(h._index.length);for(var b=0;b<E;b++){var C=g[b];if(Fr(C)){if(D===0&&y<C.length&&(y=C.length),D<C.length){var w=C[D];F(w,A)||(h._values.push(w),h._index.push(b))}}else D===0&&y<1&&(y=1),F(C,A)||(h._values.push(C),h._index.push(b))}D++}while(D<y)}h._ptr.push(h._index.length),h._size=[E,y]}n.prototype=new i,n.prototype.createSparseMatrix=function(h,g){return new n(h,g)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return rt(this._values,ue)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(h,g){return new n(h,g)},n.prototype.density=function(){var h=this._size[0],g=this._size[1];return h!==0&&g!==0?this._index.length/(h*g):0},n.prototype.subset=function(h,g,m){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,h);case 2:case 3:return c(this,h,g,m);default:throw new SyntaxError("Wrong number of arguments")}};function p(h,g){if(!Mt(g))throw new TypeError("Invalid index");var m=g.isScalar();if(m)return h.get(g.min());var E=g.size();if(E.length!==h._size.length)throw new wr(E.length,h._size.length);var y,F,A,D,b=g.min(),C=g.max();for(y=0,F=h._size.length;y<F;y++)Sr(b[y],h._size[y]),Sr(C[y],h._size[y]);var w=h._values,M=h._index,S=h._ptr,B=g.dimension(0),O=g.dimension(1),z=[],I=[];B.forEach(function(T,Z){I[T]=Z[0],z[T]=!0});var _=w?[]:void 0,J=[],q=[];return O.forEach(function(T){for(q.push(J.length),A=S[T],D=S[T+1];A<D;A++)y=M[A],z[y]===!0&&(J.push(I[y]),_&&_.push(w[A]))}),q.push(J.length),new n({values:_,index:J,ptr:q,size:E,datatype:h._datatype})}function c(h,g,m,E){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),F=g.isScalar(),A;if(Nr(m)?(A=m.size(),m=m.toArray()):A=zr(m),F){if(A.length!==0)throw new TypeError("Scalar expected");h.set(g.min(),m,E)}else{if(y.length!==1&&y.length!==2)throw new wr(y.length,h._size.length,"<");if(A.length<y.length){for(var D=0,b=0;y[D]===1&&A[D]===1;)D++;for(;y[D]===1;)b++,D++;m=na(m,y.length,b,A)}if(!we(y,A))throw new wr(y,A,">");if(y.length===1){var C=g.dimension(0);C.forEach(function(S,B){Sr(S),h.set([S,0],m[B[0]],E)})}else{var w=g.dimension(0),M=g.dimension(1);w.forEach(function(S,B){Sr(S),M.forEach(function(O,z){Sr(O),h.set([S,O],m[B[0]][z[0]],E)})})}}return h}n.prototype.get=function(h){if(!Fr(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new wr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=h[0],m=h[1];Sr(g,this._size[0]),Sr(m,this._size[1]);var E=l(g,this._ptr[m],this._ptr[m+1],this._index);return E<this._ptr[m+1]&&this._index[E]===g?this._values[E]:0},n.prototype.set=function(h,g,m){if(!Fr(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new wr(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=h[0],y=h[1],F=this._size[0],A=this._size[1],D=t,b=0;ee(this._datatype)&&(D=e.find(t,[this._datatype,this._datatype])||t,b=e.convert(0,this._datatype)),(E>F-1||y>A-1)&&(f(this,Math.max(E+1,F),Math.max(y+1,A),m),F=this._size[0],A=this._size[1]),Sr(E,F),Sr(y,A);var C=l(E,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===E?D(g,b)?o(C,y,this._values,this._index,this._ptr):this._values[C]=g:D(g,b)||a(C,E,y,g,this._values,this._index,this._ptr),this};function l(h,g,m,E){if(m-g===0)return m;for(var y=g;y<m;y++)if(E[y]===h)return y;return g}function o(h,g,m,E,y){m.splice(h,1),E.splice(h,1);for(var F=g+1;F<y.length;F++)y[F]--}function a(h,g,m,E,y,F,A){y.splice(h,0,E),F.splice(h,0,g);for(var D=m+1;D<A.length;D++)A[D]++}n.prototype.resize=function(h,g,m){if(!vt(h))throw new TypeError("Array or Matrix expected");var E=h.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(F){if(!Br(F)||!_r(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Or(E)+")")});var y=m?this.clone():this;return f(y,E[0],E[1],g)};function f(h,g,m,E){var y=E||0,F=t,A=0;ee(h._datatype)&&(F=e.find(t,[h._datatype,h._datatype])||t,A=e.convert(0,h._datatype),y=e.convert(y,h._datatype));var D=!F(y,A),b=h._size[0],C=h._size[1],w,M,S;if(m>C){for(M=C;M<m;M++)if(h._ptr[M]=h._values.length,D)for(w=0;w<b;w++)h._values.push(y),h._index.push(w);h._ptr[m]=h._values.length}else m<C&&(h._ptr.splice(m+1,C-m),h._values.splice(h._ptr[m],h._values.length),h._index.splice(h._ptr[m],h._index.length));if(C=m,g>b){if(D){var B=0;for(M=0;M<C;M++){h._ptr[M]=h._ptr[M]+B,S=h._ptr[M+1]+B;var O=0;for(w=b;w<g;w++,O++)h._values.splice(S+O,0,y),h._index.splice(S+O,0,w),B++}h._ptr[C]=h._values.length}}else if(g<b){var z=0;for(M=0;M<C;M++){h._ptr[M]=h._ptr[M]-z;var I=h._ptr[M],_=h._ptr[M+1]-z;for(S=I;S<_;S++)w=h._index[S],w>g-1&&(h._values.splice(S,1),h._index.splice(S,1),z++)}h._ptr[M]=h._values.length}return h._size[0]=g,h._size[1]=m,h}n.prototype.reshape=function(h,g){if(!Fr(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(T){if(!Br(T)||!_r(T)||T<=-2||T===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Or(h)+")")});var m=this._size[0]*this._size[1];h=an(h,m);var E=h[0]*h[1];if(m!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var F=[],A=0;A<y._ptr.length;A++)for(var D=0;D<y._ptr[A+1]-y._ptr[A];D++)F.push(A);for(var b=y._values.slice(),C=y._index.slice(),w=0;w<y._index.length;w++){var M=C[w],S=F[w],B=M*y._size[1]+S;F[w]=B%h[1],C[w]=Math.floor(B/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var O=0;O<y._ptr.length;O++)y._ptr[O]=0;for(var z=0;z<b.length;z++){var I=C[z],_=F[z],J=b[z],q=l(I,y._ptr[_],y._ptr[_+1],y._index);a(q,I,_,J,y._values,y._index,y._ptr)}return y},n.prototype.clone=function(){var h=new n({values:this._values?Er(this._values):void 0,index:Er(this._index),ptr:Er(this._ptr),size:Er(this._size),datatype:this._datatype});return h},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(h,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var m=this,E=this._size[0],y=this._size[1],F=fa(h),A=function(b,C,w){return F===1?h(b):F===2?h(b,[C,w]):h(b,[C,w],m)};return v(this,0,E-1,0,y-1,A,g)};function v(h,g,m,E,y,F,A){var D=[],b=[],C=[],w=t,M=0;ee(h._datatype)&&(w=e.find(t,[h._datatype,h._datatype])||t,M=e.convert(0,h._datatype));for(var S=function(R,V,nr){R=F(R,V,nr),w(R,M)||(D.push(R),b.push(V))},B=E;B<=y;B++){C.push(D.length);var O=h._ptr[B],z=h._ptr[B+1];if(A)for(var I=O;I<z;I++){var _=h._index[I];_>=g&&_<=m&&S(h._values[I],_-g,B-E)}else{for(var J={},q=O;q<z;q++){var T=h._index[q];J[T]=h._values[q]}for(var Z=g;Z<=m;Z++){var W=Z in J?J[Z]:0;S(W,Z-g,B-E)}}}return C.push(D.length),new n({values:D,index:b,ptr:C,size:[m-g+1,y-E+1]})}n.prototype.forEach=function(h,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var m=this,E=this._size[0],y=this._size[1],F=0;F<y;F++){var A=this._ptr[F],D=this._ptr[F+1];if(g)for(var b=A;b<D;b++){var C=this._index[b];h(this._values[b],[C,F],m)}else{for(var w={},M=A;M<D;M++){var S=this._index[M];w[S]=this._values[M]}for(var B=0;B<E;B++){var O=B in w?w[B]:0;h(O,[B,F],m)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],g=0;g<h;g++)for(var m=this._ptr[g],E=this._ptr[g+1],y=m;y<E;y++){var F=this._index[y];yield{value:this._values[y],index:[F,g]}}},n.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(h,g,m,E,y){var F=E[0],A=E[1],D=[],b,C;for(b=0;b<F;b++)for(D[b]=[],C=0;C<A;C++)D[b][C]=0;for(C=0;C<A;C++)for(var w=m[C],M=m[C+1],S=w;S<M;S++)b=g[S],D[b][C]=h?y?Er(h[S]):h[S]:1;return D}return n.prototype.format=function(h){for(var g=this._size[0],m=this._size[1],E=this.density(),y="Sparse Matrix ["+Or(g,h)+" x "+Or(m,h)+"] density: "+Or(E,h)+`
`,F=0;F<m;F++)for(var A=this._ptr[F],D=this._ptr[F+1],b=A;b<D;b++){var C=this._index[b];y+=`
    (`+Or(C,h)+", "+Or(F,h)+") ==> "+(this._values?Or(this._values[b],h):"X")}return y},n.prototype.toString=function(){return Or(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(h){if(h){if(Ir(h)&&(h=h.toNumber()),!Br(h)||!_r(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var g=h>0?h:0,m=h<0?-h:0,E=this._size[0],y=this._size[1],F=Math.min(E-m,y-g),A=[],D=[],b=[];b[0]=0;for(var C=g;C<y&&A.length<F;C++)for(var w=this._ptr[C],M=this._ptr[C+1],S=w;S<M;S++){var B=this._index[S];if(B===C-g+m){A.push(this._values[S]),D[A.length-1]=B-m;break}}return b.push(A.length),new n({values:A,index:D,ptr:b,size:[F,1]})},n.fromJSON=function(h){return new n(h)},n.diagonal=function(h,g,m,E,y){if(!Fr(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(T){if(Ir(T)&&(T=T.toNumber()),!Br(T)||!_r(T)||T<1)throw new Error("Size values must be positive integers");return T}),m){if(Ir(m)&&(m=m.toNumber()),!Br(m)||!_r(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var F=t,A=0;ee(y)&&(F=e.find(t,[y,y])||t,A=e.convert(0,y));var D=m>0?m:0,b=m<0?-m:0,C=h[0],w=h[1],M=Math.min(C-b,w-D),S;if(Fr(g)){if(g.length!==M)throw new Error("Invalid value array length");S=function(Z){return g[Z]}}else if(Nr(g)){var B=g.size();if(B.length!==1||B[0]!==M)throw new Error("Invalid matrix length");S=function(Z){return g.get([Z])}}else S=function(){return g};for(var O=[],z=[],I=[],_=0;_<w;_++){I.push(O.length);var J=_-D;if(J>=0&&J<M){var q=S(J);F(q,A)||(z.push(J+b),O.push(q))}}return I.push(O.length),new n({values:O,index:z,ptr:I,size:[C,w]})},n.prototype.swapRows=function(h,g){if(!Br(h)||!_r(h)||!Br(g)||!_r(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Sr(h,this._size[0]),Sr(g,this._size[0]),n._swapRows(h,g,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(h,g,m,E,y){for(var F=E[h],A=E[h+1],D=F;D<A;D++)y(m[D],g[D])},n._swapRows=function(h,g,m,E,y,F){for(var A=0;A<m;A++){var D=F[A],b=F[A+1],C=l(h,D,b,y),w=l(g,D,b,y);if(C<b&&w<b&&y[C]===h&&y[w]===g){if(E){var M=E[C];E[C]=E[w],E[w]=M}continue}if(C<b&&y[C]===h&&(w>=b||y[w]!==g)){var S=E?E[C]:void 0;y.splice(w,0,g),E&&E.splice(w,0,S),y.splice(w<=C?C+1:C,1),E&&E.splice(w<=C?C+1:C,1);continue}if(w<b&&y[w]===g&&(C>=b||y[C]!==h)){var B=E?E[w]:void 0;y.splice(C,0,h),E&&E.splice(C,0,B),y.splice(C<=w?w+1:w,1),E&&E.splice(C<=w?w+1:w,1)}}},n},{isClass:!0}),Js="number",Ys=["typed"];function Gs(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],i=e[2],n=e[3];return{input:r,radix:t,integerPart:i,fractionalPart:n}}else return null}function Xs(r){for(var e=parseInt(r.integerPart,r.radix),t=0,i=0;i<r.fractionalPart.length;i++){var n=parseInt(r.fractionalPart[i],r.radix);t+=n/Math.pow(r.radix,i+1)}var u=e+t;if(isNaN(u))throw new SyntaxError('String "'+r.input+'" is not a valid number');return u}var Qs=j(Js,Ys,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=Gs(n);if(u)return Xs(u);var s=0,p=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(s=Number(p[2]),n=p[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(p){if(c>2**s-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(s-1)&&(c=c-2**s)}return c},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),Ks="bignumber",Ws=["typed","BigNumber"],Hs=j(Ks,Ws,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var s=u[2],p=t(u[1]),c=new t(2).pow(Number(s));if(p.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var l=new t(2).pow(Number(s)-1);return p.gte(l)?p.sub(c):p}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),ks="complex",js=["typed","Complex"],rf=j(ks,js,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(n){return new t(n,0)},"number, number":function(n,u){return new t(n,u)},"BigNumber, BigNumber":function(n,u){return new t(n.toNumber(),u.toNumber())},Fraction:function(n){return new t(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return t(n)},null:function(n){return t(0)},Object:function(n){if("re"in n&&"im"in n)return new t(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new t(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),ef="fraction",tf=["typed","Fraction"],nf=j(ef,tf,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,u){return new t(n,u)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:e.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new t(n)},"Array | Matrix":e.referToSelf(i=>n=>Hr(n,i))})}),In="matrix",af=["typed","Matrix","DenseMatrix","SparseMatrix"],uf=j(In,af,r=>{var{typed:e,Matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(In,{"":function(){return u([])},string:function(p){return u([],p)},"string, string":function(p,c){return u([],p,c)},Array:function(p){return u(p)},Matrix:function(p){return u(p,p.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(s,p,c){if(p==="dense"||p==="default"||p===void 0)return new i(s,c);if(p==="sparse")return new n(s,c);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),$n="matrixFromColumns",of=["typed","matrix","flatten","size"],sf=j($n,of,r=>{var{typed:e,matrix:t,flatten:i,size:n}=r;return e($n,{"...Array":function(c){return u(c)},"...Matrix":function(c){return t(u(c.map(l=>l.toArray())))}});function u(p){if(p.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=s(p[0]),l=[],o=0;o<c;o++)l[o]=[];for(var a of p){var f=s(a);if(f!==c)throw new TypeError("The vectors had different length: "+(c|0)+"  "+(f|0));for(var v=i(a),d=0;d<c;d++)l[d].push(v[d])}return l}function s(p){var c=n(p);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),qn="unaryMinus",ff=["typed"],cf=j(qn,ff,r=>{var{typed:e}=r;return e(qn,{number:pa,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var n=i.clone();return n.value=e.find(t,n.valueType())(i.value),n}),"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Pn="abs",lf=["typed"],vf=j(Pn,lf,r=>{var{typed:e}=r;return e(Pn,{number:ca,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Rn="addScalar",hf=["typed"],pf=j(Rn,hf,r=>{var{typed:e}=r;return e(Rn,{"number, number":la,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),Un="subtractScalar",df=["typed"],mf=j(Un,df,r=>{var{typed:e}=r;return e(Un,{"number, number":va,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":e.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=e.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),Df="matAlgo11xS0s",gf=["typed","equalScalar"],yf=j(Df,gf,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s,p){var c=n._values,l=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],h,g=t,m=0,E=s;typeof f=="string"&&(h=f,g=e.find(t,[h,h]),m=e.convert(0,h),u=e.convert(u,h),E=e.find(s,[h,h]));for(var y=[],F=[],A=[],D=0;D<d;D++){A[D]=F.length;for(var b=o[D],C=o[D+1],w=b;w<C;w++){var M=l[w],S=p?E(u,c[w]):E(c[w],u);g(S,m)||(F.push(M),y.push(S))}}return A[d]=F.length,n.createSparseMatrix({values:y,index:F,ptr:A,size:[v,d],datatype:h})}}),wf="matAlgo12xSfs",Af=["typed","DenseMatrix"],Be=j(wf,Af,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,u,s,p){var c=n._values,l=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],h,g=s;typeof f=="string"&&(h=f,u=e.convert(u,h),g=e.find(s,[h,h]));for(var m=[],E=[],y=[],F=0;F<d;F++){for(var A=F+1,D=o[F],b=o[F+1],C=D;C<b;C++){var w=l[C];E[w]=c[C],y[w]=A}for(var M=0;M<v;M++)F===0&&(m[M]=[]),y[M]===A?m[M][F]=p?g(u,E[M]):g(E[M],u):m[M][F]=p?g(u,0):g(0,u)}return new t({data:m,size:[v,d],datatype:h})}}),Ef="matAlgo14xDs",Ff=["typed"],Da=j(Ef,Ff,r=>{var{typed:e}=r;return function(n,u,s,p){var c=n._data,l=n._size,o=n._datatype,a,f=s;typeof o=="string"&&(a=o,u=e.convert(u,a),f=e.find(s,[a,a]));var v=l.length>0?t(f,0,l,l[0],c,u,p):[];return n.createDenseMatrix({data:v,size:Er(l),datatype:a})};function t(i,n,u,s,p,c,l){var o=[];if(n===u.length-1)for(var a=0;a<s;a++)o[a]=l?i(c,p[a]):i(p[a],c);else for(var f=0;f<s;f++)o[f]=t(i,n+1,u,u[n+1],p[f],c,l);return o}}),Cf="matAlgo03xDSf",bf=["typed"],_e=j(Cf,bf,r=>{var{typed:e}=r;return function(i,n,u,s){var p=i._data,c=i._size,l=i._datatype||i.getDataType(),o=n._values,a=n._index,f=n._ptr,v=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==v.length)throw new wr(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=c[0],g=c[1],m,E=0,y=u;typeof l=="string"&&l===d&&l!=="mixed"&&(m=l,E=e.convert(0,m),y=e.find(u,[m,m]));for(var F=[],A=0;A<h;A++)F[A]=[];for(var D=[],b=[],C=0;C<g;C++){for(var w=C+1,M=f[C],S=f[C+1],B=M;B<S;B++){var O=a[B];D[O]=s?y(o[B],p[O][C]):y(p[O][C],o[B]),b[O]=w}for(var z=0;z<h;z++)b[z]===w?F[z][C]=D[z]:F[z][C]=s?y(E,p[z][C]):y(p[z][C],E)}return i.createDenseMatrix({data:F,size:[h,g],datatype:l===i._datatype&&d===n._datatype?m:void 0})}}),Mf="matAlgo05xSfSf",Sf=["typed","equalScalar"],ga=j(Mf,Sf,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s){var p=n._values,c=n._index,l=n._ptr,o=n._size,a=n._datatype||n._data===void 0?n._datatype:n.getDataType(),f=u._values,v=u._index,d=u._ptr,h=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new wr(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],E=o[1],y,F=t,A=0,D=s;typeof a=="string"&&a===g&&a!=="mixed"&&(y=a,F=e.find(t,[y,y]),A=e.convert(0,y),D=e.find(s,[y,y]));var b=p&&f?[]:void 0,C=[],w=[],M=b?[]:void 0,S=b?[]:void 0,B=[],O=[],z,I,_,J;for(I=0;I<E;I++){w[I]=C.length;var q=I+1;for(_=l[I],J=l[I+1];_<J;_++)z=c[_],C.push(z),B[z]=q,M&&(M[z]=p[_]);for(_=d[I],J=d[I+1];_<J;_++)z=v[_],B[z]!==q&&C.push(z),O[z]=q,S&&(S[z]=f[_]);if(b)for(_=w[I];_<C.length;){z=C[_];var T=B[z],Z=O[z];if(T===q||Z===q){var W=T===q?M[z]:A,U=Z===q?S[z]:A,R=D(W,U);F(R,A)?C.splice(_,1):(b.push(R),_++)}}}return w[E]=C.length,n.createSparseMatrix({values:b,index:C,ptr:w,size:[m,E],datatype:a===n._datatype&&g===u._datatype?y:void 0})}}),Nf="matAlgo13xDD",Bf=["typed"],_f=j(Nf,Bf,r=>{var{typed:e}=r;return function(n,u,s){var p=n._data,c=n._size,l=n._datatype,o=u._data,a=u._size,f=u._datatype,v=[];if(c.length!==a.length)throw new wr(c.length,a.length);for(var d=0;d<c.length;d++){if(c[d]!==a[d])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");v[d]=c[d]}var h,g=s;typeof l=="string"&&l===f&&(h=l,g=e.find(s,[h,h]));var m=v.length>0?t(g,0,v,v[0],p,o):[];return n.createDenseMatrix({data:m,size:v,datatype:h})};function t(i,n,u,s,p,c){var l=[];if(n===u.length-1)for(var o=0;o<s;o++)l[o]=i(p[o],c[o]);else for(var a=0;a<s;a++)l[a]=t(i,n+1,u,u[n+1],p[a],c[a]);return l}});function Lr(r,e){if(we(r.size(),e.size()))return[r,e];var t=oa(r.size(),e.size());return[r,e].map(i=>xf(i,t))}function xf(r,e){return we(r.size(),e)?r:r.create(Kt(r.valueOf(),e),r.datatype())}var Tf="matrixAlgorithmSuite",zf=["typed","matrix"],Fe=j(Tf,zf,r=>{var{typed:e,matrix:t}=r,i=_f({typed:e}),n=Da({typed:e});return function(s){var p=s.elop,c=s.SD||s.DS,l;p?(l={"DenseMatrix, DenseMatrix":(v,d)=>i(...Lr(v,d),p),"Array, Array":(v,d)=>i(...Lr(t(v),t(d)),p).valueOf(),"Array, DenseMatrix":(v,d)=>i(...Lr(t(v),d),p),"DenseMatrix, Array":(v,d)=>i(...Lr(v,t(d)),p)},s.SS&&(l["SparseMatrix, SparseMatrix"]=(v,d)=>s.SS(...Lr(v,d),p,!1)),s.DS&&(l["DenseMatrix, SparseMatrix"]=(v,d)=>s.DS(...Lr(v,d),p,!1),l["Array, SparseMatrix"]=(v,d)=>s.DS(...Lr(t(v),d),p,!1)),c&&(l["SparseMatrix, DenseMatrix"]=(v,d)=>c(...Lr(d,v),p,!0),l["SparseMatrix, Array"]=(v,d)=>c(...Lr(t(d),v),p,!0))):(l={"DenseMatrix, DenseMatrix":e.referToSelf(v=>(d,h)=>i(...Lr(d,h),v)),"Array, Array":e.referToSelf(v=>(d,h)=>i(...Lr(t(d),t(h)),v).valueOf()),"Array, DenseMatrix":e.referToSelf(v=>(d,h)=>i(...Lr(t(d),h),v)),"DenseMatrix, Array":e.referToSelf(v=>(d,h)=>i(...Lr(d,t(h)),v))},s.SS&&(l["SparseMatrix, SparseMatrix"]=e.referToSelf(v=>(d,h)=>s.SS(...Lr(d,h),v,!1))),s.DS&&(l["DenseMatrix, SparseMatrix"]=e.referToSelf(v=>(d,h)=>s.DS(...Lr(d,h),v,!1)),l["Array, SparseMatrix"]=e.referToSelf(v=>(d,h)=>s.DS(...Lr(t(d),h),v,!1))),c&&(l["SparseMatrix, DenseMatrix"]=e.referToSelf(v=>(d,h)=>c(...Lr(h,d),v,!0)),l["SparseMatrix, Array"]=e.referToSelf(v=>(d,h)=>c(...Lr(t(h),d),v,!0))));var o=s.scalar||"any",a=s.Ds||s.Ss;a&&(p?(l["DenseMatrix,"+o]=(v,d)=>n(v,d,p,!1),l[o+", DenseMatrix"]=(v,d)=>n(d,v,p,!0),l["Array,"+o]=(v,d)=>n(t(v),d,p,!1).valueOf(),l[o+", Array"]=(v,d)=>n(t(d),v,p,!0).valueOf()):(l["DenseMatrix,"+o]=e.referToSelf(v=>(d,h)=>n(d,h,v,!1)),l[o+", DenseMatrix"]=e.referToSelf(v=>(d,h)=>n(h,d,v,!0)),l["Array,"+o]=e.referToSelf(v=>(d,h)=>n(t(d),h,v,!1).valueOf()),l[o+", Array"]=e.referToSelf(v=>(d,h)=>n(t(h),d,v,!0).valueOf())));var f=s.sS!==void 0?s.sS:s.Ss;return p?(s.Ss&&(l["SparseMatrix,"+o]=(v,d)=>s.Ss(v,d,p,!1)),f&&(l[o+", SparseMatrix"]=(v,d)=>f(d,v,p,!0))):(s.Ss&&(l["SparseMatrix,"+o]=e.referToSelf(v=>(d,h)=>s.Ss(d,h,v,!1))),f&&(l[o+", SparseMatrix"]=e.referToSelf(v=>(d,h)=>f(h,d,v,!0)))),p&&p.signatures&&Uu(l,p.signatures),l}}),Of="matAlgo01xDSid",If=["typed"],ya=j(Of,If,r=>{var{typed:e}=r;return function(i,n,u,s){var p=i._data,c=i._size,l=i._datatype||i.getDataType(),o=n._values,a=n._index,f=n._ptr,v=n._size,d=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(c.length!==v.length)throw new wr(c.length,v.length);if(c[0]!==v[0]||c[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+v+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=c[0],g=c[1],m=typeof l=="string"&&l!=="mixed"&&l===d?l:void 0,E=m?e.find(u,[m,m]):u,y,F,A=[];for(y=0;y<h;y++)A[y]=[];var D=[],b=[];for(F=0;F<g;F++){for(var C=F+1,w=f[F],M=f[F+1],S=w;S<M;S++)y=a[S],D[y]=s?E(o[S],p[y][F]):E(p[y][F],o[S]),b[y]=C;for(y=0;y<h;y++)b[y]===C?A[y][F]=D[y]:A[y][F]=p[y][F]}return i.createDenseMatrix({data:A,size:[h,g],datatype:l===i._datatype&&d===n._datatype?m:void 0})}}),$f="matAlgo04xSidSid",qf=["typed","equalScalar"],Pf=j($f,qf,r=>{var{typed:e,equalScalar:t}=r;return function(n,u,s){var p=n._values,c=n._index,l=n._ptr,o=n._size,a=n._datatype||n._data===void 0?n._datatype:n.getDataType(),f=u._values,v=u._index,d=u._ptr,h=u._size,g=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==h.length)throw new wr(o.length,h.length);if(o[0]!==h[0]||o[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");var m=o[0],E=o[1],y,F=t,A=0,D=s;typeof a=="string"&&a===g&&a!=="mixed"&&(y=a,F=e.find(t,[y,y]),A=e.convert(0,y),D=e.find(s,[y,y]));var b=p&&f?[]:void 0,C=[],w=[],M=p&&f?[]:void 0,S=p&&f?[]:void 0,B=[],O=[],z,I,_,J,q;for(I=0;I<E;I++){w[I]=C.length;var T=I+1;for(J=l[I],q=l[I+1],_=J;_<q;_++)z=c[_],C.push(z),B[z]=T,M&&(M[z]=p[_]);for(J=d[I],q=d[I+1],_=J;_<q;_++)if(z=v[_],B[z]===T){if(M){var Z=D(M[z],f[_]);F(Z,A)?B[z]=null:M[z]=Z}}else C.push(z),O[z]=T,S&&(S[z]=f[_]);if(M&&S)for(_=w[I];_<C.length;)z=C[_],B[z]===T?(b[_]=M[z],_++):O[z]===T?(b[_]=S[z],_++):C.splice(_,1)}return w[E]=C.length,n.createSparseMatrix({values:b,index:C,ptr:w,size:[m,E],datatype:a===n._datatype&&g===u._datatype?y:void 0})}}),Rf="matAlgo10xSids",Uf=["typed","DenseMatrix"],wa=j(Rf,Uf,r=>{var{typed:e,DenseMatrix:t}=r;return function(n,u,s,p){var c=n._values,l=n._index,o=n._ptr,a=n._size,f=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=a[0],d=a[1],h,g=s;typeof f=="string"&&(h=f,u=e.convert(u,h),g=e.find(s,[h,h]));for(var m=[],E=[],y=[],F=0;F<d;F++){for(var A=F+1,D=o[F],b=o[F+1],C=D;C<b;C++){var w=l[C];E[w]=c[C],y[w]=A}for(var M=0;M<v;M++)F===0&&(m[M]=[]),y[M]===A?m[M][F]=p?g(u,E[M]):g(E[M],u):m[M][F]=u}return new t({data:m,size:[v,d],datatype:h})}}),Lf="multiplyScalar",Zf=["typed"],Vf=j(Lf,Zf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":ha,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),Ln="multiply",Jf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Yf=j(Ln,Jf,r=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:u,dot:s}=r,p=yf({typed:e,equalScalar:u}),c=Da({typed:e});function l(A,D){switch(A.length){case 1:switch(D.length){case 1:if(A[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(A[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+A[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(A[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+A[1]+") must match Vector length ("+D[0]+")");break;case 2:if(A[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+A[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+A.length+" dimensions)")}}function o(A,D,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return s(A,D)}function a(A,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(A,D)}function f(A,D){var b=A._data,C=A._size,w=A._datatype||A.getDataType(),M=D._data,S=D._size,B=D._datatype||D.getDataType(),O=C[0],z=S[1],I,_=i,J=n;w&&B&&w===B&&typeof w=="string"&&w!=="mixed"&&(I=w,_=e.find(i,[I,I]),J=e.find(n,[I,I]));for(var q=[],T=0;T<z;T++){for(var Z=J(b[0],M[0][T]),W=1;W<O;W++)Z=_(Z,J(b[W],M[W][T]));q[T]=Z}return A.createDenseMatrix({data:q,size:[z],datatype:w===A._datatype&&B===D._datatype?I:void 0})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":E}),d=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":m,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":F});function h(A,D){var b=A._data,C=A._size,w=A._datatype||A.getDataType(),M=D._data,S=D._datatype||D.getDataType(),B=C[0],O=C[1],z,I=i,_=n;w&&S&&w===S&&typeof w=="string"&&w!=="mixed"&&(z=w,I=e.find(i,[z,z]),_=e.find(n,[z,z]));for(var J=[],q=0;q<B;q++){for(var T=b[q],Z=_(T[0],M[0]),W=1;W<O;W++)Z=I(Z,_(T[W],M[W]));J[q]=Z}return A.createDenseMatrix({data:J,size:[B],datatype:w===A._datatype&&S===D._datatype?z:void 0})}function g(A,D){var b=A._data,C=A._size,w=A._datatype||A.getDataType(),M=D._data,S=D._size,B=D._datatype||D.getDataType(),O=C[0],z=C[1],I=S[1],_,J=i,q=n;w&&B&&w===B&&typeof w=="string"&&w!=="mixed"&&w!=="mixed"&&(_=w,J=e.find(i,[_,_]),q=e.find(n,[_,_]));for(var T=[],Z=0;Z<O;Z++){var W=b[Z];T[Z]=[];for(var U=0;U<I;U++){for(var R=q(W[0],M[0][U]),V=1;V<z;V++)R=J(R,q(W[V],M[V][U]));T[Z][U]=R}}return A.createDenseMatrix({data:T,size:[O,I],datatype:w===A._datatype&&B===D._datatype?_:void 0})}function m(A,D){var b=A._data,C=A._size,w=A._datatype||A.getDataType(),M=D._values,S=D._index,B=D._ptr,O=D._size,z=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=C[0],_=O[1],J,q=i,T=n,Z=u,W=0;w&&z&&w===z&&typeof w=="string"&&w!=="mixed"&&(J=w,q=e.find(i,[J,J]),T=e.find(n,[J,J]),Z=e.find(u,[J,J]),W=e.convert(0,J));for(var U=[],R=[],V=[],nr=D.createSparseMatrix({values:U,index:R,ptr:V,size:[I,_],datatype:w===A._datatype&&z===D._datatype?J:void 0}),k=0;k<_;k++){V[k]=R.length;var L=B[k],Q=B[k+1];if(Q>L)for(var K=0,G=0;G<I;G++){for(var ur=G+1,rr=void 0,or=L;or<Q;or++){var cr=S[or];K!==ur?(rr=T(b[G][cr],M[or]),K=ur):rr=q(rr,T(b[G][cr],M[or]))}K===ur&&!Z(rr,W)&&(R.push(G),U.push(rr))}}return V[_]=R.length,nr}function E(A,D){var b=A._values,C=A._index,w=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=D._data,B=D._datatype||D.getDataType(),O=A._size[0],z=D._size[0],I=[],_=[],J=[],q,T=i,Z=n,W=u,U=0;M&&B&&M===B&&typeof M=="string"&&M!=="mixed"&&(q=M,T=e.find(i,[q,q]),Z=e.find(n,[q,q]),W=e.find(u,[q,q]),U=e.convert(0,q));var R=[],V=[];J[0]=0;for(var nr=0;nr<z;nr++){var k=S[nr];if(!W(k,U))for(var L=w[nr],Q=w[nr+1],K=L;K<Q;K++){var G=C[K];V[G]?R[G]=T(R[G],Z(k,b[K])):(V[G]=!0,_.push(G),R[G]=Z(k,b[K]))}}for(var ur=_.length,rr=0;rr<ur;rr++){var or=_[rr];I[rr]=R[or]}return J[1]=_.length,A.createSparseMatrix({values:I,index:_,ptr:J,size:[O,1],datatype:M===A._datatype&&B===D._datatype?q:void 0})}function y(A,D){var b=A._values,C=A._index,w=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=D._data,B=D._datatype||D.getDataType(),O=A._size[0],z=D._size[0],I=D._size[1],_,J=i,q=n,T=u,Z=0;M&&B&&M===B&&typeof M=="string"&&M!=="mixed"&&(_=M,J=e.find(i,[_,_]),q=e.find(n,[_,_]),T=e.find(u,[_,_]),Z=e.convert(0,_));for(var W=[],U=[],R=[],V=A.createSparseMatrix({values:W,index:U,ptr:R,size:[O,I],datatype:M===A._datatype&&B===D._datatype?_:void 0}),nr=[],k=[],L=0;L<I;L++){R[L]=U.length;for(var Q=L+1,K=0;K<z;K++){var G=S[K][L];if(!T(G,Z))for(var ur=w[K],rr=w[K+1],or=ur;or<rr;or++){var cr=C[or];k[cr]!==Q?(k[cr]=Q,U.push(cr),nr[cr]=q(G,b[or])):nr[cr]=J(nr[cr],q(G,b[or]))}}for(var pr=R[L],Dr=U.length,gr=pr;gr<Dr;gr++){var lr=U[gr];W[gr]=nr[lr]}}return R[I]=U.length,V}function F(A,D){var b=A._values,C=A._index,w=A._ptr,M=A._datatype||A._data===void 0?A._datatype:A.getDataType(),S=D._values,B=D._index,O=D._ptr,z=D._datatype||D._data===void 0?D._datatype:D.getDataType(),I=A._size[0],_=D._size[1],J=b&&S,q,T=i,Z=n;M&&z&&M===z&&typeof M=="string"&&M!=="mixed"&&(q=M,T=e.find(i,[q,q]),Z=e.find(n,[q,q]));for(var W=J?[]:void 0,U=[],R=[],V=A.createSparseMatrix({values:W,index:U,ptr:R,size:[I,_],datatype:M===A._datatype&&z===D._datatype?q:void 0}),nr=J?[]:void 0,k=[],L,Q,K,G,ur,rr,or,cr,pr=0;pr<_;pr++){R[pr]=U.length;var Dr=pr+1;for(ur=O[pr],rr=O[pr+1],G=ur;G<rr;G++)if(cr=B[G],J)for(Q=w[cr],K=w[cr+1],L=Q;L<K;L++)or=C[L],k[or]!==Dr?(k[or]=Dr,U.push(or),nr[or]=Z(S[G],b[L])):nr[or]=T(nr[or],Z(S[G],b[L]));else for(Q=w[cr],K=w[cr+1],L=Q;L<K;L++)or=C[L],k[or]!==Dr&&(k[or]=Dr,U.push(or));if(J)for(var gr=R[pr],lr=U.length,Ar=gr;Ar<lr;Ar++){var yr=U[Ar];W[Ar]=nr[yr]}}return R[_]=U.length,V}return e(Ln,n,{"Array, Array":e.referTo("Matrix, Matrix",A=>(D,b)=>{l(zr(D),zr(b));var C=A(t(D),t(b));return Nr(C)?C.valueOf():C}),"Matrix, Matrix":function(D,b){var C=D.size(),w=b.size();return l(C,w),C.length===1?w.length===1?o(D,b,C[0]):a(D,b):w.length===1?v(D,b):d(D,b)},"Matrix, Array":e.referTo("Matrix,Matrix",A=>(D,b)=>A(D,t(b))),"Array, Matrix":e.referToSelf(A=>(D,b)=>A(t(D,b.storage()),b)),"SparseMatrix, any":function(D,b){return p(D,b,n,!1)},"DenseMatrix, any":function(D,b){return c(D,b,n,!1)},"any, SparseMatrix":function(D,b){return p(b,D,n,!0)},"any, DenseMatrix":function(D,b){return c(b,D,n,!0)},"Array, any":function(D,b){return c(t(D),b,n,!1).valueOf()},"any, Array":function(D,b){return c(t(b),D,n,!0).valueOf()},"any, any":n,"any, any, ...any":e.referToSelf(A=>(D,b,C)=>{for(var w=A(D,b),M=0;M<C.length;M++)w=A(w,C[M]);return w})})}),Zn="sign",Gf=["typed","BigNumber","Fraction","complex"],Xf=j(Zn,Gf,r=>{var{typed:e,BigNumber:t,complex:i,Fraction:n}=r;return e(Zn,{number:Wt,Complex:function(s){return s.im===0?i(Wt(s.re)):s.sign()},BigNumber:function(s){return new t(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new n(s.s,1)},"Array | Matrix":e.referToSelf(u=>s=>Hr(s,u)),Unit:e.referToSelf(u=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(u,s.valueType())(s.value)})})}),Qf="sqrt",Kf=["config","typed","Complex"],Wf=j(Qf,Kf,r=>{var{config:e,typed:t,Complex:i}=r;return t("sqrt",{number:n,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():n(s.toNumber())},Unit:function(s){return s.pow(.5)}});function n(u){return isNaN(u)?NaN:u>=0||e.predictable?Math.sqrt(u):new i(u,0).sqrt()}}),Vn="subtract",Hf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],kf=j(Vn,Hf,r=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:u,DenseMatrix:s,concat:p}=r,c=ya({typed:e}),l=_e({typed:e}),o=ga({typed:e,equalScalar:i}),a=wa({typed:e,DenseMatrix:s}),f=Be({typed:e,DenseMatrix:s}),v=Fe({typed:e,matrix:t,concat:p});return e(Vn,{"any, any":n},v({elop:n,SS:o,DS:c,SD:l,Ss:f,sS:a}))}),jf="matAlgo07xSSf",r0=["typed","DenseMatrix"],et=j(jf,r0,r=>{var{typed:e,DenseMatrix:t}=r;return function(u,s,p){var c=u._size,l=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=s._size,a=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==o.length)throw new wr(c.length,o.length);if(c[0]!==o[0]||c[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+o+")");var f=c[0],v=c[1],d,h=0,g=p;typeof l=="string"&&l===a&&l!=="mixed"&&(d=l,h=e.convert(0,d),g=e.find(p,[d,d]));var m,E,y=[];for(m=0;m<f;m++)y[m]=[];var F=[],A=[],D=[],b=[];for(E=0;E<v;E++){var C=E+1;for(i(u,E,D,F,C),i(s,E,b,A,C),m=0;m<f;m++){var w=D[m]===C?F[m]:h,M=b[m]===C?A[m]:h;y[m][E]=g(w,M)}}return new t({data:y,size:[f,v],datatype:l===u._datatype&&a===s._datatype?d:void 0})};function i(n,u,s,p,c){for(var l=n._values,o=n._index,a=n._ptr,f=a[u],v=a[u+1];f<v;f++){var d=o[f];s[d]=c,p[d]=l[f]}}}),Jn="conj",e0=["typed"],t0=j(Jn,e0,r=>{var{typed:e}=r;return e(Jn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Yn="im",n0=["typed"],i0=j(Yn,n0,r=>{var{typed:e}=r;return e(Yn,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Gn="re",a0=["typed"],u0=j(Gn,a0,r=>{var{typed:e}=r;return e(Gn,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>i=>Hr(i,t))})}),Xn="concat",o0=["typed","matrix","isInteger"],s0=j(Xn,o0,r=>{var{typed:e,matrix:t,isInteger:i}=r;return e(Xn,{"...Array | Matrix | number | BigNumber":function(u){var s,p=u.length,c=-1,l,o=!1,a=[];for(s=0;s<p;s++){var f=u[s];if(Nr(f)&&(o=!0),Br(f)||Ir(f)){if(s!==p-1)throw new Error("Dimension must be specified as last argument");if(l=c,c=f.valueOf(),!i(c))throw new TypeError("Integer number expected for dimension");if(c<0||s>0&&c>l)throw new Se(c,l+1)}else{var v=Er(f).valueOf(),d=zr(v);if(a[s]=v,l=c,c=d.length-1,s>0&&c!==l)throw new wr(l+1,c+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var h=a.shift();a.length;)h=ua(h,a.shift(),c);return o?t(h):h},"...string":function(u){return u.join("")}})}),Qn="column",f0=["typed","Index","matrix","range"],c0=j(Qn,f0,r=>{var{typed:e,Index:t,matrix:i,range:n}=r;return e(Qn,{"Matrix, number":u,"Array, number":function(p,c){return u(i(Er(p)),c).valueOf()}});function u(s,p){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Sr(p,s.size()[1]);var c=n(0,s.size()[0]),l=new t(c,p),o=s.subset(l);return Nr(o)?o:i([[o]])}}),Kn="diag",l0=["typed","matrix","DenseMatrix","SparseMatrix"],v0=j(Kn,l0,r=>{var{typed:e,matrix:t,DenseMatrix:i,SparseMatrix:n}=r;return e(Kn,{Array:function(l){return u(l,0,zr(l),null)},"Array, number":function(l,o){return u(l,o,zr(l),null)},"Array, BigNumber":function(l,o){return u(l,o.toNumber(),zr(l),null)},"Array, string":function(l,o){return u(l,0,zr(l),o)},"Array, number, string":function(l,o,a){return u(l,o,zr(l),a)},"Array, BigNumber, string":function(l,o,a){return u(l,o.toNumber(),zr(l),a)},Matrix:function(l){return u(l,0,l.size(),l.storage())},"Matrix, number":function(l,o){return u(l,o,l.size(),l.storage())},"Matrix, BigNumber":function(l,o){return u(l,o.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,o){return u(l,0,l.size(),o)},"Matrix, number, string":function(l,o,a){return u(l,o,l.size(),a)},"Matrix, BigNumber, string":function(l,o,a){return u(l,o.toNumber(),l.size(),a)}});function u(c,l,o,a){if(!_r(l))throw new TypeError("Second parameter in function diag must be an integer");var f=l>0?l:0,v=l<0?-l:0;switch(o.length){case 1:return s(c,l,a,o[0],v,f);case 2:return p(c,l,a,o,v,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(c,l,o,a,f,v){var d=[a+f,a+v];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var h=o==="sparse"?n.diagonal(d,c,l):i.diagonal(d,c,l);return o!==null?h:h.valueOf()}function p(c,l,o,a,f,v){if(Nr(c)){var d=c.diagonal(l);return o!==null?o!==d.storage()?t(d,o):d:d.valueOf()}for(var h=Math.min(a[0]-f,a[1]-v),g=[],m=0;m<h;m++)g[m]=c[m+f][m+v];return o!==null?t(g):g}}),Wn="flatten",h0=["typed","matrix"],p0=j(Wn,h0,r=>{var{typed:e,matrix:t}=r;return e(Wn,{Array:function(n){return Re(n)},Matrix:function(n){var u=Re(n.toArray());return t(u)}})}),Hn="getMatrixDataType",d0=["typed"],m0=j(Hn,d0,r=>{var{typed:e}=r;return e(Hn,{Array:function(i){return rt(i,ue)},Matrix:function(i){return i.getDataType()}})}),kn="identity",D0=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],g0=j(kn,D0,r=>{var{typed:e,config:t,matrix:i,BigNumber:n,DenseMatrix:u,SparseMatrix:s}=r;return e(kn,{"":function(){return t.matrix==="Matrix"?i([]):[]},string:function(o){return i(o)},"number | BigNumber":function(o){return c(o,o,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,a){return c(o,o,a)},"number | BigNumber, number | BigNumber":function(o,a){return c(o,a,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,a,f){return c(o,a,f)},Array:function(o){return p(o)},"Array, string":function(o,a){return p(o,a)},Matrix:function(o){return p(o.valueOf(),o.storage())},"Matrix, string":function(o,a){return p(o.valueOf(),a)}});function p(l,o){switch(l.length){case 0:return o?i(o):[];case 1:return c(l[0],l[0],o);case 2:return c(l[0],l[1],o);default:throw new Error("Vector containing two values expected")}}function c(l,o,a){var f=Ir(l)||Ir(o)?n:null;if(Ir(l)&&(l=l.toNumber()),Ir(o)&&(o=o.toNumber()),!_r(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!_r(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var v=f?new n(1):1,d=f?new f(0):0,h=[l,o];if(a){if(a==="sparse")return s.diagonal(h,v,0,d);if(a==="dense")return u.diagonal(h,v,0,d);throw new TypeError('Unknown matrix type "'.concat(a,'"'))}for(var g=gt([],h,d),m=l<o?l:o,E=0;E<m;E++)g[E][E]=v;return g}}),jn="kron",y0=["typed","matrix","multiplyScalar"],w0=j(jn,y0,r=>{var{typed:e,matrix:t,multiplyScalar:i}=r;return e(jn,{"Matrix, Matrix":function(s,p){return t(n(s.toArray(),p.toArray()))},"Matrix, Array":function(s,p){return t(n(s.toArray(),p))},"Array, Matrix":function(s,p){return t(n(s,p.toArray()))},"Array, Array":n});function n(u,s){if(zr(u).length===1&&(u=[u]),zr(s).length===1&&(s=[s]),zr(u).length>2||zr(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(u.length)+", y = "+JSON.stringify(s.length)+")");var p=[],c=[];return u.map(function(l){return s.map(function(o){return c=[],p.push(c),l.map(function(a){return o.map(function(f){return c.push(i(a,f))})})})})&&p}});function Aa(){throw new Error('No "bignumber" implementation available')}function A0(){throw new Error('No "fraction" implementation available')}function Ea(){throw new Error('No "matrix" implementation available')}var ri="range",E0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],F0=j(ri,E0,r=>{var{typed:e,config:t,matrix:i,bignumber:n,smaller:u,smallerEq:s,larger:p,largerEq:c,add:l,isPositive:o}=r;return e(ri,{string:f,"string, boolean":f,"number, number":function(g,m){return a(v(g,m,1,!1))},"number, number, number":function(g,m,E){return a(v(g,m,E,!1))},"number, number, boolean":function(g,m,E){return a(v(g,m,1,E))},"number, number, number, boolean":function(g,m,E,y){return a(v(g,m,E,y))},"BigNumber, BigNumber":function(g,m){var E=g.constructor;return a(v(g,m,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,m,E){return a(v(g,m,E,!1))},"BigNumber, BigNumber, boolean":function(g,m,E){var y=g.constructor;return a(v(g,m,new y(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(g,m,E,y){return a(v(g,m,E,y))},"Unit, Unit, Unit":function(g,m,E){return a(v(g,m,E,!1))},"Unit, Unit, Unit, boolean":function(g,m,E,y){return a(v(g,m,E,y))}});function a(h){return t.matrix==="Matrix"?i?i(h):Ea():h}function f(h,g){var m=d(h);if(!m)throw new SyntaxError('String "'+h+'" is no valid range');return t.number==="BigNumber"?(n===void 0&&Aa(),a(v(n(m.start),n(m.end),n(m.step)))):a(v(m.start,m.end,m.step,g))}function v(h,g,m,E){for(var y=[],F=o(m)?E?s:u:E?c:p,A=h;F(A,g);)y.push(A),A=l(A,m);return y}function d(h){var g=h.split(":"),m=g.map(function(y){return Number(y)}),E=m.some(function(y){return isNaN(y)});if(E)return null;switch(m.length){case 2:return{start:m[0],end:m[1],step:1};case 3:return{start:m[0],end:m[2],step:m[1]};default:return null}}}),ei="reshape",C0=["typed","isInteger","matrix"],b0=j(ei,C0,r=>{var{typed:e,isInteger:t}=r;return e(ei,{"Matrix, Array":function(n,u){return n.reshape(u,!0)},"Array, Array":function(n,u){return u.forEach(function(s){if(!t(s))throw new TypeError("Invalid size for dimension: "+s)}),nn(n,u)}})}),ti="size",M0=["typed","config","?matrix"],S0=j(ti,M0,r=>{var{typed:e,config:t,matrix:i}=r;return e(ti,{Matrix:function(u){return u.create(u.size())},Array:zr,string:function(u){return t.matrix==="Array"?[u.length]:i([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return t.matrix==="Array"?[]:i?i([]):Ea()}})}),ni="subset",N0=["typed","matrix","zeros","add"],B0=j(ni,N0,r=>{var{typed:e,matrix:t,zeros:i,add:n}=r;return e(ni,{"Matrix, Index":function(p,c){return Ve(c)?t():(Dt(p,c),p.subset(c))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(p,c){var l=s(t(p),c);return c.isScalar()?l:l.valueOf()}}),"Object, Index":x0,"string, Index":_0,"Matrix, Index, any, any":function(p,c,l,o){return Ve(c)?p:(Dt(p,c),p.clone().subset(c,u(l,c),o))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(p,c,l,o){var a=s(t(p),c,l,o);return a.isMatrix?a.valueOf():a}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(p,c,l){return s(t(p),c,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(p,c,l){return s(p,c,l,void 0)}}),"string, Index, string":ii,"string, Index, string, string":ii,"Object, Index, any":T0});function u(s,p){if(typeof s=="string")throw new Error("can't boradcast a string");if(p._isScalar)return s;var c=p.size();if(c.every(l=>l>0))try{return n(s,i(c))}catch{return s}else return s}});function _0(r,e){if(!Mt(e))throw new TypeError("Index expected");if(Ve(e))return"";if(Dt(Array.from(r),e),e.size().length!==1)throw new wr(e.size().length,1);var t=r.length;Sr(e.min()[0],t),Sr(e.max()[0],t);var i=e.dimension(0),n="";return i.forEach(function(u){n+=r.charAt(u)}),n}function ii(r,e,t,i){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Ve(e))return r;if(Dt(Array.from(r),e),e.size().length!==1)throw new wr(e.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var n=e.dimension(0),u=n.size()[0];if(u!==t.length)throw new wr(n.size()[0],t.length);var s=r.length;Sr(e.min()[0]),Sr(e.max()[0]);for(var p=[],c=0;c<s;c++)p[c]=r.charAt(c);if(n.forEach(function(a,f){p[a]=t.charAt(f[0])}),p.length>s)for(var l=s-1,o=p.length;l<o;l++)p[l]||(p[l]=i);return p.join("")}function x0(r,e){if(!Ve(e)){if(e.size().length!==1)throw new wr(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return $i(r,t)}}function T0(r,e,t){if(Ve(e))return r;if(e.size().length!==1)throw new wr(e.size(),1);var i=e.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var n=Er(r);return qi(n,i,t),n}var ai="transpose",z0=["typed","matrix"],O0=j(ai,z0,r=>{var{typed:e,matrix:t}=r;return e(ai,{Array:s=>i(t(s)).valueOf(),Matrix:i,any:Er});function i(s){var p=s.size(),c;switch(p.length){case 1:c=s.clone();break;case 2:{var l=p[0],o=p[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Or(p)+")");switch(s.storage()){case"dense":c=n(s,l,o);break;case"sparse":c=u(s,l,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Or(p)+")")}return c}function n(s,p,c){for(var l=s._data,o=[],a,f=0;f<c;f++){a=o[f]=[];for(var v=0;v<p;v++)a[v]=Er(l[v][f])}return s.createDenseMatrix({data:o,size:[c,p],datatype:s._datatype})}function u(s,p,c){for(var l=s._values,o=s._index,a=s._ptr,f=l?[]:void 0,v=[],d=[],h=[],g=0;g<p;g++)h[g]=0;var m,E,y;for(m=0,E=o.length;m<E;m++)h[o[m]]++;for(var F=0,A=0;A<p;A++)d.push(F),F+=h[A],h[A]=d[A];for(d.push(F),y=0;y<c;y++)for(var D=a[y],b=a[y+1],C=D;C<b;C++){var w=h[o[C]]++;v[w]=y,l&&(f[w]=Er(l[C]))}return s.createSparseMatrix({values:f,index:v,ptr:d,size:[c,p],datatype:s._datatype})}}),ui="ctranspose",I0=["typed","transpose","conj"],$0=j(ui,I0,r=>{var{typed:e,transpose:t,conj:i}=r;return e(ui,{any:function(u){return i(t(u))}})}),oi="zeros",q0=["typed","config","matrix","BigNumber"],P0=j(oi,q0,r=>{var{typed:e,config:t,matrix:i,BigNumber:n}=r;return e(oi,{"":function(){return t.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(l){var o=l[l.length-1];if(typeof o=="string"){var a=l.pop();return u(l,a)}else return t.matrix==="Array"?u(l):u(l,"default")},Array:u,Matrix:function(l){var o=l.storage();return u(l.valueOf(),o)},"Array | Matrix, string":function(l,o){return u(l.valueOf(),o)}});function u(c,l){var o=s(c),a=o?new n(0):0;if(p(c),l){var f=i(l);return c.length>0?f.resize(c,a):f}else{var v=[];return c.length>0?gt(v,c,a):v}}function s(c){var l=!1;return c.forEach(function(o,a,f){Ir(o)&&(l=!0,f[a]=o.toNumber())}),l}function p(c){c.forEach(function(l){if(typeof l!="number"||!_r(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),R0="numeric",U0=["number","?bignumber","?fraction"],L0=j(R0,U0,r=>{var{number:e,bignumber:t,fraction:i}=r,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:s=>e(s),BigNumber:t?s=>t(s):Aa,bigint:s=>BigInt(s),Fraction:i?s=>i(s):A0};return function(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=ue(p);if(!(o in n))throw new TypeError("Cannot convert "+p+' of type "'+o+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+p+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===o?p:u[c](p)}}),si="divideScalar",Z0=["typed","numeric"],V0=j(si,Z0,r=>{var{typed:e,numeric:t}=r;return e(si,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),fi="pow",J0=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Y0=j(fi,J0,r=>{var{typed:e,config:t,identity:i,multiply:n,matrix:u,inv:s,number:p,fraction:c,Complex:l}=r;return e(fi,{"number, number":o,"Complex, Complex":function(d,h){return d.pow(h)},"BigNumber, BigNumber":function(d,h){return h.isInteger()||d>=0||t.predictable?d.pow(h):new l(d.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(v,d)=>v**d,"Fraction, Fraction":function(d,h){var g=d.pow(h);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(d.valueOf(),h.valueOf())},"Array, number":a,"Array, BigNumber":function(d,h){return a(d,h.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(d,h){return f(d,h.toNumber())},"Unit, number | BigNumber":function(d,h){return d.pow(h)}});function o(v,d){if(t.predictable&&!_r(d)&&v<0)try{var h=c(d),g=p(h);if((d===g||Math.abs((d-g)/d)<1e-14)&&h.d%2===1)return(h.n%2===0?1:-1)*Math.pow(-v,d)}catch{}return t.predictable&&(v<-1&&d===1/0||v>-1&&v<0&&d===-1/0)?NaN:_r(d)||v>=0||t.predictable?da(v,d):v*v<1&&d===1/0||v*v>1&&d===-1/0?0:new l(v,0).pow(d,0)}function a(v,d){if(!_r(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var h=zr(v);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(d<0)try{return a(s(v),-d)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):E}for(var g=i(h[0]).valueOf(),m=v;d>=1;)(d&1)===1&&(g=n(m,g)),d>>=1,m=n(m,m);return g}function f(v,d){return u(a(v.valueOf(),d))}});function zt(r){var{DenseMatrix:e}=r;return function(i,n,u){var s=i.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Or(s)+")");var p=s[0],c=s[1];if(p!==c)throw new RangeError("Matrix must be square (size: "+Or(s)+")");var l=[];if(Nr(n)){var o=n.size(),a=n._data;if(o.length===1){if(o[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<p;f++)l[f]=[a[f]];return new e({data:l,size:[p,1],datatype:n._datatype})}if(o.length===2){if(o[0]!==p||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ht(n)){if(u){l=[];for(var v=0;v<p;v++)l[v]=[a[v][0]];return new e({data:l,size:[p,1],datatype:n._datatype})}return n}if(Ie(n)){for(var d=0;d<p;d++)l[d]=[0];for(var h=n._values,g=n._index,m=n._ptr,E=m[1],y=m[0];y<E;y++){var F=g[y];l[F][0]=h[y]}return new e({data:l,size:[p,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Fr(n)){var A=zr(n);if(A.length===1){if(A[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<p;D++)l[D]=[n[D]];return new e({data:l,size:[p,1]})}if(A.length===2){if(A[0]!==p||A[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<p;b++)l[b]=[n[b][0]];return new e({data:l,size:[p,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var ci="lsolve",G0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],X0=j(ci,G0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:p}=r,c=zt({DenseMatrix:p});return e(ci,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return l(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),h=l(d,v);return h.valueOf()}});function l(a,f){f=c(a,f,!0);for(var v=f._data,d=a._size[0],h=a._size[1],g=[],m=a._data,E=0;E<h;E++){var y=v[E][0]||0,F=void 0;if(s(y,0))F=0;else{var A=m[E][E];if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(y,A);for(var D=E+1;D<d;D++)v[D]=[u(v[D][0]||0,n(F,m[D][E]))]}g[E]=[F]}return new p({data:g,size:[d,1]})}function o(a,f){f=c(a,f,!0);for(var v=f._data,d=a._size[0],h=a._size[1],g=a._values,m=a._index,E=a._ptr,y=[],F=0;F<h;F++){var A=v[F][0]||0;if(s(A,0))y[F]=[0];else{for(var D=0,b=[],C=[],w=E[F],M=E[F+1],S=w;S<M;S++){var B=m[S];B===F?D=g[S]:B>F&&(b.push(g[S]),C.push(B))}if(s(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(A,D),z=0,I=C.length;z<I;z++){var _=C[z];v[_]=[u(v[_][0]||0,n(O,b[z]))]}y[F]=[O]}}return new p({data:y,size:[d,1]})}}),li="usolve",Q0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],K0=j(li,Q0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:p}=r,c=zt({DenseMatrix:p});return e(li,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return l(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),h=l(d,v);return h.valueOf()}});function l(a,f){f=c(a,f,!0);for(var v=f._data,d=a._size[0],h=a._size[1],g=[],m=a._data,E=h-1;E>=0;E--){var y=v[E][0]||0,F=void 0;if(s(y,0))F=0;else{var A=m[E][E];if(s(A,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(y,A);for(var D=E-1;D>=0;D--)v[D]=[u(v[D][0]||0,n(F,m[D][E]))]}g[E]=[F]}return new p({data:g,size:[d,1]})}function o(a,f){f=c(a,f,!0);for(var v=f._data,d=a._size[0],h=a._size[1],g=a._values,m=a._index,E=a._ptr,y=[],F=h-1;F>=0;F--){var A=v[F][0]||0;if(s(A,0))y[F]=[0];else{for(var D=0,b=[],C=[],w=E[F],M=E[F+1],S=M-1;S>=w;S--){var B=m[S];B===F?D=g[S]:B<F&&(b.push(g[S]),C.push(B))}if(s(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(A,D),z=0,I=C.length;z<I;z++){var _=C[z];v[_]=[u(v[_][0],n(O,b[z]))]}y[F]=[O]}}return new p({data:y,size:[d,1]})}}),vi="usolveAll",W0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],H0=j(vi,W0,r=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:s,DenseMatrix:p}=r,c=zt({DenseMatrix:p});return e(vi,{"SparseMatrix, Array | Matrix":function(f,v){return o(f,v)},"DenseMatrix, Array | Matrix":function(f,v){return l(f,v)},"Array, Array | Matrix":function(f,v){var d=t(f),h=l(d,v);return h.map(g=>g.valueOf())}});function l(a,f){for(var v=[c(a,f,!0)._data.map(C=>C[0])],d=a._data,h=a._size[0],g=a._size[1],m=g-1;m>=0;m--)for(var E=v.length,y=0;y<E;y++){var F=v[y];if(s(d[m][m],0))if(s(F[m],0)){if(y===0){var D=[...F];D[m]=1;for(var b=m-1;b>=0;b--)D[b]=u(D[b],d[b][m]);v.push(D)}}else{if(y===0)return[];v.splice(y,1),y-=1,E-=1}else{F[m]=i(F[m],d[m][m]);for(var A=m-1;A>=0;A--)F[A]=u(F[A],n(F[m],d[A][m]))}}return v.map(C=>new p({data:C.map(w=>[w]),size:[h,1]}))}function o(a,f){for(var v=[c(a,f,!0)._data.map(W=>W[0])],d=a._size[0],h=a._size[1],g=a._values,m=a._index,E=a._ptr,y=h-1;y>=0;y--)for(var F=v.length,A=0;A<F;A++){for(var D=v[A],b=[],C=[],w=E[y],M=E[y+1],S=0,B=M-1;B>=w;B--){var O=m[B];O===y?S=g[B]:O<y&&(b.push(g[B]),C.push(O))}if(s(S,0))if(s(D[y],0)){if(A===0){var J=[...D];J[y]=1;for(var q=0,T=C.length;q<T;q++){var Z=C[q];J[Z]=u(J[Z],b[q])}v.push(J)}}else{if(A===0)return[];v.splice(A,1),A-=1,F-=1}else{D[y]=i(D[y],S);for(var z=0,I=C.length;z<I;z++){var _=C[z];D[_]=u(D[_],n(D[y],b[z]))}}}return v.map(W=>new p({data:W.map(U=>[U]),size:[d,1]}))}}),wt="compare",k0=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],j0=j(wt,k0,r=>{var{typed:e,config:t,equalScalar:i,matrix:n,BigNumber:u,Fraction:s,DenseMatrix:p,concat:c}=r,l=_e({typed:e}),o=ga({typed:e,equalScalar:i}),a=Be({typed:e,DenseMatrix:p}),f=Fe({typed:e,matrix:n,concat:c}),v=Je({typed:e});return e(wt,rc({typed:e,config:t}),{"boolean, boolean":function(h,g){return h===g?0:h>g?1:-1},"BigNumber, BigNumber":function(h,g){return Ne(h,g,t.relTol,t.absTol)?new u(0):new u(h.cmp(g))},"bigint, bigint":function(h,g){return h===g?0n:h>g?1n:-1n},"Fraction, Fraction":function(h,g){return new s(h.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},v,f({SS:o,DS:l,Ss:a}))}),rc=j(wt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(wt,{"number, number":function(n,u){return se(n,u,t.relTol,t.absTol)?0:n>u?1:-1}})}),ec=function r(e,t){var i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,n=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,p=/^0/,c=function(y){return r.insensitive&&(""+y).toLowerCase()||""+y},l=c(e).replace(n,"")||"",o=c(t).replace(n,"")||"",a=l.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=o.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(l.match(s),16)||a.length!==1&&l.match(u)&&Date.parse(l),d=parseInt(o.match(s),16)||v&&o.match(u)&&Date.parse(o)||null,h,g;if(d){if(v<d)return-1;if(v>d)return 1}for(var m=0,E=Math.max(a.length,f.length);m<E;m++){if(h=!(a[m]||"").match(p)&&parseFloat(a[m])||a[m]||0,g=!(f[m]||"").match(p)&&parseFloat(f[m])||f[m]||0,isNaN(h)!==isNaN(g))return isNaN(h)?1:-1;if(typeof h!=typeof g&&(h+="",g+=""),h<g)return-1;if(h>g)return 1}return 0};const Oe=ki(ec);var hi="compareNatural",tc=["typed","compare"],nc=j(hi,tc,r=>{var{typed:e,compare:t}=r,i=t.signatures["boolean,boolean"];return e(hi,{"any, any":n});function n(c,l){var o=ue(c),a=ue(l),f;if((o==="number"||o==="BigNumber"||o==="Fraction")&&(a==="number"||a==="BigNumber"||a==="Fraction"))return f=t(c,l),f.toString()!=="0"?f>0?1:-1:Oe(o,a);var v=["Array","DenseMatrix","SparseMatrix"];if(v.includes(o)||v.includes(a))return f=u(n,c,l),f!==0?f:Oe(o,a);if(o!==a)return Oe(o,a);if(o==="Complex")return ic(c,l);if(o==="Unit")return c.equalBase(l)?n(c.value,l.value):s(n,c.formatUnits(),l.formatUnits());if(o==="boolean")return i(c,l);if(o==="string")return Oe(c,l);if(o==="Object")return p(n,c,l);if(o==="null"||o==="undefined")return 0;throw new TypeError('Unsupported type of value "'+o+'"')}function u(c,l,o){return Ie(l)&&Ie(o)?s(c,l.toJSON().values,o.toJSON().values):Ie(l)?u(c,l.toArray(),o):Ie(o)?u(c,l,o.toArray()):ht(l)?u(c,l.toJSON().data,o):ht(o)?u(c,l,o.toJSON().data):Array.isArray(l)?Array.isArray(o)?s(c,l,o):u(c,l,[o]):u(c,[l],o)}function s(c,l,o){for(var a=0,f=Math.min(l.length,o.length);a<f;a++){var v=c(l[a],o[a]);if(v!==0)return v}return l.length>o.length?1:l.length<o.length?-1:0}function p(c,l,o){var a=Object.keys(l),f=Object.keys(o);a.sort(Oe),f.sort(Oe);var v=s(c,a,f);if(v!==0)return v;for(var d=0;d<a.length;d++){var h=c(l[a[d]],o[f[d]]);if(h!==0)return h}return 0}});function ic(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var At="equal",ac=["typed","matrix","equalScalar","DenseMatrix","concat"],uc=j(At,ac,r=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:n,concat:u}=r,s=_e({typed:e}),p=et({typed:e,DenseMatrix:n}),c=Be({typed:e,DenseMatrix:n}),l=Fe({typed:e,matrix:t,concat:u});return e(At,oc({typed:e,equalScalar:i}),l({elop:i,SS:p,DS:s,Ss:c}))}),oc=j(At,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(At,{"any, any":function(n,u){return n===null?u===null:u===null?n===null:n===void 0?u===void 0:u===void 0?n===void 0:t(n,u)}})}),Et="smaller",sc=["typed","config","matrix","DenseMatrix","concat"],fc=j(Et,sc,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=_e({typed:e}),p=et({typed:e,DenseMatrix:n}),c=Be({typed:e,DenseMatrix:n}),l=Fe({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(Et,cc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<f,"BigNumber, BigNumber":function(f,v){return f.lt(v)&&!Ne(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a<f,"Fraction, Fraction":(a,f)=>a.compare(f)===-1,"Complex, Complex":function(f,v){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:s,Ss:c}))}),cc=j(Et,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Et,{"number, number":function(n,u){return n<u&&!se(n,u,t.relTol,t.absTol)}})}),Ft="smallerEq",lc=["typed","config","matrix","DenseMatrix","concat"],vc=j(Ft,lc,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=_e({typed:e}),p=et({typed:e,DenseMatrix:n}),c=Be({typed:e,DenseMatrix:n}),l=Fe({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(Ft,hc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a<=f,"BigNumber, BigNumber":function(f,v){return f.lte(v)||Ne(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a<=f,"Fraction, Fraction":(a,f)=>a.compare(f)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:s,Ss:c}))}),hc=j(Ft,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ft,{"number, number":function(n,u){return n<=u||se(n,u,t.relTol,t.absTol)}})}),Ct="larger",pc=["typed","config","matrix","DenseMatrix","concat"],dc=j(Ct,pc,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=_e({typed:e}),p=et({typed:e,DenseMatrix:n}),c=Be({typed:e,DenseMatrix:n}),l=Fe({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(Ct,mc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>f,"BigNumber, BigNumber":function(f,v){return f.gt(v)&&!Ne(f,v,t.relTol,t.absTol)},"bigint, bigint":(a,f)=>a>f,"Fraction, Fraction":(a,f)=>a.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:s,Ss:c}))}),mc=j(Ct,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Ct,{"number, number":function(n,u){return n>u&&!se(n,u,t.relTol,t.absTol)}})}),bt="largerEq",Dc=["typed","config","matrix","DenseMatrix","concat"],gc=j(bt,Dc,r=>{var{typed:e,config:t,matrix:i,DenseMatrix:n,concat:u}=r,s=_e({typed:e}),p=et({typed:e,DenseMatrix:n}),c=Be({typed:e,DenseMatrix:n}),l=Fe({typed:e,matrix:i,concat:u}),o=Je({typed:e});return e(bt,yc({typed:e,config:t}),{"boolean, boolean":(a,f)=>a>=f,"BigNumber, BigNumber":function(f,v){return f.gte(v)||Ne(f,v,t.relTol,t.absTol)},"bigint, bigint":function(f,v){return f>=v},"Fraction, Fraction":(a,f)=>a.compare(f)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:s,Ss:c}))}),yc=j(bt,["typed","config"],r=>{var{typed:e,config:t}=r;return e(bt,{"number, number":function(n,u){return n>=u||se(n,u,t.relTol,t.absTol)}})}),wc="ImmutableDenseMatrix",Ac=["smaller","DenseMatrix"],Ec=j(wc,Ac,r=>{var{smaller:e,DenseMatrix:t}=r;function i(n,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!ee(u))throw new Error("Invalid datatype: "+u);if(Nr(n)||Fr(n)){var s=new t(n,u);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(n&&Fr(n.data)&&Fr(n.size))this._data=n.data,this._size=n.size,this._datatype=n.datatype,this._min=typeof n.min<"u"?n.min:null,this._max=typeof n.max<"u"?n.max:null;else{if(n)throw new TypeError("Unsupported type of data ("+ue(n)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return i.prototype=new t,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(n){switch(arguments.length){case 1:{var u=t.prototype.subset.call(this,n);return Nr(u)?new i({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Er(this._data),size:Er(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(n){return new i(n)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var n=null;this.forEach(function(u){(n===null||e(u,n))&&(n=u)}),this._min=n!==null?n:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var n=null;this.forEach(function(u){(n===null||e(n,u))&&(n=u)}),this._max=n!==null?n:void 0}return this._max},i},{isClass:!0}),Fc="Index",Cc=["ImmutableDenseMatrix","getMatrixDataType"],bc=j(Fc,Cc,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,p=arguments.length;s<p;s++){var c=arguments[s],l=Fr(c),o=Nr(c),a=null;if(Ti(c))this._dimensions.push(c),this._isScalar=!1;else if(l||o){var f=void 0;t(c)==="boolean"?(l&&(f=n(pi(c).valueOf())),o&&(f=n(pi(c._data).valueOf())),a=c.valueOf().length):f=n(c.valueOf()),this._dimensions.push(f);var v=f.size();(v.length!==1||v[0]!==1||a!==null)&&(this._isScalar=!1)}else if(typeof c=="number")this._dimensions.push(n([c]));else if(typeof c=="string")this._dimensions.push(c);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(a)}}i.prototype.type="Index",i.prototype.isIndex=!0;function n(u){for(var s=0,p=u.length;s<p;s++)if(typeof u[s]!="number"||!_r(u[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(u)}return i.prototype.clone=function(){var u=new i;return u._dimensions=Er(this._dimensions),u._isScalar=this._isScalar,u._sourceSize=this._sourceSize,u},i.create=function(u){var s=new i;return i.apply(s,u),s},i.prototype.size=function(){for(var u=[],s=0,p=this._dimensions.length;s<p;s++){var c=this._dimensions[s];u[s]=typeof c=="string"?1:c.size()[0]}return u},i.prototype.max=function(){for(var u=[],s=0,p=this._dimensions.length;s<p;s++){var c=this._dimensions[s];u[s]=typeof c=="string"?c:c.max()}return u},i.prototype.min=function(){for(var u=[],s=0,p=this._dimensions.length;s<p;s++){var c=this._dimensions[s];u[s]=typeof c=="string"?c:c.min()}return u},i.prototype.forEach=function(u){for(var s=0,p=this._dimensions.length;s<p;s++)u(this._dimensions[s],s,this)},i.prototype.dimension=function(u){return this._dimensions[u]||null},i.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.toArray=function(){for(var u=[],s=0,p=this._dimensions.length;s<p;s++){var c=this._dimensions[s];u.push(typeof c=="string"?c:c.toArray())}return u},i.prototype.valueOf=i.prototype.toArray,i.prototype.toString=function(){for(var u=[],s=0,p=this._dimensions.length;s<p;s++){var c=this._dimensions[s];typeof c=="string"?u.push(JSON.stringify(c)):u.push(c.toString())}return"["+u.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(u){return i.create(u.dimensions)},i},{isClass:!0});function pi(r){var e=[];return r.forEach((t,i)=>{t&&e.push(i)}),e}var Mc="FibonacciHeap",Sc=["smaller","larger"],Nc=j(Mc,Sc,r=>{var{smaller:e,larger:t}=r,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(o,a){var f={key:o,value:a,degree:0};if(this._minimum){var v=this._minimum;f.left=v,f.right=v.right,v.right=f,f.right.left=f,e(o,v.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var a=this._minimum,f=o.degree,v=o.child;f>0;){var d=v.right;v.left.right=v.right,v.right.left=v.left,v.left=a,v.right=a.right,a.right=v,v.right.left=v,v.parent=null,v=d,f--}return o.left.right=o.right,o.right.left=o.left,o===o.right?a=null:(a=o.right,a=l(a,this._size)),this._size--,this._minimum=a,o},n.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,a,f){a.key=f;var v=a.parent;return v&&e(a.key,v.key)&&(s(o,a,v),p(o,v)),e(a.key,o.key)&&(o=a),o}function s(o,a,f){a.left.right=a.right,a.right.left=a.left,f.degree--,f.child===a&&(f.child=a.right),f.degree===0&&(f.child=null),a.left=o,a.right=o.right,o.right=a,a.right.left=a,a.parent=null,a.mark=!1}function p(o,a){var f=a.parent;f&&(a.mark?(s(o,a,f),p(f)):a.mark=!0)}var c=function(a,f){a.left.right=a.right,a.right.left=a.left,a.parent=f,f.child?(a.left=f.child,a.right=f.child.right,f.child.right=a,a.right.left=a):(f.child=a,a.right=a,a.left=a),f.degree++,a.mark=!1};function l(o,a){var f=Math.floor(Math.log(a)*i)+1,v=new Array(f),d=0,h=o;if(h)for(d++,h=h.right;h!==o;)d++,h=h.right;for(var g;d>0;){for(var m=h.degree,E=h.right;g=v[m],!!g;){if(t(h.key,g.key)){var y=g;g=h,h=y}c(g,h),v[m]=null,m++}v[m]=h,h=E,d--}o=null;for(var F=0;F<f;F++)g=v[F],g&&(o?(g.left.right=g.right,g.right.left=g.left,g.left=o,g.right=o.right,o.right=g,g.right.left=g,e(g.key,o.key)&&(o=g)):o=g);return o}return n},{isClass:!0}),Bc="Spa",_c=["addScalar","equalScalar","FibonacciHeap"],xc=j(Bc,_c,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(u,s){if(this._values[u])this._values[u].value=s;else{var p=this._heap.insert(u,s);this._values[u]=p}},n.prototype.get=function(u){var s=this._values[u];return s?s.value:0},n.prototype.accumulate=function(u,s){var p=this._values[u];p?p.value=e(p.value,s):(p=this._heap.insert(u,s),this._values[u]=p)},n.prototype.forEach=function(u,s,p){var c=this._heap,l=this._values,o=[],a=c.extractMinimum();for(a&&o.push(a);a&&a.key<=s;)a.key>=u&&(t(a.value,0)||p(a.key,a.value,this)),a=c.extractMinimum(),a&&o.push(a);for(var f=0;f<o.length;f++){var v=o[f];a=c.insert(v.key,v.value),l[a.key]=a}},n.prototype.swap=function(u,s){var p=this._values[u],c=this._values[s];if(!p&&c)p=this._heap.insert(u,c.value),this._heap.remove(c),this._values[u]=p,this._values[s]=void 0;else if(p&&!c)c=this._heap.insert(s,p.value),this._heap.remove(p),this._values[s]=c,this._values[u]=void 0;else if(p&&c){var l=p.value;p.value=c.value,c.value=l}},n},{isClass:!0}),Tc="atan",zc=["typed"],Oc=j(Tc,zc,r=>{var{typed:e}=r;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),Fa=j("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,i.valueType())(i.value)})}}),di="cos",Ic=["typed"],$c=j(di,Ic,r=>{var{typed:e}=r,t=Fa({typed:e});return e(di,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},t)}),mi="sin",qc=["typed"],Pc=j(mi,qc,r=>{var{typed:e}=r,t=Fa({typed:e});return e(mi,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},t)}),Di="setDifference",Rc=["typed","size","subset","compareNatural","Index","DenseMatrix"],Uc=j(Di,Rc,r=>{var{typed:e,size:t,subset:i,compareNatural:n,Index:u,DenseMatrix:s}=r;return e(Di,{"Array | Matrix, Array | Matrix":function(c,l){var o;if(i(t(c),new u(0))===0)o=[];else{if(i(t(l),new u(0))===0)return Re(c.toArray());var a=_n(Re(Array.isArray(c)?c:c.toArray()).sort(n)),f=_n(Re(Array.isArray(l)?l:l.toArray()).sort(n));o=[];for(var v,d=0;d<a.length;d++){v=!1;for(var h=0;h<f.length;h++)if(n(a[d].value,f[h].value)===0&&a[d].identifier===f[h].identifier){v=!0;break}v||o.push(a[d])}}return Array.isArray(c)&&Array.isArray(l)?xn(o):new s(xn(o))}})}),gi="add",Lc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Zc=j(gi,Lc,r=>{var{typed:e,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:u,SparseMatrix:s,concat:p}=r,c=ya({typed:e}),l=Pf({typed:e,equalScalar:n}),o=wa({typed:e,DenseMatrix:u}),a=Fe({typed:e,matrix:t,concat:p});return e(gi,{"any, any":i,"any, any, ...any":e.referToSelf(f=>(v,d,h)=>{for(var g=f(v,d),m=0;m<h.length;m++)g=f(g,h[m]);return g})},a({elop:i,DS:c,SS:l,Ss:o}))}),yi="norm",Vc=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Jc=j(yi,Vc,r=>{var{typed:e,abs:t,add:i,pow:n,conj:u,sqrt:s,multiply:p,equalScalar:c,larger:l,smaller:o,matrix:a,ctranspose:f,eigs:v}=r;return e(yi,{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return D(a(C),2)},Matrix:function(C){return D(C,2)},"Array, number | BigNumber | string":function(C,w){return D(a(C),w)},"Matrix, number | BigNumber | string":function(C,w){return D(C,w)}});function d(b){var C=0;return b.forEach(function(w){var M=t(w);l(M,C)&&(C=M)},!0),C}function h(b){var C;return b.forEach(function(w){var M=t(w);(!C||o(M,C))&&(C=M)},!0),C||0}function g(b,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return d(b);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return h(b);if(C==="fro")return D(b,2);if(typeof C=="number"&&!isNaN(C)){if(!c(C,0)){var w=0;return b.forEach(function(M){w=i(n(t(M),C),w)},!0),n(w,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function m(b){var C=0;return b.forEach(function(w,M){C=i(C,p(w,u(w)))}),t(s(C))}function E(b){var C=[],w=0;return b.forEach(function(M,S){var B=S[1],O=i(C[B]||0,t(M));l(O,w)&&(w=O),C[B]=O},!0),w}function y(b){var C=b.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var w=f(b),M=p(w,b),S=v(M).values.toArray(),B=S[S.length-1];return t(s(B))}function F(b){var C=[],w=0;return b.forEach(function(M,S){var B=S[0],O=i(C[B]||0,t(M));l(O,w)&&(w=O),C[B]=O},!0),w}function A(b,C){if(C===1)return E(b);if(C===Number.POSITIVE_INFINITY||C==="inf")return F(b);if(C==="fro")return m(b);if(C===2)return y(b);throw new Error("Unsupported parameter value "+C)}function D(b,C){var w=b.size();if(w.length===1)return g(b,C);if(w.length===2){if(w[0]&&w[1])return A(b,C);throw new RangeError("Invalid matrix dimensions")}}}),wi="dot",Yc=["typed","addScalar","multiplyScalar","conj","size"],Gc=j(wi,Yc,r=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:n,size:u}=r;return e(wi,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":c});function s(o,a){var f=l(o),v=l(a),d,h;if(f.length===1)d=f[0];else if(f.length===2&&f[1]===1)d=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(v.length===1)h=v[0];else if(v.length===2&&v[1]===1)h=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d!==h)throw new RangeError("Vectors must have equal length ("+d+" != "+h+")");if(d===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return d}function p(o,a){var f=s(o,a),v=Nr(o)?o._data:o,d=Nr(o)?o._datatype||o.getDataType():void 0,h=Nr(a)?a._data:a,g=Nr(a)?a._datatype||a.getDataType():void 0,m=l(o).length===2,E=l(a).length===2,y=t,F=i;if(d&&g&&d===g&&typeof d=="string"&&d!=="mixed"){var A=d;y=e.find(t,[A,A]),F=e.find(i,[A,A])}if(!m&&!E){for(var D=F(n(v[0]),h[0]),b=1;b<f;b++)D=y(D,F(n(v[b]),h[b]));return D}if(!m&&E){for(var C=F(n(v[0]),h[0][0]),w=1;w<f;w++)C=y(C,F(n(v[w]),h[w][0]));return C}if(m&&!E){for(var M=F(n(v[0][0]),h[0]),S=1;S<f;S++)M=y(M,F(n(v[S][0]),h[S]));return M}if(m&&E){for(var B=F(n(v[0][0]),h[0][0]),O=1;O<f;O++)B=y(B,F(n(v[O][0]),h[O][0]));return B}}function c(o,a){s(o,a);for(var f=o._index,v=o._values,d=a._index,h=a._values,g=0,m=t,E=i,y=0,F=0;y<f.length&&F<d.length;){var A=f[y],D=d[F];if(A<D){y++;continue}if(A>D){F++;continue}A===D&&(g=m(g,E(v[y],h[F])),y++,F++)}return g}function l(o){return Nr(o)?o.size():u(o)}}),Ai="index",Xc=["typed","Index"],Qc=j(Ai,Xc,r=>{var{typed:e,Index:t}=r;return e(Ai,{"...number | string | BigNumber | Range | Array | Matrix":function(n){var u=n.map(function(p){return Ir(p)?p.toNumber():Fr(p)||Nr(p)?p.map(function(c){return Ir(c)?c.toNumber():c}):p}),s=new t;return t.apply(s,u),s}})}),Ei="lup",Kc=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Wc=j(Ei,Kc,r=>{var{typed:e,matrix:t,abs:i,addScalar:n,divideScalar:u,multiplyScalar:s,subtractScalar:p,larger:c,equalScalar:l,unaryMinus:o,DenseMatrix:a,SparseMatrix:f,Spa:v}=r;return e(Ei,{DenseMatrix:function(m){return d(m)},SparseMatrix:function(m){return h(m)},Array:function(m){var E=t(m),y=d(E);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function d(g){var m=g._size[0],E=g._size[1],y=Math.min(m,E),F=Er(g._data),A=[],D=[m,y],b=[],C=[y,E],w,M,S,B=[];for(w=0;w<m;w++)B[w]=w;for(M=0;M<E;M++){if(M>0)for(w=0;w<m;w++){var O=Math.min(w,M),z=0;for(S=0;S<O;S++)z=n(z,s(F[w][S],F[S][M]));F[w][M]=p(F[w][M],z)}var I=M,_=0,J=0;for(w=M;w<m;w++){var q=F[w][M],T=i(q);c(T,_)&&(I=w,_=T,J=q)}if(M!==I&&(B[M]=[B[I],B[I]=B[M]][0],a._swapRows(M,I,F)),M<m)for(w=M+1;w<m;w++){var Z=F[w][M];l(Z,0)||(F[w][M]=u(F[w][M],J))}}for(M=0;M<E;M++)for(w=0;w<m;w++){if(M===0&&(w<E&&(b[w]=[]),A[w]=[]),w<M){w<E&&(b[w][M]=F[w][M]),M<m&&(A[w][M]=0);continue}if(w===M){w<E&&(b[w][M]=F[w][M]),M<m&&(A[w][M]=1);continue}w<E&&(b[w][M]=0),M<m&&(A[w][M]=F[w][M])}var W=new a({data:A,size:D}),U=new a({data:b,size:C}),R=[];for(w=0,y=B.length;w<y;w++)R[B[w]]=w;return{L:W,U,p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(g){var m=g._size[0],E=g._size[1],y=Math.min(m,E),F=g._values,A=g._index,D=g._ptr,b=[],C=[],w=[],M=[m,y],S=[],B=[],O=[],z=[y,E],I,_,J,q=[],T=[];for(I=0;I<m;I++)q[I]=I,T[I]=I;var Z=function(R,V){var nr=T[R],k=T[V];q[nr]=V,q[k]=R,T[R]=k,T[V]=nr},W=function(){var R=new v;_<m&&(w.push(b.length),b.push(1),C.push(_)),O.push(S.length);var V=D[_],nr=D[_+1];for(J=V;J<nr;J++)I=A[J],R.set(q[I],F[J]);_>0&&R.forEach(0,_-1,function(K,G){f._forEachRow(K,b,C,w,function(ur,rr){ur>K&&R.accumulate(ur,o(s(rr,G)))})});var k=_,L=R.get(_),Q=i(L);R.forEach(_+1,m-1,function(K,G){var ur=i(G);c(ur,Q)&&(k=K,Q=ur,L=G)}),_!==k&&(f._swapRows(_,k,M[1],b,C,w),f._swapRows(_,k,z[1],S,B,O),R.swap(_,k),Z(_,k)),R.forEach(0,m-1,function(K,G){K<=_?(S.push(G),B.push(K)):(G=u(G,L),l(G,0)||(b.push(G),C.push(K)))})};for(_=0;_<E;_++)W();return O.push(S.length),w.push(b.length),{L:new f({values:b,index:C,ptr:w,size:M}),U:new f({values:S,index:B,ptr:O,size:z}),p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),Fi="qr",Hc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],kc=j(Fi,Hc,r=>{var{typed:e,matrix:t,zeros:i,identity:n,isZero:u,equal:s,sign:p,sqrt:c,conj:l,unaryMinus:o,addScalar:a,divideScalar:f,multiplyScalar:v,subtractScalar:d,complex:h}=r;return Ue(e(Fi,{DenseMatrix:function(F){return m(F)},SparseMatrix:function(F){return E()},Array:function(F){var A=t(F),D=m(A);return{Q:D.Q.valueOf(),R:D.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var F=y._size[0],A=y._size[1],D=n([F],"dense"),b=D._data,C=y.clone(),w=C._data,M,S,B,O=i([F],"");for(B=0;B<Math.min(A,F);++B){var z=w[B][B],I=o(s(z,0)?1:p(z)),_=l(I),J=0;for(M=B;M<F;M++)J=a(J,v(w[M][B],l(w[M][B])));var q=v(I,c(J));if(!u(q)){var T=d(z,q);for(O[B]=1,M=B+1;M<F;M++)O[M]=f(w[M][B],T);var Z=o(l(f(T,q))),W=void 0;for(S=B;S<A;S++){for(W=0,M=B;M<F;M++)W=a(W,v(l(O[M]),w[M][S]));for(W=v(W,Z),M=B;M<F;M++)w[M][S]=v(d(w[M][S],v(O[M],W)),_)}for(M=0;M<F;M++){for(W=0,S=B;S<F;S++)W=a(W,v(b[M][S],O[S]));for(W=v(W,Z),S=B;S<F;++S)b[M][S]=f(d(b[M][S],v(W,l(O[S]))),_)}}}return{Q:D,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function m(y){var F=g(y),A=F.R._data;if(y._data.length>0)for(var D=A[0][0].type==="Complex"?h(0):0,b=0;b<A.length;++b)for(var C=0;C<b&&C<(A[0]||[]).length;++C)A[b][C]=D;return F}function E(y){throw new Error("qr not implemented for sparse matrices yet")}});function jc(r,e,t,i){r._values;for(var n=r._index,u=r._ptr,s=r._size,p=r._datatype,c=s[0],l=s[1],o=null,a=[],f=[],v=0,d=0;d<l;d++){f[d]=v;for(var h=t?t[d]:d,g=u[h],m=u[h+1],E=g;E<m;E++){var y=n[E];a[v]=y,v++}}return f[l]=v,r.createSparseMatrix({values:o,index:a,ptr:f,size:[c,l],datatype:p})}function Ca(r,e,t,i,n,u,s){var p=0;for(t[s]=r;p>=0;){var c=t[s+p],l=t[i+c];l===-1?(p--,u[e++]=c):(t[i+c]=t[n+l],++p,t[s+p]=l)}return e}function rl(r,e){if(!r)return null;var t=0,i,n=[],u=[],s=0,p=e,c=2*e;for(i=0;i<e;i++)u[s+i]=-1;for(i=e-1;i>=0;i--)r[i]!==-1&&(u[p+i]=u[s+r[i]],u[s+r[i]]=i);for(i=0;i<e;i++)r[i]===-1&&(t=Ca(i,t,u,s,p,n,c));return n}function el(r,e){if(!r)return null;var t=r._index,i=r._ptr,n=r._size,u=n[0],s=n[1],p=[],c=[],l=0,o=s,a,f;for(a=0;a<u;a++)c[o+a]=-1;for(var v=0;v<s;v++){p[v]=-1,c[l+v]=-1;for(var d=i[v],h=i[v+1],g=d;g<h;g++){var m=t[g];for(a=c[o+m];a!==-1&&a<v;a=f)f=c[l+a],c[l+a]=v,f===-1&&(p[a]=v);c[o+m]=v}}return p}function tl(r,e,t){for(var i=r._values,n=r._index,u=r._ptr,s=r._size,p=s[1],c=0,l=0;l<p;l++){var o=u[l];for(u[l]=c;o<u[l+1];o++)e(n[o],l,i?i[o]:1,t)&&(n[c]=n[o],i&&(i[c]=i[o]),c++)}return u[p]=c,n.splice(c,n.length-c),i&&i.splice(c,i.length-c),c}function De(r){return-r-2}var nl="csAmd",il=["add","multiply","transpose"],al=j(nl,il,r=>{var{add:e,multiply:t,transpose:i}=r;return function(o,a){if(!a||o<=0||o>3)return null;var f=a._size,v=f[0],d=f[1],h=0,g=Math.max(16,10*Math.sqrt(d));g=Math.min(d-2,g);var m=n(o,a,v,d,g);tl(m,c,null);for(var E=m._index,y=m._ptr,F=y[d],A=[],D=[],b=0,C=d+1,w=2*(d+1),M=3*(d+1),S=4*(d+1),B=5*(d+1),O=6*(d+1),z=7*(d+1),I=A,_=u(d,y,D,b,M,I,w,z,C,O,S,B),J=s(d,y,D,B,S,O,g,C,M,I,w),q=0,T,Z,W,U,R,V,nr,k,L,Q,K,G,ur,rr,or,cr;J<d;){for(W=-1;q<d&&(W=D[M+q])===-1;q++);D[w+W]!==-1&&(I[D[w+W]]=-1),D[M+q]=D[w+W];var pr=D[S+W],Dr=D[C+W];J+=Dr;var gr=0;D[C+W]=-Dr;var lr=y[W],Ar=pr===0?lr:F,yr=Ar;for(U=1;U<=pr+1;U++){for(U>pr?(V=W,nr=lr,k=D[b+W]-pr):(V=E[lr++],nr=y[V],k=D[b+V]),R=1;R<=k;R++)T=E[nr++],!((L=D[C+T])<=0)&&(gr+=L,D[C+T]=-L,E[yr++]=T,D[w+T]!==-1&&(I[D[w+T]]=I[T]),I[T]!==-1?D[w+I[T]]=D[w+T]:D[M+D[B+T]]=D[w+T]);V!==W&&(y[V]=De(W),D[O+V]=0)}for(pr!==0&&(F=yr),D[B+W]=gr,y[W]=Ar,D[b+W]=yr-Ar,D[S+W]=-2,_=p(_,h,D,O,d),Q=Ar;Q<yr;Q++)if(T=E[Q],!((K=D[S+T])<=0)){L=-D[C+T];var Cr=_-L;for(lr=y[T],G=y[T]+K-1;lr<=G;lr++)V=E[lr],D[O+V]>=_?D[O+V]-=L:D[O+V]!==0&&(D[O+V]=D[B+V]+Cr)}for(Q=Ar;Q<yr;Q++){for(T=E[Q],G=y[T],ur=G+D[S+T]-1,rr=G,or=0,cr=0,lr=G;lr<=ur;lr++)if(V=E[lr],D[O+V]!==0){var Pr=D[O+V]-_;Pr>0?(cr+=Pr,E[rr++]=V,or+=V):(y[V]=De(W),D[O+V]=0)}D[S+T]=rr-G+1;var N=rr,x=G+D[b+T];for(lr=ur+1;lr<x;lr++){Z=E[lr];var $=D[C+Z];$<=0||(cr+=$,E[rr++]=Z,or+=Z)}cr===0?(y[T]=De(W),L=-D[C+T],gr-=L,Dr+=L,J+=L,D[C+T]=0,D[S+T]=-1):(D[B+T]=Math.min(D[B+T],cr),E[rr]=E[N],E[N]=E[G],E[G]=W,D[b+T]=rr-G+1,or=(or<0?-or:or)%d,D[w+T]=D[z+or],D[z+or]=T,I[T]=or)}for(D[B+W]=gr,h=Math.max(h,gr),_=p(_+h,h,D,O,d),Q=Ar;Q<yr;Q++)if(T=E[Q],!(D[C+T]>=0))for(or=I[T],T=D[z+or],D[z+or]=-1;T!==-1&&D[w+T]!==-1;T=D[w+T],_++){for(k=D[b+T],K=D[S+T],lr=y[T]+1;lr<=y[T]+k-1;lr++)D[O+E[lr]]=_;var P=T;for(Z=D[w+T];Z!==-1;){var X=D[b+Z]===k&&D[S+Z]===K;for(lr=y[Z]+1;X&&lr<=y[Z]+k-1;lr++)D[O+E[lr]]!==_&&(X=0);X?(y[Z]=De(T),D[C+T]+=D[C+Z],D[C+Z]=0,D[S+Z]=-1,Z=D[w+Z],D[w+P]=Z):(P=Z,Z=D[w+Z])}}for(lr=Ar,Q=Ar;Q<yr;Q++)T=E[Q],!((L=-D[C+T])<=0)&&(D[C+T]=L,cr=D[B+T]+gr-L,cr=Math.min(cr,d-J-L),D[M+cr]!==-1&&(I[D[M+cr]]=T),D[w+T]=D[M+cr],I[T]=-1,D[M+cr]=T,q=Math.min(q,cr),D[B+T]=cr,E[lr++]=T);D[C+W]=Dr,(D[b+W]=lr-Ar)===0&&(y[W]=-1,D[O+W]=0),pr!==0&&(F=lr)}for(T=0;T<d;T++)y[T]=De(y[T]);for(Z=0;Z<=d;Z++)D[M+Z]=-1;for(Z=d;Z>=0;Z--)D[C+Z]>0||(D[w+Z]=D[M+y[Z]],D[M+y[Z]]=Z);for(V=d;V>=0;V--)D[C+V]<=0||y[V]!==-1&&(D[w+V]=D[M+y[V]],D[M+y[V]]=V);for(W=0,T=0;T<=d;T++)y[T]===-1&&(W=Ca(T,W,D,M,w,A,O));return A.splice(A.length-1,1),A};function n(l,o,a,f,v){var d=i(o);if(l===1&&f===a)return e(o,d);if(l===2){for(var h=d._index,g=d._ptr,m=0,E=0;E<a;E++){var y=g[E];if(g[E]=m,!(g[E+1]-y>v))for(var F=g[E+1];y<F;y++)h[m++]=h[y]}return g[a]=m,o=i(d),t(d,o)}return t(d,o)}function u(l,o,a,f,v,d,h,g,m,E,y,F){for(var A=0;A<l;A++)a[f+A]=o[A+1]-o[A];a[f+l]=0;for(var D=0;D<=l;D++)a[v+D]=-1,d[D]=-1,a[h+D]=-1,a[g+D]=-1,a[m+D]=1,a[E+D]=1,a[y+D]=0,a[F+D]=a[f+D];var b=p(0,0,a,E,l);return a[y+l]=-2,o[l]=-1,a[E+l]=0,b}function s(l,o,a,f,v,d,h,g,m,E,y){for(var F=0,A=0;A<l;A++){var D=a[f+A];if(D===0)a[v+A]=-2,F++,o[A]=-1,a[d+A]=0;else if(D>h)a[g+A]=0,a[v+A]=-1,F++,o[A]=De(l),a[g+l]++;else{var b=a[m+D];b!==-1&&(E[b]=A),a[y+A]=a[m+D],a[m+D]=A}}return F}function p(l,o,a,f,v){if(l<2||l+o<0){for(var d=0;d<v;d++)a[f+d]!==0&&(a[f+d]=1);l=2}return l}function c(l,o){return l!==o}});function ul(r,e,t,i,n,u,s){var p,c,l=0,o;if(r<=e||t[i+e]<=t[n+r])return-1;t[n+r]=t[i+e];var a=t[u+r];if(t[u+r]=e,a===-1)l=1,o=r;else{for(l=2,o=a;o!==t[s+o];o=t[s+o]);for(p=a;p!==o;p=c)c=t[s+p],t[s+p]=o}return{jleaf:l,q:o}}var ol="csCounts",sl=["transpose"],fl=j(ol,sl,r=>{var{transpose:e}=r;return function(t,i,n,u){if(!t||!i||!n)return null;var s=t._size,p=s[0],c=s[1],l,o,a,f,v,d,h,g=4*c+(u?c+p+1:0),m=[],E=0,y=c,F=2*c,A=3*c,D=4*c,b=5*c+1;for(a=0;a<g;a++)m[a]=-1;var C=[],w=e(t),M=w._index,S=w._ptr;for(a=0;a<c;a++)for(o=n[a],C[o]=m[A+o]===-1?1:0;o!==-1&&m[A+o]===-1;o=i[o])m[A+o]=a;if(u){for(a=0;a<c;a++)m[n[a]]=a;for(l=0;l<p;l++){for(a=c,d=S[l],h=S[l+1],v=d;v<h;v++)a=Math.min(a,m[M[v]]);m[b+l]=m[D+a],m[D+a]=l}}for(l=0;l<c;l++)m[E+l]=l;for(a=0;a<c;a++){for(o=n[a],i[o]!==-1&&C[i[o]]--,f=u?m[D+a]:o;f!==-1;f=u?m[b+f]:-1)for(v=S[f];v<S[f+1];v++){l=M[v];var B=ul(l,o,m,A,y,F,E);B.jleaf>=1&&C[o]++,B.jleaf===2&&C[B.q]--}i[o]!==-1&&(m[E+o]=i[o])}for(o=0;o<c;o++)i[o]!==-1&&(C[i[o]]+=C[o]);return C}}),cl="csSqr",ll=["add","multiply","transpose"],vl=j(cl,ll,r=>{var{add:e,multiply:t,transpose:i}=r,n=al({add:e,multiply:t,transpose:i}),u=fl({transpose:i});return function(c,l,o){var a=l._ptr,f=l._size,v=f[1],d,h={};if(h.q=n(c,l),c&&!h.q)return null;if(o){var g=c?jc(l,null,h.q):l;h.parent=el(g);var m=rl(h.parent,v);if(h.cp=u(g,h.parent,m,1),g&&h.parent&&h.cp&&s(g,h))for(h.unz=0,d=0;d<v;d++)h.unz+=h.cp[d]}else h.unz=4*a[v]+v,h.lnz=h.unz;return h};function s(p,c){var l=p._ptr,o=p._index,a=p._size,f=a[0],v=a[1];c.pinv=[],c.leftmost=[];var d=c.parent,h=c.pinv,g=c.leftmost,m=[],E=0,y=f,F=f+v,A=f+2*v,D,b,C,w,M;for(b=0;b<v;b++)m[y+b]=-1,m[F+b]=-1,m[A+b]=0;for(D=0;D<f;D++)g[D]=-1;for(b=v-1;b>=0;b--)for(w=l[b],M=l[b+1],C=w;C<M;C++)g[o[C]]=b;for(D=f-1;D>=0;D--)h[D]=-1,b=g[D],b!==-1&&(m[A+b]++===0&&(m[F+b]=D),m[E+D]=m[y+b],m[y+b]=D);for(c.lnz=0,c.m2=f,b=0;b<v;b++)if(D=m[y+b],c.lnz++,D<0&&(D=c.m2++),h[D]=b,!(--A[b]<=0)){c.lnz+=m[A+b];var S=d[b];S!==-1&&(m[A+S]===0&&(m[F+S]=m[F+b]),m[E+m[F+b]]=m[y+S],m[y+S]=m[E+D],m[A+S]+=m[A+b])}for(D=0;D<f;D++)h[D]<0&&(h[D]=b++);return!0}});function Ht(r,e){return r[e]<0}function ba(r,e){r[e]=De(r[e])}function Ci(r){return r<0?De(r):r}function hl(r,e,t,i,n){var u=e._index,s=e._ptr,p=e._size,c=p[1],l,o,a,f=0;for(i[0]=r;f>=0;){r=i[f];var v=n?n[r]:r;Ht(s,r)||(ba(s,r),i[c+f]=v<0?0:Ci(s[v]));var d=1;for(o=i[c+f],a=v<0?0:Ci(s[v+1]);o<a;o++)if(l=u[o],!Ht(s,l)){i[c+f]=o,i[++f]=l,d=0;break}d&&(f--,i[--t]=r)}return t}function pl(r,e,t,i,n){var u=r._ptr,s=r._size,p=e._index,c=e._ptr,l=s[1],o,a,f,v=l;for(a=c[t],f=c[t+1],o=a;o<f;o++){var d=p[o];Ht(u,d)||(v=hl(d,r,v,i,n))}for(o=v;o<l;o++)ba(u,i[o]);return v}var dl="csSpsolve",ml=["divideScalar","multiply","subtract"],Dl=j(dl,ml,r=>{var{divideScalar:e,multiply:t,subtract:i}=r;return function(u,s,p,c,l,o,a){var f=u._values,v=u._index,d=u._ptr,h=u._size,g=h[1],m=s._values,E=s._index,y=s._ptr,F,A,D,b,C=pl(u,s,p,c,o);for(F=C;F<g;F++)l[c[F]]=0;for(A=y[p],D=y[p+1],F=A;F<D;F++)l[E[F]]=m[F];for(var w=C;w<g;w++){var M=c[w],S=o?o[M]:M;if(!(S<0))for(A=d[S],D=d[S+1],l[M]=e(l[M],f[a?A:D-1]),F=a?A+1:A,b=a?D:D-1;F<b;F++){var B=v[F];l[B]=i(l[B],t(f[F],l[M]))}}return C}}),gl="csLu",yl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],wl=j(gl,yl,r=>{var{abs:e,divideScalar:t,multiply:i,subtract:n,larger:u,largerEq:s,SparseMatrix:p}=r,c=Dl({divideScalar:t,multiply:i,subtract:n});return function(o,a,f){if(!o)return null;var v=o._size,d=v[1],h,g=100,m=100;a&&(h=a.q,g=a.lnz||g,m=a.unz||m);var E=[],y=[],F=[],A=new p({values:E,index:y,ptr:F,size:[d,d]}),D=[],b=[],C=[],w=new p({values:D,index:b,ptr:C,size:[d,d]}),M=[],S,B,O=[],z=[];for(S=0;S<d;S++)O[S]=0,M[S]=-1,F[S+1]=0;g=0,m=0;for(var I=0;I<d;I++){F[I]=g,C[I]=m;var _=h?h[I]:I,J=c(A,o,_,z,O,M,1),q=-1,T=-1;for(B=J;B<d;B++)if(S=z[B],M[S]<0){var Z=e(O[S]);u(Z,T)&&(T=Z,q=S)}else b[m]=M[S],D[m++]=O[S];if(q===-1||T<=0)return null;M[_]<0&&s(e(O[_]),i(T,f))&&(q=_);var W=O[q];for(b[m]=I,D[m++]=W,M[q]=I,y[g]=q,E[g++]=1,B=J;B<d;B++)S=z[B],M[S]<0&&(y[g]=S,E[g++]=t(O[S],W)),O[S]=0}for(F[d]=g,C[d]=m,B=0;B<g;B++)y[B]=M[y[B]];return E.splice(g,E.length-g),y.splice(g,y.length-g),D.splice(m,D.length-m),b.splice(m,b.length-m),{L:A,U:w,pinv:M}}}),bi="slu",Al=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],El=j(bi,Al,r=>{var{typed:e,abs:t,add:i,multiply:n,transpose:u,divideScalar:s,subtract:p,larger:c,largerEq:l,SparseMatrix:o}=r,a=vl({add:i,multiply:n,transpose:u}),f=wl({abs:t,divideScalar:s,multiply:n,subtract:p,larger:c,largerEq:l,SparseMatrix:o});return e(bi,{"SparseMatrix, number, number":function(d,h,g){if(!_r(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var m=a(h,d,!1),E=f(d,m,g);return{L:E.L,U:E.U,p:E.pinv,q:m.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Mi(r,e){var t,i=e.length,n=[];if(r)for(t=0;t<i;t++)n[r[t]]=e[t];else for(t=0;t<i;t++)n[t]=e[t];return n}var Si="lusolve",Fl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Cl=j(Si,Fl,r=>{var{typed:e,matrix:t,lup:i,slu:n,usolve:u,lsolve:s,DenseMatrix:p}=r,c=zt({DenseMatrix:p});return e(Si,{"Array, Array | Matrix":function(f,v){f=t(f);var d=i(f),h=o(d.L,d.U,d.p,null,v);return h.valueOf()},"DenseMatrix, Array | Matrix":function(f,v){var d=i(f);return o(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix":function(f,v){var d=i(f);return o(d.L,d.U,d.p,null,v)},"SparseMatrix, Array | Matrix, number, number":function(f,v,d,h){var g=n(f,d,h);return o(g.L,g.U,g.p,g.q,v)},"Object, Array | Matrix":function(f,v){return o(f.L,f.U,f.p,f.q,v)}});function l(a){if(Nr(a))return a;if(Fr(a))return t(a);throw new TypeError("Invalid Matrix LU decomposition")}function o(a,f,v,d,h){a=l(a),f=l(f),v&&(h=c(a,h,!0),h._data=Mi(v,h._data));var g=s(a,h),m=u(f,g);return d&&(m._data=Mi(d,m._data)),m}}),Ni="det",bl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Ml=j(Ni,bl,r=>{var{typed:e,matrix:t,subtractScalar:i,multiply:n,divideScalar:u,isZero:s,unaryMinus:p}=r;return e(Ni,{any:function(o){return Er(o)},"Array | Matrix":function(o){var a;switch(Nr(o)?a=o.size():Array.isArray(o)?(o=t(o),a=o.size()):a=[],a.length){case 0:return Er(o);case 1:if(a[0]===1)return Er(o.valueOf()[0]);if(a[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Or(a)+")");case 2:{var f=a[0],v=a[1];if(f===v)return c(o.clone().valueOf(),f);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+Or(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Or(a)+")")}}});function c(l,o,a){if(o===1)return Er(l[0][0]);if(o===2)return i(n(l[0][0],l[1][1]),n(l[1][0],l[0][1]));for(var f=!1,v=new Array(o).fill(0).map((b,C)=>C),d=0;d<o;d++){var h=v[d];if(s(l[h][d])){var g=void 0;for(g=d+1;g<o;g++)if(!s(l[v[g]][d])){h=v[g],v[g]=v[d],v[d]=h,f=!f;break}if(g===o)return l[h][d]}for(var m=l[h][d],E=d===0?1:l[v[d-1]][d-1],y=d+1;y<o;y++)for(var F=v[y],A=d+1;A<o;A++)l[F][A]=u(i(n(l[F][A],m),n(l[F][d],l[h][A])),E)}var D=l[v[o-1]][o-1];return f?p(D):D}}),Bi="inv",Sl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Nl=j(Bi,Sl,r=>{var{typed:e,matrix:t,divideScalar:i,addScalar:n,multiply:u,unaryMinus:s,det:p,identity:c,abs:l}=r;return e(Bi,{"Array | Matrix":function(f){var v=Nr(f)?f.size():zr(f);switch(v.length){case 1:if(v[0]===1)return Nr(f)?t([i(1,f.valueOf()[0])]):[i(1,f[0])];throw new RangeError("Matrix must be square (size: "+Or(v)+")");case 2:{var d=v[0],h=v[1];if(d===h)return Nr(f)?t(o(f.valueOf(),d,h),f.storage()):o(f,d,h);throw new RangeError("Matrix must be square (size: "+Or(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Or(v)+")")}},any:function(f){return i(1,f)}});function o(a,f,v){var d,h,g,m,E;if(f===1){if(m=a[0][0],m===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,m)]]}else if(f===2){var y=p(a);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(a[1][1],y),i(s(a[0][1]),y)],[i(s(a[1][0]),y),i(a[0][0],y)]]}else{var F=a.concat();for(d=0;d<f;d++)F[d]=F[d].concat();for(var A=c(f).valueOf(),D=0;D<v;D++){var b=l(F[D][D]),C=D;for(d=D+1;d<f;)l(F[d][D])>b&&(b=l(F[d][D]),C=d),d++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");d=C,d!==D&&(E=F[D],F[D]=F[d],F[d]=E,E=A[D],A[D]=A[d],A[d]=E);var w=F[D],M=A[D];for(d=0;d<f;d++){var S=F[d],B=A[d];if(d!==D){if(S[D]!==0){for(g=i(s(S[D]),w[D]),h=D;h<v;h++)S[h]=n(S[h],u(g,w[h]));for(h=0;h<v;h++)B[h]=n(B[h],u(g,M[h]))}}else{for(g=w[D],h=D;h<v;h++)S[h]=i(S[h],g);for(h=0;h<v;h++)B[h]=i(B[h],g)}}}return A}}});function Bl(r){var{addScalar:e,subtract:t,flatten:i,multiply:n,multiplyScalar:u,divideScalar:s,sqrt:p,abs:c,bignumber:l,diag:o,size:a,reshape:f,inv:v,qr:d,usolve:h,usolveAll:g,equal:m,complex:E,larger:y,smaller:F,matrixFromColumns:A,dot:D}=r;function b(U,R,V,nr){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,L=C(U,R,V,nr,k);w(U,R,V,nr,k,L);var{values:Q,C:K}=M(U,R,V,nr,k);if(k){var G=S(U,R,K,L,Q,V,nr);return{values:Q,eigenvectors:G}}return{values:Q}}function C(U,R,V,nr,k){var L=nr==="BigNumber",Q=nr==="Complex",K=L?l(0):0,G=L?l(1):Q?E(1):1,ur=L?l(1):1,rr=L?l(10):2,or=u(rr,rr),cr;k&&(cr=Array(R).fill(G));for(var pr=!1;!pr;){pr=!0;for(var Dr=0;Dr<R;Dr++){for(var gr=K,lr=K,Ar=0;Ar<R;Ar++)Dr!==Ar&&(gr=e(gr,c(U[Ar][Dr])),lr=e(lr,c(U[Dr][Ar])));if(!m(gr,0)&&!m(lr,0)){for(var yr=ur,Cr=gr,Pr=s(lr,rr),N=u(lr,rr);F(Cr,Pr);)Cr=u(Cr,or),yr=u(yr,rr);for(;y(Cr,N);)Cr=s(Cr,or),yr=s(yr,rr);var x=F(s(e(Cr,lr),yr),u(e(gr,lr),.95));if(x){pr=!1;for(var $=s(1,yr),P=0;P<R;P++)Dr!==P&&(U[Dr][P]=u(U[Dr][P],$),U[P][Dr]=u(U[P][Dr],yr));k&&(cr[Dr]=u(cr[Dr],$))}}}}return k?o(cr):null}function w(U,R,V,nr,k,L){var Q=nr==="BigNumber",K=nr==="Complex",G=Q?l(0):K?E(0):0;Q&&(V=l(V));for(var ur=0;ur<R-2;ur++){for(var rr=0,or=G,cr=ur+1;cr<R;cr++){var pr=U[cr][ur];F(c(or),c(pr))&&(or=pr,rr=cr)}if(!F(c(or),V)){if(rr!==ur+1){var Dr=U[rr];U[rr]=U[ur+1],U[ur+1]=Dr;for(var gr=0;gr<R;gr++){var lr=U[gr][rr];U[gr][rr]=U[gr][ur+1],U[gr][ur+1]=lr}if(k){var Ar=L[rr];L[rr]=L[ur+1],L[ur+1]=Ar}}for(var yr=ur+2;yr<R;yr++){var Cr=s(U[yr][ur],or);if(Cr!==0){for(var Pr=0;Pr<R;Pr++)U[yr][Pr]=t(U[yr][Pr],u(Cr,U[ur+1][Pr]));for(var N=0;N<R;N++)U[N][ur+1]=e(U[N][ur+1],u(Cr,U[N][yr]));if(k)for(var x=0;x<R;x++)L[yr][x]=t(L[yr][x],u(Cr,L[ur+1][x]))}}}}return L}function M(U,R,V,nr,k){var L=nr==="BigNumber",Q=nr==="Complex",K=L?l(1):Q?E(1):1;L&&(V=l(V));for(var G=Er(U),ur=[],rr=R,or=[],cr=k?o(Array(R).fill(K)):void 0,pr=k?o(Array(rr).fill(K)):void 0,Dr=0;Dr<=100;){Dr+=1;for(var gr=G[rr-1][rr-1],lr=0;lr<rr;lr++)G[lr][lr]=t(G[lr][lr],gr);var{Q:Ar,R:yr}=d(G);G=n(yr,Ar);for(var Cr=0;Cr<rr;Cr++)G[Cr][Cr]=e(G[Cr][Cr],gr);if(k&&(pr=n(pr,Ar)),rr===1||F(c(G[rr-1][rr-2]),V)){Dr=0,ur.push(G[rr-1][rr-1]),k&&(or.unshift([[1]]),z(pr,R),cr=n(cr,pr),rr>1&&(pr=o(Array(rr-1).fill(K)))),rr-=1,G.pop();for(var Pr=0;Pr<rr;Pr++)G[Pr].pop()}else if(rr===2||F(c(G[rr-2][rr-3]),V)){Dr=0;var N=B(G[rr-2][rr-2],G[rr-2][rr-1],G[rr-1][rr-2],G[rr-1][rr-1]);ur.push(...N),k&&(or.unshift(O(G[rr-2][rr-2],G[rr-2][rr-1],G[rr-1][rr-2],G[rr-1][rr-1],N[0],N[1],V,nr)),z(pr,R),cr=n(cr,pr),rr>2&&(pr=o(Array(rr-2).fill(K)))),rr-=2,G.pop(),G.pop();for(var x=0;x<rr;x++)G[x].pop(),G[x].pop()}if(rr===0)break}if(ur.sort((X,Y)=>+t(c(X),c(Y))),Dr>100){var $=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ur.join(", "));throw $.values=ur,$.vectors=[],$}var P=k?n(cr,I(or,R)):void 0;return{values:ur,C:P}}function S(U,R,V,nr,k,L,Q){var K=v(V),G=n(K,U,V),ur=Q==="BigNumber",rr=Q==="Complex",or=ur?l(0):rr?E(0):0,cr=ur?l(1):rr?E(1):1,pr=[],Dr=[];for(var gr of k){var lr=_(pr,gr,m);lr===-1?(pr.push(gr),Dr.push(1)):Dr[lr]+=1}for(var Ar=[],yr=pr.length,Cr=Array(R).fill(or),Pr=o(Array(R).fill(cr)),N=function(){var P=pr[x],X=t(G,n(P,Pr)),Y=g(X,Cr);for(Y.shift();Y.length<Dr[x];){var ar=J(X,R,Y,L,Q);if(ar===null)break;Y.push(ar)}var tr=n(v(nr),V);Y=Y.map(ir=>n(tr,ir)),Ar.push(...Y.map(ir=>({value:P,vector:i(ir)})))},x=0;x<yr;x++)N();return Ar}function B(U,R,V,nr){var k=e(U,nr),L=t(u(U,nr),u(R,V)),Q=u(k,.5),K=u(p(t(u(k,k),u(4,L))),.5);return[e(Q,K),t(Q,K)]}function O(U,R,V,nr,k,L,Q,K){var G=K==="BigNumber",ur=K==="Complex",rr=G?l(0):ur?E(0):0,or=G?l(1):ur?E(1):1;if(F(c(V),Q))return[[or,rr],[rr,or]];if(y(c(t(k,L)),Q))return[[t(k,nr),t(L,nr)],[V,V]];var cr=t(U,k),pr=t(nr,k);return F(c(R),Q)&&F(c(pr),Q)?[[cr,or],[V,rr]]:[[R,rr],[pr,or]]}function z(U,R){for(var V=0;V<U.length;V++)U[V].push(...Array(R-U[V].length).fill(0));for(var nr=U.length;nr<R;nr++)U.push(Array(R).fill(0)),U[nr][nr]=1;return U}function I(U,R){for(var V=[],nr=0;nr<R;nr++)V[nr]=Array(R).fill(0);var k=0;for(var L of U){for(var Q=L.length,K=0;K<Q;K++)for(var G=0;G<Q;G++)V[k+K][k+G]=L[K][G];k+=Q}return V}function _(U,R,V){for(var nr=0;nr<U.length;nr++)if(V(U[nr],R))return nr;return-1}function J(U,R,V,nr,k){for(var L=k==="BigNumber"?l(1e3):1e3,Q,K=0;K<5;++K){Q=q(R,V,k);try{Q=h(U,Q)}catch{continue}if(y(Z(Q),L))break}if(K>=5)return null;for(K=0;;){var G=h(U,Q);if(F(Z(T(Q,[G])),nr))break;if(++K>=10)return null;Q=W(G)}return Q}function q(U,R,V){var nr=V==="BigNumber",k=V==="Complex",L=Array(U).fill(0).map(Q=>2*Math.random()-1);return nr&&(L=L.map(Q=>l(Q))),k&&(L=L.map(Q=>E(Q))),L=T(L,R),W(L,V)}function T(U,R){var V=a(U);for(var nr of R)nr=f(nr,V),U=t(U,n(s(D(nr,U),D(nr,nr)),nr));return U}function Z(U){return c(p(D(U,U)))}function W(U,R){var V=R==="BigNumber",nr=R==="Complex",k=V?l(1):nr?E(1):1;return n(s(k,Z(U)),U)}return b}function _l(r){var{config:e,addScalar:t,subtract:i,abs:n,atan:u,cos:s,sin:p,multiplyScalar:c,inv:l,bignumber:o,multiply:a,add:f}=r;function v(w,M){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,B=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if(B==="number")return d(w,S,O);if(B==="BigNumber")return h(w,S,O);throw TypeError("Unsupported data type: "+B)}function d(w,M,S){var B=w.length,O=Math.abs(M/B),z,I;if(S){I=new Array(B);for(var _=0;_<B;_++)I[_]=Array(B).fill(0),I[_][_]=1}for(var J=D(w);Math.abs(J[1])>=Math.abs(O);){var q=J[0][0],T=J[0][1];z=g(w[q][q],w[T][T],w[q][T]),w=A(w,z,q,T),S&&(I=E(I,z,q,T)),J=D(w)}for(var Z=Array(B).fill(0),W=0;W<B;W++)Z[W]=w[W][W];return C(Er(Z),I,S)}function h(w,M,S){var B=w.length,O=n(M/B),z,I;if(S){I=new Array(B);for(var _=0;_<B;_++)I[_]=Array(B).fill(0),I[_][_]=1}for(var J=b(w);n(J[1])>=n(O);){var q=J[0][0],T=J[0][1];z=m(w[q][q],w[T][T],w[q][T]),w=F(w,z,q,T),S&&(I=y(I,z,q,T)),J=b(w)}for(var Z=Array(B).fill(0),W=0;W<B;W++)Z[W]=w[W][W];return C(Er(Z),I,S)}function g(w,M,S){var B=M-w;return Math.abs(B)<=e.relTol?Math.PI/4:.5*Math.atan(2*S/(M-w))}function m(w,M,S){var B=i(M,w);return n(B)<=e.relTol?o(-1).acos().div(4):c(.5,u(a(2,S,l(B))))}function E(w,M,S,B){for(var O=w.length,z=Math.cos(M),I=Math.sin(M),_=Array(O).fill(0),J=Array(O).fill(0),q=0;q<O;q++)_[q]=z*w[q][S]-I*w[q][B],J[q]=I*w[q][S]+z*w[q][B];for(var T=0;T<O;T++)w[T][S]=_[T],w[T][B]=J[T];return w}function y(w,M,S,B){for(var O=w.length,z=s(M),I=p(M),_=Array(O).fill(o(0)),J=Array(O).fill(o(0)),q=0;q<O;q++)_[q]=i(c(z,w[q][S]),c(I,w[q][B])),J[q]=t(c(I,w[q][S]),c(z,w[q][B]));for(var T=0;T<O;T++)w[T][S]=_[T],w[T][B]=J[T];return w}function F(w,M,S,B){for(var O=w.length,z=o(s(M)),I=o(p(M)),_=c(z,z),J=c(I,I),q=Array(O).fill(o(0)),T=Array(O).fill(o(0)),Z=a(o(2),z,I,w[S][B]),W=t(i(c(_,w[S][S]),Z),c(J,w[B][B])),U=f(c(J,w[S][S]),Z,c(_,w[B][B])),R=0;R<O;R++)q[R]=i(c(z,w[S][R]),c(I,w[B][R])),T[R]=t(c(I,w[S][R]),c(z,w[B][R]));w[S][S]=W,w[B][B]=U,w[S][B]=o(0),w[B][S]=o(0);for(var V=0;V<O;V++)V!==S&&V!==B&&(w[S][V]=q[V],w[V][S]=q[V],w[B][V]=T[V],w[V][B]=T[V]);return w}function A(w,M,S,B){for(var O=w.length,z=Math.cos(M),I=Math.sin(M),_=z*z,J=I*I,q=Array(O).fill(0),T=Array(O).fill(0),Z=_*w[S][S]-2*z*I*w[S][B]+J*w[B][B],W=J*w[S][S]+2*z*I*w[S][B]+_*w[B][B],U=0;U<O;U++)q[U]=z*w[S][U]-I*w[B][U],T[U]=I*w[S][U]+z*w[B][U];w[S][S]=Z,w[B][B]=W,w[S][B]=0,w[B][S]=0;for(var R=0;R<O;R++)R!==S&&R!==B&&(w[S][R]=q[R],w[R][S]=q[R],w[B][R]=T[R],w[R][B]=T[R]);return w}function D(w){for(var M=w.length,S=0,B=[0,1],O=0;O<M;O++)for(var z=O+1;z<M;z++)Math.abs(S)<Math.abs(w[O][z])&&(S=Math.abs(w[O][z]),B=[O,z]);return[B,S]}function b(w){for(var M=w.length,S=0,B=[0,1],O=0;O<M;O++)for(var z=O+1;z<M;z++)n(S)<n(w[O][z])&&(S=n(w[O][z]),B=[O,z]);return[B,S]}function C(w,M,S){var B=w.length,O=Array(B),z;if(S){z=Array(B);for(var I=0;I<B;I++)z[I]=Array(B)}for(var _=0;_<B;_++){for(var J=0,q=w[0],T=0;T<w.length;T++)n(w[T])<n(q)&&(J=T,q=w[J]);if(O[_]=w.splice(J,1)[0],S)for(var Z=0;Z<B;Z++)z[_][Z]=M[Z][J],M[Z].splice(J,1)}if(!S)return{values:O};var W=z.map((U,R)=>({value:O[R],vector:U}));return{values:O,eigenvectors:W}}return v}var xl="eigs",Tl=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],zl=j(xl,Tl,r=>{var{config:e,typed:t,matrix:i,addScalar:n,subtract:u,equal:s,abs:p,atan:c,cos:l,sin:o,multiplyScalar:a,divideScalar:f,inv:v,bignumber:d,multiply:h,add:g,larger:m,column:E,flatten:y,number:F,complex:A,sqrt:D,diag:b,size:C,reshape:w,qr:M,usolve:S,usolveAll:B,im:O,re:z,smaller:I,matrixFromColumns:_,dot:J}=r,q=_l({config:e,addScalar:n,subtract:u,column:E,flatten:y,equal:s,abs:p,atan:c,cos:l,sin:o,multiplyScalar:a,inv:v,bignumber:d,complex:A,multiply:h,add:g}),T=Bl({config:e,addScalar:n,subtract:u,multiply:h,multiplyScalar:a,flatten:y,divideScalar:f,sqrt:D,abs:p,bignumber:d,diag:b,size:C,reshape:w,qr:M,inv:v,usolve:S,usolveAll:B,equal:s,complex:A,larger:m,smaller:I,matrixFromColumns:_,dot:J});return t("eigs",{Array:function(L){return Z(i(L))},"Array, number|BigNumber":function(L,Q){return Z(i(L),{precision:Q})},"Array, Object"(k,L){return Z(i(k),L)},Matrix:function(L){return Z(L,{matricize:!0})},"Matrix, number|BigNumber":function(L,Q){return Z(L,{precision:Q,matricize:!0})},"Matrix, Object":function(L,Q){var K={matricize:!0};return Ue(K,Q),Z(L,K)}});function Z(k){var L,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K="eigenvectors"in Q?Q.eigenvectors:!0,G=(L=Q.precision)!==null&&L!==void 0?L:e.relTol,ur=W(k,G,K);return Q.matricize&&(ur.values=i(ur.values),K&&(ur.eigenvectors=ur.eigenvectors.map(rr=>{var{value:or,vector:cr}=rr;return{value:or,vector:i(cr)}}))),K&&Object.defineProperty(ur,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ur}function W(k,L,Q){var K=k.toArray(),G=k.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: ".concat(Or(G),")"));var ur=G[0];if(R(K,ur,L)&&(V(K,ur),U(K,ur,L))){var rr=nr(k,K,ur);return q(K,ur,L,rr,Q)}var or=nr(k,K,ur);return T(K,ur,L,or,Q)}function U(k,L,Q){for(var K=0;K<L;K++)for(var G=K;G<L;G++)if(m(d(p(u(k[K][G],k[G][K]))),Q))return!1;return!0}function R(k,L,Q){for(var K=0;K<L;K++)for(var G=0;G<L;G++)if(m(d(p(O(k[K][G]))),Q))return!1;return!0}function V(k,L){for(var Q=0;Q<L;Q++)for(var K=0;K<L;K++)k[Q][K]=z(k[Q][K])}function nr(k,L,Q){var K=k.datatype();if(K==="number"||K==="BigNumber"||K==="Complex")return K;for(var G=!1,ur=!1,rr=!1,or=0;or<Q;or++)for(var cr=0;cr<Q;cr++){var pr=L[or][cr];if(Br(pr)||jt(pr))G=!0;else if(Ir(pr))ur=!0;else if(kt(pr))rr=!0;else throw TypeError("Unsupported type in Matrix: "+ue(pr))}if(ur&&rr&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),rr){for(var Dr=0;Dr<Q;Dr++)for(var gr=0;gr<Q;gr++)L[Dr][gr]=A(L[Dr][gr]);return"Complex"}if(ur){for(var lr=0;lr<Q;lr++)for(var Ar=0;Ar<Q;Ar++)L[lr][Ar]=d(L[lr][Ar]);return"BigNumber"}if(G){for(var yr=0;yr<Q;yr++)for(var Cr=0;Cr<Q;Cr++)L[yr][Cr]=F(L[yr][Cr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Ye=is({config:Gr}),Ot=ss({}),It=ms({}),on=ys({}),Ur=_s({Matrix:on}),sr=uo({BigNumber:Ye,Complex:Ot,DenseMatrix:Ur,Fraction:It}),tt=vf({typed:sr}),Ce=pf({typed:sr}),Ol=Oc({typed:sr}),sn=rf({Complex:Ot,typed:sr}),$t=t0({typed:sr}),Il=$c({typed:sr}),jr=Us({config:Gr,typed:sr}),$l=m0({typed:sr}),ql=i0({typed:sr}),Ma=Ts({typed:sr}),Pl=Is({config:Gr,typed:sr}),Sa=qs({equalScalar:jr,typed:sr}),he=Vf({typed:sr}),fn=Qs({typed:sr}),Rl=u0({typed:sr}),Ul=Xf({BigNumber:Ye,Fraction:It,complex:sn,typed:sr}),Ll=Pc({typed:sr}),Ge=Vs({Matrix:on,equalScalar:jr,typed:sr}),xe=mf({typed:sr}),cn=Hs({BigNumber:Ye,typed:sr}),ln=Wf({Complex:Ot,config:Gr,typed:sr}),nt=cf({typed:sr}),Na=nf({Fraction:It,typed:sr}),mr=uf({DenseMatrix:Ur,Matrix:on,SparseMatrix:Ge,typed:sr}),Zl=L0({bignumber:cn,fraction:Na,number:fn}),Vl=b0({isInteger:Ma,matrix:mr,typed:sr}),qt=S0({matrix:mr,config:Gr,typed:sr}),vn=O0({matrix:mr,typed:sr}),He=P0({BigNumber:Ye,config:Gr,matrix:mr,typed:sr}),be=s0({isInteger:Ma,matrix:mr,typed:sr}),Jl=$0({conj:$t,transpose:vn,typed:sr}),Yl=v0({DenseMatrix:Ur,SparseMatrix:Ge,matrix:mr,typed:sr}),pe=V0({numeric:Zl,typed:sr}),Ba=uc({DenseMatrix:Ur,concat:be,equalScalar:jr,matrix:mr,typed:sr}),hn=p0({matrix:mr,typed:sr}),Pt=g0({BigNumber:Ye,DenseMatrix:Ur,SparseMatrix:Ge,config:Gr,matrix:mr,typed:sr}),Gl=w0({matrix:mr,multiplyScalar:he,typed:sr}),_a=gc({DenseMatrix:Ur,concat:be,config:Gr,matrix:mr,typed:sr}),Xl=X0({DenseMatrix:Ur,divideScalar:pe,equalScalar:jr,matrix:mr,multiplyScalar:he,subtractScalar:xe,typed:sr}),Ql=sf({flatten:hn,matrix:mr,size:qt,typed:sr}),Kl=kc({addScalar:Ce,complex:sn,conj:$t,divideScalar:pe,equal:Ba,identity:Pt,isZero:Sa,matrix:mr,multiplyScalar:he,sign:Ul,sqrt:ln,subtractScalar:xe,typed:sr,unaryMinus:nt,zeros:He}),it=fc({DenseMatrix:Ur,concat:be,config:Gr,matrix:mr,typed:sr}),Xe=kf({DenseMatrix:Ur,concat:be,equalScalar:jr,matrix:mr,subtractScalar:xe,typed:sr,unaryMinus:nt}),xa=K0({DenseMatrix:Ur,divideScalar:pe,equalScalar:jr,matrix:mr,multiplyScalar:he,subtractScalar:xe,typed:sr}),Me=Zc({DenseMatrix:Ur,SparseMatrix:Ge,addScalar:Ce,concat:be,equalScalar:jr,matrix:mr,typed:sr}),Wl=j0({BigNumber:Ye,DenseMatrix:Ur,Fraction:It,concat:be,config:Gr,equalScalar:jr,matrix:mr,typed:sr}),ye=Gc({addScalar:Ce,conj:$t,multiplyScalar:he,size:qt,typed:sr}),Hl=Ec({DenseMatrix:Ur,smaller:it}),pn=bc({ImmutableDenseMatrix:Hl,getMatrixDataType:$l}),Qe=dc({DenseMatrix:Ur,concat:be,config:Gr,matrix:mr,typed:sr}),te=Yf({addScalar:Ce,dot:ye,equalScalar:jr,matrix:mr,multiplyScalar:he,typed:sr}),kl=El({SparseMatrix:Ge,abs:tt,add:Me,divideScalar:pe,larger:Qe,largerEq:_a,multiply:te,subtract:Xe,transpose:vn,typed:sr}),le=B0({add:Me,matrix:mr,typed:sr,zeros:He}),jl=H0({DenseMatrix:Ur,divideScalar:pe,equalScalar:jr,matrix:mr,multiplyScalar:he,subtractScalar:xe,typed:sr}),rv=nc({compare:Wl,typed:sr}),ev=Ml({divideScalar:pe,isZero:Sa,matrix:mr,multiply:te,subtractScalar:xe,typed:sr,unaryMinus:nt}),tv=Nc({larger:Qe,smaller:it}),de=Qc({Index:pn,typed:sr}),nv=vc({DenseMatrix:Ur,concat:be,config:Gr,matrix:mr,typed:sr}),dn=F0({bignumber:cn,matrix:mr,add:Me,config:Gr,isPositive:Pl,larger:Qe,largerEq:_a,smaller:it,smallerEq:nv,typed:sr}),Ta=Uc({DenseMatrix:Ur,Index:pn,compareNatural:rv,size:qt,subset:le,typed:sr}),iv=xc({FibonacciHeap:tv,addScalar:Ce,equalScalar:jr}),av=c0({Index:pn,matrix:mr,range:dn,typed:sr}),za=Nl({abs:tt,addScalar:Ce,det:ev,divideScalar:pe,identity:Pt,matrix:mr,multiply:te,typed:sr,unaryMinus:nt}),uv=Wc({DenseMatrix:Ur,Spa:iv,SparseMatrix:Ge,abs:tt,addScalar:Ce,divideScalar:pe,equalScalar:jr,larger:Qe,matrix:mr,multiplyScalar:he,subtractScalar:xe,typed:sr,unaryMinus:nt}),ov=Y0({Complex:Ot,config:Gr,fraction:Na,identity:Pt,inv:za,matrix:mr,multiply:te,number:fn,typed:sr}),sv=Cl({DenseMatrix:Ur,lsolve:Xl,lup:uv,matrix:mr,slu:kl,typed:sr,usolve:xa}),fv=zl({abs:tt,add:Me,addScalar:Ce,atan:Ol,bignumber:cn,column:av,complex:sn,config:Gr,cos:Il,diag:Yl,divideScalar:pe,dot:ye,equal:Ba,flatten:hn,im:ql,inv:za,larger:Qe,matrix:mr,matrixFromColumns:Ql,multiply:te,multiplyScalar:he,number:fn,qr:Kl,re:Rl,reshape:Vl,sin:Ll,size:qt,smaller:it,sqrt:ln,subtract:Xe,typed:sr,usolve:xa,usolveAll:jl}),Rt=Jc({abs:tt,add:Me,conj:$t,ctranspose:Jl,eigs:fv,equalScalar:jr,larger:Qe,matrix:mr,multiply:te,pow:ov,smaller:it,sqrt:ln,typed:sr});function cv(r){const e=[r[0]*3,r[0]*3+1,r[0]*3+2],t=[r[1]*3,r[1]*3+1,r[1]*3+2];return[...e,...t]}function lv(r){const e=[r[0]*6,r[0]*6+1,r[0]*6+2,r[0]*6+3,r[0]*6+4,r[0]*6+5],t=[r[1]*6,r[1]*6+1,r[1]*6+2,r[1]*6+3,r[1]*6+4,r[1]*6+5];return[...e,...t]}const Oa={0:cv,1:lv};function vv(r,e){let t=[];return r==null||r.forEach((i,n)=>{i[0]&&t.push(n*3),i[1]&&t.push(n*3+1),i[2]&&t.push(n*3+2)}),Ta(dn(0,e),t)}function hv(r,e){let t=[];return r==null||r.forEach((i,n)=>{i[0]&&t.push(n*6),i[1]&&t.push(n*6+1),i[2]&&t.push(n*6+2),i[3]&&t.push(n*6+3),i[4]&&t.push(n*6+4),i[5]&&t.push(n*6+5)}),Ta(dn(0,e),t)}const pv={0:vv,1:hv};function dv(r,e,t){var s,p,c,l;const i=((p=(s=r.sections)==null?void 0:s.get(e))==null?void 0:p.area)||0,n=((l=(c=r.materials)==null?void 0:c.get(e))==null?void 0:l.elasticity)||0;let u=mr([[1,-1],[-1,1]]);return te(u,n*i/t)}function mv(r,e,t){var v,d,h,g,m,E,y,F,A,D,b,C;const i=((d=(v=r.sections)==null?void 0:v.get(e))==null?void 0:d.momentOfInertiaZ)||0,n=((g=(h=r.sections)==null?void 0:h.get(e))==null?void 0:g.momentOfInertiaY)||0,u=((E=(m=r.materials)==null?void 0:m.get(e))==null?void 0:E.elasticity)||0,s=((F=(y=r.sections)==null?void 0:y.get(e))==null?void 0:F.area)||0,p=((D=(A=r.materials)==null?void 0:A.get(e))==null?void 0:D.shearModulus)||0,c=((C=(b=r.sections)==null?void 0:b.get(e))==null?void 0:C.torsionalConstant)||0,l=u*s/t,o=u*i/t**3,a=u*n/t**3,f=p*c/t;return mr([[l,0,0,0,0,0,-l,0,0,0,0,0],[0,12*o,0,0,0,6*t*o,0,-12*o,0,0,0,6*t*o],[0,0,12*a,0,-6*t*a,0,0,0,-12*a,0,-6*t*a,0],[0,0,0,f,0,0,0,0,0,-f,0,0],[0,0,-6*t*a,0,4*a*t**2,0,0,0,6*t*a,0,2*a*t**2,0],[0,6*t*o,0,0,0,4*o*t**2,0,-6*t*o,0,0,0,2*o*t**2],[-l,0,0,0,0,0,l,0,0,0,0,0],[0,-12*o,0,0,0,-6*o*t,0,12*o,0,0,0,-6*o*t],[0,0,-12*a,0,6*t*a,0,0,0,12*a,0,6*t*a,0],[0,0,0,-f,0,0,0,0,0,f,0,0],[0,0,-6*t*a,0,2*a*t**2,0,0,0,6*t*a,0,4*a*t**2,0],[0,6*t*o,0,0,0,2*o*t**2,0,-6*t*o,0,0,0,4*o*t**2]])}const Ia={0:dv,1:mv};function Dv(r,e){const t=Xe(e,r),i=Rt(t),n=ye(t,mr([1,0,0]))/i,u=ye(t,mr([0,1,0]))/i,s=ye(t,mr([0,0,1]))/i;return mr([[n,u,s,0,0,0],[0,0,0,n,u,s]])}function gv(r,e){const t=Xe(e,r),i=Rt(t),n=ye(t,mr([1,0,0]))/i,u=ye(t,mr([0,1,0]))/i,s=ye(t,mr([0,0,1]))/i,p=Math.sqrt(n**2+u**2);let c=mr([[n,u,s],[-u/p,n/p,0],[-n*s/p,-u*s/p,p]]);return s===1&&(c=mr([[0,0,1],[0,1,0],[-1,0,0]])),s===-1&&(c=mr([[0,0,-1],[0,1,0],[1,0,0]])),Gl(Pt(4),c)}const $a={0:Dv,1:gv};function yv(r,e,t,i){var v;const n=r.length*(i===0?3:6);let u=He(n,n);e.forEach((d,h)=>{const g=r[d[0]],m=r[d[1]],E=Rt(Xe(m,g)),y=Ia[i](t,h,E),F=$a[i](g,m),A=te(vn(F),te(y,F)),D=Oa[i](d),b=le(u,de(D,D));u=le(u,de(D,D),Me(b,A))});let s=He([n]);(v=t.pointLoads)==null||v.forEach((d,h)=>{const g={0:[h*3,h*3+1,h*3+2],1:[h*6,h*6+1,h*6+2,h*6+3,h*6+4,h*6+5]},m=le(s,de(g[i]));s=le(s,de(g[i]),Me(m,i==0?d.slice(0,3):d))});const p=pv[i](t.pointSupports,n),c=le(s,de(p)),l=le(u,de(p,p)),o=sv(l,c),a=le(He(n),de(p),hn(o));let f=te(u,a);return{deformations:a.toArray(),reactions:f.toArray()}}function wv(r,e,t){var c;let i=0;const n=(c=t.sections)==null?void 0:c.values().next().value;("momentOfInertiaZ"in n||"momentOfInertiaZ"in n)&&(i=1);const{deformations:u,reactions:s}=yv(r,e,t,i),p={nodes:new Map,elements:new Map};return r.forEach((l,o)=>{var d,h;const a={0:[u[o*3],u[o*3+1],u[o*3+2],0,0,0],1:[u[o*6],u[o*6+1],u[o*6+2],u[o*6+3],u[o*6+4],u[o*6+5]]},f={0:[s[o*3],s[o*3+1],s[o*3+2],0,0,0],1:[s[o*6],s[o*6+1],s[o*6+2],s[o*6+3],s[o*6+4],s[o*6+5]]},v=(d=t.pointSupports)==null?void 0:d.get(o);(h=p.nodes)==null||h.set(o,{deformation:a[i],...v&&{reaction:f[i]}})}),e.forEach((l,o)=>{var F;const a=r[l[0]],f=r[l[1]],v=Rt(Xe(f,a)),d=le(u,de(Oa[i](l))),h=$a[i](a,f),g=te(h,d),m=Ia[i](t,o,v);let E=te(m,g).toArray();const y={0:{normal:[-E[0],-E[0]]},1:{normal:[E[0],E[6]],shearY:[E[1],E[7]],shearZ:[E[2],E[8]],torsion:[E[3],E[9]],bendingY:[E[4],E[10]],bendingZ:[E[5],E[11]]}};(F=p.elements)==null||F.set(o,y[i])}),p}export{wv as a};
