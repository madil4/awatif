import{s as _,n as N,d as G,k as o0,i as c0,a as W,c as X,z as t0,t as r0,m as Y,b as A0,e as P0,f as m,g as p,l as b0,h as v0}from"./pureFunctionsAny.generated-BITz6FsS.js";function E0(r){if(r.length===2)return F0(r[0],r[1]);if(r.length===3)return H0(r[0],r[1],r[2])}function F0(r,o){const s=_(o,r),g=N(s),a=G(s,[1,0,0])/g,E=G(s,[0,1,0])/g,y=G(s,[0,0,1])/g,f=Math.sqrt(a**2+E**2);let i=[[a,E,y],[-E/f,a/f,0],[-a*y/f,-E*y/f,f]];return y===1&&(i=[[0,0,1],[0,1,0],[-1,0,0]]),y===-1&&(i=[[0,0,-1],[0,1,0],[1,0,0]]),o0(c0(4),i).toArray()}function H0(r,o,s){const g=h([o,s]),a=h([r,s]),E=h([r,o]),y=W(_(g,a),N(_(g,a))),f=W(_(s,E),N(_(g,a))),i=W(X(y,f),N(X(y,f))),n=W(X(i,y),N(X(i,y))),L=[[y[0],n[0],i[0]],[y[1],n[1],i[1]],[y[2],n[2],i[2]]];return o0(c0(6),L).toArray();function h(b){const T=b.reduce((S,H)=>[S[0]+H[0],S[1]+H[1],S[2]+H[2]],[0,0,0]),D=b.length;return[T[0]/D,T[1]/D,T[2]/D]}}function u0(r,o,s){if(r.length===2)return B0(r,o,s);if(r.length===3)return M0(r,o,s)}function B0(r,o,s){var D,S,H,J,j,Z;const g=((D=o==null?void 0:o.momentsOfInertiaZ)==null?void 0:D.get(s))??0,a=((S=o==null?void 0:o.momentsOfInertiaY)==null?void 0:S.get(s))??0,E=((H=o==null?void 0:o.elasticities)==null?void 0:H.get(s))??0,y=((J=o==null?void 0:o.areas)==null?void 0:J.get(s))??0,f=((j=o==null?void 0:o.shearModuli)==null?void 0:j.get(s))??0,i=((Z=o==null?void 0:o.torsionalConstants)==null?void 0:Z.get(s))??0,n=N(_(r[0],r[1])),L=E*y/n,h=E*g/n**3,b=E*a/n**3,T=f*i/n;return[[L,0,0,0,0,0,-L,0,0,0,0,0],[0,12*h,0,0,0,6*n*h,0,-12*h,0,0,0,6*n*h],[0,0,12*b,0,-6*n*b,0,0,0,-12*b,0,-6*n*b,0],[0,0,0,T,0,0,0,0,0,-T,0,0],[0,0,-6*n*b,0,4*b*n**2,0,0,0,6*n*b,0,2*b*n**2,0],[0,6*n*h,0,0,0,4*h*n**2,0,-6*n*h,0,0,0,2*h*n**2],[-L,0,0,0,0,0,L,0,0,0,0,0],[0,-12*h,0,0,0,-6*h*n,0,12*h,0,0,0,-6*h*n],[0,0,-12*b,0,6*n*b,0,0,0,12*b,0,6*n*b,0],[0,0,0,-T,0,0,0,0,0,T,0,0],[0,0,-6*n*b,0,2*b*n**2,0,0,0,6*n*b,0,4*b*n**2,0],[0,6*n*h,0,0,0,2*h*n**2,0,-6*n*h,0,0,0,4*h*n**2]]}function M0(r,o,s){var I,e,k;const g=((I=o==null?void 0:o.elasticities)==null?void 0:I.get(s))??0,a=((e=o==null?void 0:o.poissonsRatios)==null?void 0:e.get(s))??0,E=((k=o==null?void 0:o.thicknesses)==null?void 0:k.get(s))??0,[y,f]=[r[0][0],r[0][1]],[i,n]=[r[1][0],r[1][1]],[L,h]=[r[2][0],r[2][1]],b=n0(g,a,E),T=y*(n-h)+i*(h-f)+L*(f-n),D=.5*Math.abs(T),S=[[.5,0,1/3],[0,.5,1/3],[.5,.5,1/3]];let H=t0(9,9);for(const[t,c,q]of S){const u=f0(t,c,y,f,i,n,L,h),A=r0(u),B=2*D*q,v=Y(A,b),P=Y(v,u),F=Y(B,P);H=A0(H,F)}return i0(H.toArray());function J(t,c,q,u,A,B){const v=t-q,P=c-u,F=q-A,M=u-B,l=A-t,w=B-c,C=v*v+P*P,K=F*F+M*M,R=l*l+w*w,Q=-6*F/K,U=-6*l/R,V=-6*v/C,O=3*F*M/K,z=3*l*w/R,$=3*v*P/C,x=3*(M*M)/K,d=3*(w*w)/R,g0=3*(P*P)/C,h0=-6*M/K,y0=-6*w/R,q0=-6*P/C;return{x12:v,y12:P,x23:F,y23:M,x31:l,y31:w,l12:C,l23:K,l31:R,P4:Q,P5:U,P6:V,q4:O,q5:z,q6:$,r4:x,r5:d,r6:g0,t4:h0,t5:y0,t6:q0}}function j(t,c,q){const{P5:u,P6:A,q5:B,q6:v,r5:P,r6:F}=q;return[A*(1-2*t)+(u-A)*c,v*(1-2*t)-(B+v)*c,-4+6*(t+c)+F*(1-2*t)-c*(P+F),-A*(1-2*t)+c*(q.P4+A),v*(1-2*t)-c*(v-q.q4),-2+6*t+F*(1-2*t)+c*(q.r4-F),-c*(u+q.P4),c*(q.q4-B),-c*(P-q.r4)]}function Z(t,c,q){const{t5:u,t6:A,r5:B,r6:v,q5:P,q6:F}=q;return[A*(1-2*t)+c*(u-A),1+v*(1-2*t)-c*(B+v),-F*(1-2*t)+c*(P+F),-A*(1-2*t)+c*(q.t4+A),-1+v*(1-2*t)+c*(q.r4-v),-F*(1-2*t)-c*(q.q4-F),-c*(q.t4+u),c*(q.r4-B),-c*(q.q4-P)]}function s0(t,c,q){const{P4:u,P5:A,P6:B,q4:v,q5:P,q6:F,r4:M,r5:l,r6:w}=q;return[-A*(1-2*c)-t*(B-A),P*(1-2*c)-t*(P+F),-4+6*(t+c)+l*(1-2*c)-t*(l+w),t*(u+B),t*(v-F),-t*(w-M),A*(1-2*c)-t*(u+A),P*(1-2*c)+t*(v-P),-2+6*c+l*(1-2*c)+t*(M-l)]}function a0(t,c,q){const{t4:u,t5:A,t6:B,r4:v,r5:P,r6:F,q4:M,q5:l,q6:w}=q;return[-A*(1-2*c)-t*(B-A),1+P*(1-2*c)-t*(P+F),-l*(1-2*c)+t*(l+w),t*(u+B),t*(v-F),-t*(M-w),A*(1-2*c)-t*(u+A),-1+P*(1-2*c)+t*(v-P),-l*(1-2*c)-t*(M-l)]}function f0(t,c,q,u,A,B,v,P){const F=q*(B-P)+A*(P-u)+v*(u-B),M=J(q,u,A,B,v,P),l=j(t,c,M),w=s0(t,c,M),C=Z(t,c,M),K=a0(t,c,M),{x31:R,y31:Q,x12:U,y12:V}=M;let O=t0(3,9);for(let z=0;z<9;z++){const $=(Q*l[z]+V*w[z])/F;O.set([0,z],$);const x=(-R*C[z]-U*K[z])/F;O.set([1,z],x);const d=(-R*l[z]-U*w[z]+Q*C[z]+V*K[z])/F;O.set([2,z],d)}return O}function n0(t,c,q){const u=t*q**3/(12*(1-c*c)),A=[[1,c,0],[c,1,0],[0,0,(1-c)/2]].map(B=>B.map(v=>v*u));return P0(A)}function i0(t){return[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[0][0],t[0][2],t[0][1],0,0,0,t[0][3],t[0][5],t[0][4],0,0,0,t[0][6],t[0][8],t[0][7],0],[0,0,t[2][0],t[2][2],t[2][1],0,0,0,t[2][3],t[2][5],t[2][4],0,0,0,t[2][6],t[2][8],t[2][7],0],[0,0,t[1][0],t[1][2],t[1][1],0,0,0,t[1][3],t[1][5],t[1][4],0,0,0,t[1][6],t[1][8],t[1][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[3][0],t[3][2],t[3][1],0,0,0,t[3][3],t[3][5],t[3][4],0,0,0,t[3][6],t[3][8],t[3][7],0],[0,0,t[5][0],t[5][2],t[5][1],0,0,0,t[5][3],t[5][5],t[5][4],0,0,0,t[5][6],t[5][8],t[5][7],0],[0,0,t[4][0],t[4][2],t[4][1],0,0,0,t[4][3],t[4][5],t[4][4],0,0,0,t[4][6],t[4][8],t[4][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,t[6][0],t[6][2],t[6][1],0,0,0,t[6][3],t[6][5],t[6][4],0,0,0,t[6][6],t[6][8],t[6][7],0],[0,0,t[8][0],t[8][2],t[8][1],0,0,0,t[8][3],t[8][5],t[8][4],0,0,0,t[8][6],t[8][8],t[8][7],0],[0,0,t[7][0],t[7][2],t[7][1],0,0,0,t[7][3],t[7][5],t[7][4],0,0,0,t[7][6],t[7][8],t[7][7],0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}}function l0(r,o,s,g){let a=Array(g).fill(0).map(()=>Array(g).fill(0));return o.forEach((E,y)=>{const f=E.map(h=>r[h]),i=u0(f,s,y),n=E0(f),L=Y(r0(n),Y(i,n));a=w0(a,L,E)}),a}function w0(r,o,s){const g=s.length===3,a=6*s[0],E=6*s[1],y=g?6*s[2]:void 0;for(let f=0;f<6;f++)for(let i=0;i<6;i++)r[a+f][a+i]+=o[f][i],r[E+f][a+i]+=o[f+6][i],g&&(r[y+f][a+i]+=o[f+12][i]),r[a+f][E+i]+=o[f][i+6],r[E+f][E+i]+=o[f+6][i+6],g&&(r[y+f][E+i]+=o[f+12][i+6]),g&&(r[a+f][y+i]+=o[f][i+12],r[E+f][y+i]+=o[f+6][i+12],r[y+f][y+i]+=o[f+12][i+12]);return r}function D0(r,o,s,g){const a=r.length*6;if(a===0)return;const E=z0(s.supports,a),y=L0(s.loads,a),f=l0(r,o,g,a),i=m(y,p(E)),n=m(f,p(E,E)),L=b0(n,i),h=m(Array(a).fill(0),p(E),v0(L)),b=Y(f,h),T=new Map,D=new Map;return r.forEach((S,H)=>{var j;const J=(j=s.supports)==null?void 0:j.get(H);T.set(H,[h[H*6],h[H*6+1],h[H*6+2],h[H*6+3],h[H*6+4],h[H*6+5]]),J&&D.set(H,[b[H*6],b[H*6+1],b[H*6+2],b[H*6+3],b[H*6+4],b[H*6+5]])}),{deformations:T,reactions:D}}function z0(r,o){const s=[];return r==null||r.forEach((g,a)=>{g[0]&&s.push(a*6),g[1]&&s.push(a*6+1),g[2]&&s.push(a*6+2),g[3]&&s.push(a*6+3),g[4]&&s.push(a*6+4),g[5]&&s.push(a*6+5)}),Array(o).fill(0).map((g,a)=>a).filter(g=>!s.includes(g))}function L0(r,o){const s=Array(o).fill(0);return r==null||r.forEach((g,a)=>{s[a*6]=g[0],s[a*6+1]=g[1],s[a*6+2]=g[2],s[a*6+3]=g[3],s[a*6+4]=g[4],s[a*6+5]=g[5]}),s}export{u0 as a,D0 as d,E0 as g};
