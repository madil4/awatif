import{d as k,v as o,a as x,g as C}from"./styles-fAu9ATwT.js";import{p as T}from"./parameters-BXCk-peK.js";function F({onToolbarClick:t}){const n=document.createElement("div");return n.id="drawing-toolbar",new k({name:"toolbar",box:n,items:[{type:"radio",id:"1st-floor",text:"1st Floor",checked:!0},{type:"radio",id:"2nd-floor",text:"2nd Floor"}],onClick(a){t(a.target)}}),n}const m=o.state([]),v=o.state([]),d=o.state([[5,5,0],[10,15,0],[15,10,0]]),h=o.state([[10,2,5],[2,2,5],[2,10,5],[7,10,5]]),y=o.state([]),w=o.state([[0,1,2,3],[]]),i=o.state([]),p=o.state([]),E={width:{value:o.state(2),min:.5,max:5,step:.1}},b=o.state({position:[10,10,0],rotation:[Math.PI/2,0,0]}),g=5;i.val=d.val;let f="1st-floor";function N(t){f=t,b.val={position:[10,10,t==="1st-floor"?0:g],rotation:[Math.PI/2,0,0]},i.val=t==="1st-floor"?d.val:h.val,p.val=t==="1st-floor"?y.val:w.val}o.derive(()=>{f=="1st-floor"&&(d.val=i.val,y.val=p.val),f=="2nd-floor"&&(h.val=i.val,w.val=p.val)});o.derive(()=>{m.val=[],v.val=[];const t=[],n=[];d.val.forEach((s,r)=>{const{columnNodes:c,columnElements:u}=P(r*4,s,g,E.width.value.val);t.push(...c),n.push(...u)});const a=[];h.val.forEach((s,r)=>{a.push(s)});const l=[],e=t.length;w.val.forEach((s,r)=>{const c=s.map(u=>e+u);l.push(c)}),m.val=[...m.rawVal,...t,...a],v.val=[...v.rawVal,...n,...l]});document.body.append(T(E),x({structure:{nodes:m,elements:v},drawingObj:{points:i,polylines:p,gridTarget:b}}),F({onToolbarClick:N}),C({sourceCode:"https://github.com/madil4/awatif/blob/main/examples/src/1d-mesh/main.ts",author:"https://www.linkedin.com/in/madil4/"}));function P(t,n,a,l){const e=n[0],s=n[1],r=[n,[e-.5*l,s-.5*l,a],[e+.5*l,s-.5*l,a],[e,s+.5*l,a]],c=[[t,t+1],[t,t+2],[t,t+3]];return{columnNodes:r,columnElements:c}}
