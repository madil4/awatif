function ze(){return ze=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ze.apply(null,arguments)}var Fa={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Nr(r){return typeof r=="number"}function Or(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Yt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Gt(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Ca(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Kr(r){return typeof r=="string"}var Er=Array.isArray;function Sr(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function nt(r){return Array.isArray(r)||Sr(r)}function at(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ne(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ba(r){return r&&r.constructor.prototype.isRange===!0||!1}function gt(r){return r&&r.constructor.prototype.isIndex===!0||!1}function uu(r){return typeof r=="boolean"}function ou(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function su(r){return r&&r.constructor.prototype.isHelp===!0||!1}function fu(r){return typeof r=="function"}function cu(r){return r instanceof Date}function lu(r){return r instanceof RegExp}function Qt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Yt(r)&&!Gt(r))}function vu(r){return r===null}function hu(r){return r===void 0}function pu(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function du(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Du(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Au(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Eu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fu(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mu(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function _u(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bu(r){return r&&r.constructor.prototype.isChain===!0||!1}function ee(r){var e=typeof r;return e==="object"?r===null?"null":Or(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Ar(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return Ar(n)});if(r instanceof Date)return new Date(r.valueOf());if(Or(r))return r;if(Qt(r))return xu(r,Ar);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function xu(r,e){var n={};for(var a in r)Ge(r,a)&&(n[a]=e(r[a]));return n}function zu(r,e){for(var n in e)Ge(e,n)&&(r[n]=e[n]);return r}function Te(r,e){var n,a,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(a=0,t=r.length;a<t;a++)if(!Te(r[a],e[a]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!Te(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function Ge(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Tu(r,e){for(var n={},a=0;a<e.length;a++){var t=e[a],u=r[t];u!==void 0&&(n[t]=u)}return n}var Ou=["Matrix","Array"],Iu=["number","BigNumber","Fraction"],Vr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Fa)};ze(Vr,Fa,{MATRIX_OPTIONS:Ou,NUMBER_OPTIONS:Iu});function fn(){return!0}function Xr(){return!1}function Me(){}const cn="Argument is not a typed-function.";function Ma(){function r(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const e=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],n={name:"any",test:fn,isAny:!0};let a,t,u=0,f={createCount:0};function p(_){const x=a.get(_);if(x)return x;let $='Unknown type "'+_+'"';const P=_.toLowerCase();let Q;for(Q of t)if(Q.toLowerCase()===P){$+='. Did you mean "'+Q+'" ?';break}throw new TypeError($)}function c(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const $=x?p(x).index:t.length,P=[];for(let Y=0;Y<_.length;++Y){if(!_[Y]||typeof _[Y].name!="string"||typeof _[Y].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ir=_[Y].name;if(a.has(ir))throw new TypeError('Duplicate type name "'+ir+'"');P.push(ir),a.set(ir,{name:ir,test:_[Y].test,isAny:_[Y].isAny,index:$+Y,conversionsTo:[]})}const Q=t.slice($);t=t.slice(0,$).concat(P).concat(Q);for(let Y=$+P.length;Y<t.length;++Y)a.get(t[Y]).index=Y}function l(){a=new Map,t=[],u=0,c([n],!1)}l(),c(e);function o(){let _;for(_ of t)a.get(_).conversionsTo=[];u=0}function i(_){const x=t.filter($=>{const P=a.get($);return!P.isAny&&P.test(_)});return x.length?x:["any"]}function s(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function h(_,x,$){if(!s(_))throw new TypeError(cn);const P=$&&$.exact,Q=Array.isArray(x)?x.join(","):x,Y=F(Q),ir=m(Y);if(!P||ir in _.signatures){const br=_._typedFunctionData.signatureMap.get(ir);if(br)return br}const tr=Y.length;let ar;if(P){ar=[];let br;for(br in _.signatures)ar.push(_._typedFunctionData.signatureMap.get(br))}else ar=_._typedFunctionData.signatures;for(let br=0;br<tr;++br){const xr=Y[br],Ir=[];let Jr;for(Jr of ar){const Zr=b(Jr.params,br);if(!(!Zr||xr.restParam&&!Zr.restParam)){if(!Zr.hasAny){const kr=y(Zr);if(xr.types.some(jr=>!kr.has(jr.name)))continue}Ir.push(Jr)}}if(ar=Ir,ar.length===0)break}let er;for(er of ar)if(er.params.length<=tr)return er;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+m(Y,", ")+"))")}function D(_,x,$){return h(_,x,$).implementation}function v(_,x){const $=p(x);if($.test(_))return _;const P=$.conversionsTo;if(P.length===0)throw new Error("There are no conversions to "+x+" defined.");for(let Q=0;Q<P.length;Q++)if(p(P[Q].from).test(_))return P[Q].convert(_);throw new Error("Cannot convert "+_+" to "+x)}function m(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map($=>$.name).join(x)}function d(_){const x=_.indexOf("...")===0,P=(x?_.length>3?_.slice(3):"any":_).split("|").map(tr=>p(tr.trim()));let Q=!1,Y=x?"...":"";return{types:P.map(function(tr){return Q=tr.isAny||Q,Y+=tr.name+"|",{name:tr.name,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:null,conversionIndex:-1}}),name:Y.slice(0,-1),hasAny:Q,hasConversion:!1,restParam:x}}function w(_){const x=_.types.map(ir=>ir.name),$=J(x);let P=_.hasAny,Q=_.name;const Y=$.map(function(ir){const tr=p(ir.from);return P=tr.isAny||P,Q+="|"+ir.from,{name:ir.from,typeIndex:tr.index,test:tr.test,isAny:tr.isAny,conversion:ir,conversionIndex:ir.index}});return{types:_.types.concat(Y),name:Q,hasAny:P,hasConversion:Y.length>0,restParam:_.restParam}}function y(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(x=>_.typeSet.add(x.name))),_.typeSet}function F(_){const x=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const $=_.trim();if($==="")return x;const P=$.split(",");for(let Q=0;Q<P.length;++Q){const Y=d(P[Q].trim());if(Y.restParam&&Q!==P.length-1)throw new SyntaxError('Unexpected rest parameter "'+P[Q]+'": only allowed for the last parameter');if(Y.types.length===0)return null;x.push(Y)}return x}function E(_){const x=K(_);return x?x.restParam:!1}function g(_){if(!_||_.types.length===0)return fn;if(_.types.length===1)return p(_.types[0].name).test;if(_.types.length===2){const x=p(_.types[0].name).test,$=p(_.types[1].name).test;return function(Q){return x(Q)||$(Q)}}else{const x=_.types.map(function($){return p($.name).test});return function(P){for(let Q=0;Q<x.length;Q++)if(x[Q](P))return!0;return!1}}}function C(_){let x,$,P;if(E(_)){x=X(_).map(g);const Q=x.length,Y=g(K(_)),ir=function(tr){for(let ar=Q;ar<tr.length;ar++)if(!Y(tr[ar]))return!1;return!0};return function(ar){for(let er=0;er<x.length;er++)if(!x[er](ar[er]))return!1;return ir(ar)&&ar.length>=Q+1}}else return _.length===0?function(Y){return Y.length===0}:_.length===1?($=g(_[0]),function(Y){return $(Y[0])&&Y.length===1}):_.length===2?($=g(_[0]),P=g(_[1]),function(Y){return $(Y[0])&&P(Y[1])&&Y.length===2}):(x=_.map(g),function(Y){for(let ir=0;ir<x.length;ir++)if(!x[ir](Y[ir]))return!1;return Y.length===x.length})}function b(_,x){return x<_.length?_[x]:E(_)?K(_):null}function A(_,x){const $=b(_,x);return $?y($):new Set}function S(_){return _.conversion===null||_.conversion===void 0}function M(_,x){const $=new Set;return _.forEach(P=>{const Q=A(P.params,x);let Y;for(Y of Q)$.add(Y)}),$.has("any")?["any"]:Array.from($)}function N(_,x,$){let P,Q;const Y=_||"unnamed";let ir=$,tr;for(tr=0;tr<x.length;tr++){const xr=[];if(ir.forEach(Ir=>{const Jr=b(Ir.params,tr),Zr=g(Jr);(tr<Ir.params.length||E(Ir.params))&&Zr(x[tr])&&xr.push(Ir)}),xr.length===0){if(Q=M(ir,tr),Q.length>0){const Ir=i(x[tr]);return P=new TypeError("Unexpected type of argument in function "+Y+" (expected: "+Q.join(" or ")+", actual: "+Ir.join(" | ")+", index: "+tr+")"),P.data={category:"wrongType",fn:Y,index:tr,actual:Ir,expected:Q},P}}else ir=xr}const ar=ir.map(function(xr){return E(xr.params)?1/0:xr.params.length});if(x.length<Math.min.apply(null,ar))return Q=M(ir,tr),P=new TypeError("Too few arguments in function "+Y+" (expected: "+Q.join(" or ")+", index: "+x.length+")"),P.data={category:"tooFewArgs",fn:Y,index:x.length,expected:Q},P;const er=Math.max.apply(null,ar);if(x.length>er)return P=new TypeError("Too many arguments in function "+Y+" (expected: "+er+", actual: "+x.length+")"),P.data={category:"tooManyArgs",fn:Y,index:x.length,expectedLength:er},P;const br=[];for(let xr=0;xr<x.length;++xr)br.push(i(x[xr]).join("|"));return P=new TypeError('Arguments of type "'+br.join(", ")+'" do not match any of the defined signatures of function '+Y+"."),P.data={category:"mismatch",actual:br},P}function O(_){let x=t.length+1;for(let $=0;$<_.types.length;$++)S(_.types[$])&&(x=Math.min(x,_.types[$].typeIndex));return x}function T(_){let x=u+1;for(let $=0;$<_.types.length;$++)S(_.types[$])||(x=Math.min(x,_.types[$].conversionIndex));return x}function I(_,x){if(_.hasAny){if(!x.hasAny)return 1}else if(x.hasAny)return-1;if(_.restParam){if(!x.restParam)return 1}else if(x.restParam)return-1;if(_.hasConversion){if(!x.hasConversion)return 1}else if(x.hasConversion)return-1;const $=O(_)-O(x);if($<0)return-1;if($>0)return 1;const P=T(_)-T(x);return P<0?-1:P>0?1:0}function B(_,x){const $=_.params,P=x.params,Q=K($),Y=K(P),ir=E($),tr=E(P);if(ir&&Q.hasAny){if(!tr||!Y.hasAny)return 1}else if(tr&&Y.hasAny)return-1;let ar=0,er=0,br;for(br of $)br.hasAny&&++ar,br.hasConversion&&++er;let xr=0,Ir=0;for(br of P)br.hasAny&&++xr,br.hasConversion&&++Ir;if(ar!==xr)return ar-xr;if(ir&&Q.hasConversion){if(!tr||!Y.hasConversion)return 1}else if(tr&&Y.hasConversion)return-1;if(er!==Ir)return er-Ir;if(ir){if(!tr)return 1}else if(tr)return-1;const Jr=($.length-P.length)*(ir?-1:1);if(Jr!==0)return Jr;const Zr=[];let kr=0;for(let be=0;be<$.length;++be){const je=I($[be],P[be]);Zr.push(je),kr+=je}if(kr!==0)return kr;let jr;for(jr of Zr)if(jr!==0)return jr;return 0}function J(_){if(_.length===0)return[];const x=_.map(p);_.length>1&&x.sort((Q,Y)=>Q.index-Y.index);let $=x[0].conversionsTo;if(_.length===1)return $;$=$.concat([]);const P=new Set(_);for(let Q=1;Q<x.length;++Q){let Y;for(Y of x[Q].conversionsTo)P.has(Y.from)||($.push(Y),P.add(Y.from))}return $}function q(_,x){let $=x;if(_.some(Q=>Q.hasConversion)){const Q=E(_),Y=_.map(z);$=function(){const tr=[],ar=Q?arguments.length-1:arguments.length;for(let er=0;er<ar;er++)tr[er]=Y[er](arguments[er]);return Q&&(tr[ar]=arguments[ar].map(Y[ar])),x.apply(this,tr)}}let P=$;if(E(_)){const Q=_.length-1;P=function(){return $.apply(this,G(arguments,0,Q).concat([G(arguments,Q)]))}}return P}function z(_){let x,$,P,Q;const Y=[],ir=[];switch(_.types.forEach(function(tr){tr.conversion&&(Y.push(p(tr.conversion.from).test),ir.push(tr.conversion.convert))}),ir.length){case 0:return function(ar){return ar};case 1:return x=Y[0],P=ir[0],function(ar){return x(ar)?P(ar):ar};case 2:return x=Y[0],$=Y[1],P=ir[0],Q=ir[1],function(ar){return x(ar)?P(ar):$(ar)?Q(ar):ar};default:return function(ar){for(let er=0;er<ir.length;er++)if(Y[er](ar))return ir[er](ar);return ar}}}function Z(_){function x($,P,Q){if(P<$.length){const Y=$[P];let ir=[];if(Y.restParam){const tr=Y.types.filter(S);tr.length<Y.types.length&&ir.push({types:tr,name:"..."+tr.map(ar=>ar.name).join("|"),hasAny:tr.some(ar=>ar.isAny),hasConversion:!1,restParam:!0}),ir.push(Y)}else ir=Y.types.map(function(tr){return{types:[tr],name:tr.name,hasAny:tr.isAny,hasConversion:tr.conversion,restParam:!1}});return rr(ir,function(tr){return x($,P+1,Q.concat([tr]))})}else return[Q]}return x(_,0,[])}function W(_,x){const $=Math.max(_.length,x.length);for(let tr=0;tr<$;tr++){const ar=A(_,tr),er=A(x,tr);let br=!1,xr;for(xr of er)if(ar.has(xr)){br=!0;break}if(!br)return!1}const P=_.length,Q=x.length,Y=E(_),ir=E(x);return Y?ir?P===Q:Q>=P:ir?P>=Q:P===Q}function U(_){return _.map(x=>Dr(x)?hr(x.referToSelf.callback):mr(x)?fr(x.referTo.references,x.referTo.callback):x)}function R(_,x,$){const P=[];let Q;for(Q of _){let Y=$[Q];if(typeof Y!="number")throw new TypeError('No definition for referenced signature "'+Q+'"');if(Y=x[Y],typeof Y!="function")return!1;P.push(Y)}return P}function V(_,x,$){const P=U(_),Q=new Array(P.length).fill(!1);let Y=!0;for(;Y;){Y=!1;let ir=!0;for(let tr=0;tr<P.length;++tr){if(Q[tr])continue;const ar=P[tr];if(Dr(ar))P[tr]=ar.referToSelf.callback($),P[tr].referToSelf=ar.referToSelf,Q[tr]=!0,ir=!1;else if(mr(ar)){const er=R(ar.referTo.references,P,x);er?(P[tr]=ar.referTo.callback.apply(this,er),P[tr].referTo=ar.referTo,Q[tr]=!0,ir=!1):Y=!0}}if(ir&&Y)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return P}function nr(_){const x=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach($=>{const P=_[$];if(x.test(P.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function k(_,x){if(f.createCount++,Object.keys(x).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&nr(x);const $=[],P=[],Q={},Y=[];let ir;for(ir in x){if(!Object.prototype.hasOwnProperty.call(x,ir))continue;const Cr=F(ir);if(!Cr)continue;$.forEach(function(Je){if(W(Je,Cr))throw new TypeError('Conflicting signatures "'+m(Je)+'" and "'+m(Cr)+'".')}),$.push(Cr);const Yr=P.length;P.push(x[ir]);const au=Cr.map(w);let rt;for(rt of Z(au)){const Je=m(rt);Y.push({params:rt,name:Je,fn:Yr}),rt.every(iu=>!iu.hasConversion)&&(Q[Je]=Yr)}}Y.sort(B);const tr=V(P,Q,Ve);let ar;for(ar in Q)Object.prototype.hasOwnProperty.call(Q,ar)&&(Q[ar]=tr[Q[ar]]);const er=[],br=new Map;for(ar of Y)br.has(ar.name)||(ar.fn=tr[ar.fn],er.push(ar),br.set(ar.name,ar));const xr=er[0]&&er[0].params.length<=2&&!E(er[0].params),Ir=er[1]&&er[1].params.length<=2&&!E(er[1].params),Jr=er[2]&&er[2].params.length<=2&&!E(er[2].params),Zr=er[3]&&er[3].params.length<=2&&!E(er[3].params),kr=er[4]&&er[4].params.length<=2&&!E(er[4].params),jr=er[5]&&er[5].params.length<=2&&!E(er[5].params),be=xr&&Ir&&Jr&&Zr&&kr&&jr;for(let Cr=0;Cr<er.length;++Cr)er[Cr].test=C(er[Cr].params);const je=xr?g(er[0].params[0]):Xr,Bi=Ir?g(er[1].params[0]):Xr,xi=Jr?g(er[2].params[0]):Xr,zi=Zr?g(er[3].params[0]):Xr,Ti=kr?g(er[4].params[0]):Xr,Oi=jr?g(er[5].params[0]):Xr,Ii=xr?g(er[0].params[1]):Xr,$i=Ir?g(er[1].params[1]):Xr,qi=Jr?g(er[2].params[1]):Xr,Pi=Zr?g(er[3].params[1]):Xr,Ri=kr?g(er[4].params[1]):Xr,Ui=jr?g(er[5].params[1]):Xr;for(let Cr=0;Cr<er.length;++Cr)er[Cr].implementation=q(er[Cr].params,er[Cr].fn);const Li=xr?er[0].implementation:Me,Zi=Ir?er[1].implementation:Me,Vi=Jr?er[2].implementation:Me,Ji=Zr?er[3].implementation:Me,Yi=kr?er[4].implementation:Me,Gi=jr?er[5].implementation:Me,Qi=xr?er[0].params.length:-1,Xi=Ir?er[1].params.length:-1,Ki=Jr?er[2].params.length:-1,Wi=Zr?er[3].params.length:-1,Hi=kr?er[4].params.length:-1,ki=jr?er[5].params.length:-1,ji=be?6:0,ru=er.length,eu=er.map(Cr=>Cr.test),tu=er.map(Cr=>Cr.implementation),nu=function(){for(let Yr=ji;Yr<ru;Yr++)if(eu[Yr](arguments))return tu[Yr].apply(this,arguments);return f.onMismatch(_,arguments,er)};function Ve(Cr,Yr){return arguments.length===Qi&&je(Cr)&&Ii(Yr)?Li.apply(this,arguments):arguments.length===Xi&&Bi(Cr)&&$i(Yr)?Zi.apply(this,arguments):arguments.length===Ki&&xi(Cr)&&qi(Yr)?Vi.apply(this,arguments):arguments.length===Wi&&zi(Cr)&&Pi(Yr)?Ji.apply(this,arguments):arguments.length===Hi&&Ti(Cr)&&Ri(Yr)?Yi.apply(this,arguments):arguments.length===ki&&Oi(Cr)&&Ui(Yr)?Gi.apply(this,arguments):nu.apply(this,arguments)}try{Object.defineProperty(Ve,"name",{value:_})}catch{}return Ve.signatures=Q,Ve._typedFunctionData={signatures:er,signatureMap:br},Ve}function L(_,x,$){throw N(_,x,$)}function X(_){return G(_,0,_.length-1)}function K(_){return _[_.length-1]}function G(_,x,$){return Array.prototype.slice.call(_,x,$)}function ur(_,x){for(let $=0;$<_.length;$++)if(x(_[$]))return _[$]}function rr(_,x){return Array.prototype.concat.apply([],_.map(x))}function or(){const _=X(arguments).map($=>m(F($))),x=K(arguments);if(typeof x!="function")throw new TypeError("Callback function expected as last argument");return fr(_,x)}function fr(_,x){return{referTo:{references:_,callback:x}}}function hr(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function mr(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Dr(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function cr(_,x){if(!_)return x;if(x&&x!==_){const $=new Error("Function names do not match (expected: "+_+", actual: "+x+")");throw $.data={actual:x,expected:_},$}return _}function wr(_){let x;for(const $ in _)Object.prototype.hasOwnProperty.call(_,$)&&(s(_[$])||typeof _[$].signature=="string")&&(x=cr(x,_[$].name));return x}function gr(_,x){let $;for($ in x)if(Object.prototype.hasOwnProperty.call(x,$)){if($ in _&&x[$]!==_[$]){const P=new Error('Signature "'+$+'" is defined twice');throw P.data={signature:$,sourceFunction:x[$],destFunction:_[$]},P}_[$]=x[$]}}const Fr=f;f=function(_){const x=typeof _=="string",$=x?1:0;let P=x?_:"";const Q={};for(let Y=$;Y<arguments.length;++Y){const ir=arguments[Y];let tr={},ar;if(typeof ir=="function"?(ar=ir.name,typeof ir.signature=="string"?tr[ir.signature]=ir:s(ir)&&(tr=ir.signatures)):r(ir)&&(tr=ir,x||(ar=wr(ir))),Object.keys(tr).length===0){const er=new TypeError("Argument to 'typed' at index "+Y+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw er.data={index:Y,argument:ir},er}x||(P=cr(P,ar)),gr(Q,tr)}return k(P||"",Q)},f.create=Ma,f.createCount=Fr.createCount,f.onMismatch=L,f.throwMismatchError=L,f.createError=N,f.clear=l,f.clearConversions=o,f.addTypes=c,f._findType=p,f.referTo=or,f.referToSelf=hr,f.convert=v,f.findSignature=h,f.find=D,f.isTypedFunction=s,f.warnAgainstDeprecatedThis=!0,f.addType=function(_,x){let $="any";x!==!1&&a.has("Object")&&($="Object"),f.addTypes([_],$)};function $r(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return f.addConversion=function(_){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};$r(_);const $=p(_.to),P=$.conversionsTo.find(Q=>Q.from===_.from);if(P)if(x&&x.override)f.removeConversion({from:P.from,to:_.to,convert:P.convert});else throw new Error('There is already a conversion from "'+_.from+'" to "'+$.name+'"');$.conversionsTo.push({from:_.from,convert:_.convert,index:u++})},f.addConversions=function(_,x){_.forEach($=>f.addConversion($,x))},f.removeConversion=function(_){$r(_);const x=p(_.to),$=ur(x.conversionsTo,Q=>Q.from===_.from);if(!$)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if($.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const P=x.conversionsTo.indexOf($);x.conversionsTo.splice(P,1)},f.resolve=function(_,x){if(!s(_))throw new TypeError(cn);const $=_._typedFunctionData.signatures;for(let P=0;P<$.length;++P)if($[P].test(x))return $[P];return null},f}const ln=Ma();function _r(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var $u=Math.sign||function(r){return r>0?1:r<0?-1:0};function zt(r,e,n){var a={2:"0b",8:"0o",16:"0x"},t=a[e],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!_r(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!_r(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),u="i".concat(n)}var f="";return r<0&&(r=-r,f="-"),"".concat(f).concat(t).concat(r.toString(e)).concat(u)}function $t(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:n,precision:a,wordSize:t}=Sa(e);switch(n){case"fixed":return Pu(r,a);case"exponential":return Na(r,a);case"engineering":return qu(r,a);case"bin":return zt(r,2,t);case"oct":return zt(r,8,t);case"hex":return zt(r,16,t);case"auto":return Ru(r,a,e).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],f=arguments[4];return u!=="."?u+f:f});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Sa(r){var e="auto",n,a;if(r!==void 0)if(Nr(r))n=r;else if(Or(r))n=r.toNumber();else if(Qt(r))r.precision!==void 0&&(n=vn(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(a=vn(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:n,wordSize:a}}function yt(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],a=e[2],t=parseFloat(e[4]||"0"),u=a.indexOf(".");t+=u!==-1?u-1:a.length-1;var f=a.replace(".","").replace(/^0*/,function(p){return t-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return f.length===0&&(f.push(0),t++),{sign:n,coefficients:f,exponent:t}}function qu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=yt(r),a=wt(n,e),t=a.exponent,u=a.coefficients,f=t%3===0?t:t<0?t-3-t%3:t-t%3;if(Nr(e))for(;e>u.length||t-f+1>u.length;)u.push(0);else for(var p=Math.abs(t-f)-(u.length-1),c=0;c<p;c++)u.push(0);for(var l=Math.abs(t-f),o=1;l>0;)o++,l--;var i=u.slice(o).join(""),s=Nr(e)&&i.length||i.match(/[1-9]/)?"."+i:"",h=u.slice(0,o).join("")+s+"e"+(t>=0?"+":"")+f.toString();return a.sign+h}function Pu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=yt(r),a=typeof e=="number"?wt(n,n.exponent+1+e):n,t=a.coefficients,u=a.exponent+1,f=u+(e||0);return t.length<f&&(t=t.concat(Be(f-t.length))),u<0&&(t=Be(-u+1).concat(t),u=1),u<t.length&&t.splice(u,0,u===0?"0.":"."),a.sign+t.join("")}function Na(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=yt(r),a=e?wt(n,e):n,t=a.coefficients,u=a.exponent;t.length<e&&(t=t.concat(Be(e-t.length)));var f=t.shift();return a.sign+f+(t.length>0?"."+t.join(""):"")+"e"+(u>=0?"+":"")+u}function Ru(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var a=hn(n==null?void 0:n.lowerExp,-3),t=hn(n==null?void 0:n.upperExp,5),u=yt(r),f=e?wt(u,e):u;if(f.exponent<a||f.exponent>=t)return Na(r,e);var p=f.coefficients,c=f.exponent;p.length<e&&(p=p.concat(Be(e-p.length))),p=p.concat(Be(c-p.length+1+(p.length<e?e-p.length:0))),p=Be(-c).concat(p);var l=c>0?c:0;return l<p.length-1&&p.splice(l+1,0,"."),f.sign+p.join("")}function wt(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},a=n.coefficients;e<=0;)a.unshift(0),n.exponent++,e++;if(a.length>e){var t=a.splice(e,a.length-e);if(t[0]>=5){var u=e-1;for(a[u]++;a[u]===10;)a.pop(),u===0&&(a.unshift(0),n.exponent++,u++),u--,a[u]++}}return n}function Be(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function Uu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Lu=Number.EPSILON||2220446049250313e-31;function oe(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var a=Math.abs(r-e);return a<=Lu?!0:a<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function vn(r,e){if(Nr(r))return r;if(Or(r))return r.toNumber();e()}function hn(r,e){return Nr(r)?r:Or(r)?r.toNumber():e}function j(r,e,n,a){function t(u){var f=Tu(u,e.map(Ju));return Zu(r,e,u),n(f)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),a&&(t.meta=a),t}function Zu(r,e,n){var a=e.filter(u=>!Vu(u)).every(u=>n[u]!==void 0);if(!a){var t=e.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Vu(r){return r&&r[0]==="?"}function Ju(r){return r&&r[0]==="?"?r.slice(1):r}function _a(r,e){if(za(r)&&xa(r,e))return r[e];throw typeof r[e]=="function"&&Gu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ba(r,e,n){if(za(r)&&xa(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function Yu(r,e){return e in r}function xa(r,e){return!r||typeof r!="object"?!1:Ge(Qu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Gu(r,e){return r==null||typeof r[e]!="function"||Ge(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Ge(Xu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function za(r){return typeof r=="object"&&r&&r.constructor===Object}var Qu={length:!0,name:!0},Xu={toString:!0,valueOf:!0,toLocaleString:!0};class Ku{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(e){return _a(this.wrappedObject,e)}set(e,n){return Ba(this.wrappedObject,e,n),this}has(e){return Yu(this.wrappedObject,e)}entries(){return Wu(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var n of this.keys())e(this.get(n),n,this)}delete(e){delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Wu(r,e){return{next:()=>{var n=r.next();return n.done?n:{value:e(n.value),done:!1}}}}function Hu(r){return r?r instanceof Map||r instanceof Ku||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ta=function(){return Ta=ln.create,ln},ku=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ju=j("typed",ku,function(e){var{BigNumber:n,Complex:a,DenseMatrix:t,Fraction:u}=e,f=Ta();return f.clear(),f.addTypes([{name:"number",test:Nr},{name:"Complex",test:Yt},{name:"BigNumber",test:Or},{name:"Fraction",test:Gt},{name:"Unit",test:Ca},{name:"identifier",test:p=>Kr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:Kr},{name:"Chain",test:Bu},{name:"Array",test:Er},{name:"Matrix",test:Sr},{name:"DenseMatrix",test:at},{name:"SparseMatrix",test:Ne},{name:"Range",test:ba},{name:"Index",test:gt},{name:"boolean",test:uu},{name:"ResultSet",test:ou},{name:"Help",test:su},{name:"function",test:fu},{name:"Date",test:cu},{name:"RegExp",test:lu},{name:"null",test:vu},{name:"undefined",test:hu},{name:"AccessorNode",test:pu},{name:"ArrayNode",test:du},{name:"AssignmentNode",test:mu},{name:"BlockNode",test:Du},{name:"ConditionalNode",test:gu},{name:"ConstantNode",test:yu},{name:"FunctionNode",test:Au},{name:"FunctionAssignmentNode",test:wu},{name:"IndexNode",test:Eu},{name:"Node",test:Fu},{name:"ObjectNode",test:Cu},{name:"OperatorNode",test:bu},{name:"ParenthesisNode",test:Mu},{name:"RangeNode",test:Su},{name:"RelationalNode",test:Nu},{name:"SymbolNode",test:_u},{name:"Map",test:Hu},{name:"Object",test:Qt}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(n||Tt(c),Uu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new n(c)}},{from:"number",to:"Complex",convert:function(c){return a||et(c),new a(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return a||et(c),new a(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return a||et(c),new a(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||Ot(c);var l=new u(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){n||Tt(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){u||Ot(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){a||et(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return n||Tt(c),new n(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||Ot(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return t||ro(),new t(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(p,c,l)=>{var o=f.createError(p,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&nt(c[0])&&l.some(s=>!s.params.includes(","))){var i=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw i.data=o.data,i}throw o},f.onMismatch=(p,c,l)=>{var o=f.createError(p,c,l);if(["wrongType","mismatch"].includes(o.data.category)&&c.length===1&&nt(c[0])&&l.some(s=>!s.params.includes(","))){var i=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw i.data=o.data,i}throw o},f});function Tt(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function et(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function ro(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ot(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var _e=9e15,me=1e9,qt="0123456789abcdef",it="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ut="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Pt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-_e,maxE:_e,crypto:!1},Oa,ue,pr=!0,At="[DecimalError] ",de=At+"Invalid argument: ",Ia=At+"Precision limit exceeded",$a=At+"crypto unavailable",qa="[object Decimal]",Lr=Math.floor,qr=Math.pow,eo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,to=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,no=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pa=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,te=1e7,vr=7,ao=9007199254740991,io=it.length-1,Rt=ut.length-1,H={toStringTag:qa};H.absoluteValue=H.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),lr(r)};H.ceil=function(){return lr(new this.constructor(this),this.e+1,2)};H.clampedTo=H.clamp=function(r,e){var n,a=this,t=a.constructor;if(r=new t(r),e=new t(e),!r.s||!e.s)return new t(NaN);if(r.gt(e))throw Error(de+e);return n=a.cmp(r),n<0?r:a.cmp(e)>0?e:new t(a)};H.comparedTo=H.cmp=function(r){var e,n,a,t,u=this,f=u.d,p=(r=new u.constructor(r)).d,c=u.s,l=r.s;if(!f||!p)return!c||!l?NaN:c!==l?c:f===p?0:!f^c<0?1:-1;if(!f[0]||!p[0])return f[0]?c:p[0]?-l:0;if(c!==l)return c;if(u.e!==r.e)return u.e>r.e^c<0?1:-1;for(a=f.length,t=p.length,e=0,n=a<t?a:t;e<n;++e)if(f[e]!==p[e])return f[e]>p[e]^c<0?1:-1;return a===t?0:a>t^c<0?1:-1};H.cosine=H.cos=function(){var r,e,n=this,a=n.constructor;return n.d?n.d[0]?(r=a.precision,e=a.rounding,a.precision=r+Math.max(n.e,n.sd())+vr,a.rounding=1,n=uo(a,Va(a,n)),a.precision=r,a.rounding=e,lr(ue==2||ue==3?n.neg():n,r,e,!0)):new a(1):new a(NaN)};H.cubeRoot=H.cbrt=function(){var r,e,n,a,t,u,f,p,c,l,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);for(pr=!1,u=o.s*qr(o.s*o,1/3),!u||Math.abs(u)==1/0?(n=Ur(o.d),r=o.e,(u=(r-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=qr(n,1/3),r=Lr((r+1)/3)-(r%3==(r<0?-1:2)),u==1/0?n="5e"+r:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+r),a=new i(n),a.s=o.s):a=new i(u.toString()),f=(r=i.precision)+3;;)if(p=a,c=p.times(p).times(p),l=c.plus(o),a=Br(l.plus(o).times(p),l.plus(c),f+2,1),Ur(p.d).slice(0,f)===(n=Ur(a.d)).slice(0,f))if(n=n.slice(f-3,f+1),n=="9999"||!t&&n=="4999"){if(!t&&(lr(p,r+1,0),p.times(p).times(p).eq(o))){a=p;break}f+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(lr(a,r+1,1),e=!a.times(a).times(a).eq(o));break}return pr=!0,lr(a,r,i.rounding,e)};H.decimalPlaces=H.dp=function(){var r,e=this.d,n=NaN;if(e){if(r=e.length-1,n=(r-Lr(this.e/vr))*vr,r=e[r],r)for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n};H.dividedBy=H.div=function(r){return Br(this,new this.constructor(r))};H.dividedToIntegerBy=H.divToInt=function(r){var e=this,n=e.constructor;return lr(Br(e,new n(r),0,1,1),n.precision,n.rounding)};H.equals=H.eq=function(r){return this.cmp(r)===0};H.floor=function(){return lr(new this.constructor(this),this.e+1,3)};H.greaterThan=H.gt=function(r){return this.cmp(r)>0};H.greaterThanOrEqualTo=H.gte=function(r){var e=this.cmp(r);return e==1||e===0};H.hyperbolicCosine=H.cosh=function(){var r,e,n,a,t,u=this,f=u.constructor,p=new f(1);if(!u.isFinite())return new f(u.s?1/0:NaN);if(u.isZero())return p;n=f.precision,a=f.rounding,f.precision=n+Math.max(u.e,u.sd())+4,f.rounding=1,t=u.d.length,t<32?(r=Math.ceil(t/3),e=(1/Ft(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),u=Oe(f,1,u.times(e),new f(1),!0);for(var c,l=r,o=new f(8);l--;)c=u.times(u),u=p.minus(c.times(o.minus(c.times(o))));return lr(u,f.precision=n,f.rounding=a,!0)};H.hyperbolicSine=H.sinh=function(){var r,e,n,a,t=this,u=t.constructor;if(!t.isFinite()||t.isZero())return new u(t);if(e=u.precision,n=u.rounding,u.precision=e+Math.max(t.e,t.sd())+4,u.rounding=1,a=t.d.length,a<3)t=Oe(u,2,t,t,!0);else{r=1.4*Math.sqrt(a),r=r>16?16:r|0,t=t.times(1/Ft(5,r)),t=Oe(u,2,t,t,!0);for(var f,p=new u(5),c=new u(16),l=new u(20);r--;)f=t.times(t),t=t.times(p.plus(f.times(c.times(f).plus(l))))}return u.precision=e,u.rounding=n,lr(t,e,n,!0)};H.hyperbolicTangent=H.tanh=function(){var r,e,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(r=a.precision,e=a.rounding,a.precision=r+7,a.rounding=1,Br(n.sinh(),n.cosh(),a.precision=r,a.rounding=e)):new a(n.s)};H.inverseCosine=H.acos=function(){var r,e=this,n=e.constructor,a=e.abs().cmp(1),t=n.precision,u=n.rounding;return a!==-1?a===0?e.isNeg()?re(n,t,u):new n(0):new n(NaN):e.isZero()?re(n,t+4,u).times(.5):(n.precision=t+6,n.rounding=1,e=e.asin(),r=re(n,t+4,u).times(.5),n.precision=t,n.rounding=u,r.minus(e))};H.inverseHyperbolicCosine=H.acosh=function(){var r,e,n=this,a=n.constructor;return n.lte(1)?new a(n.eq(1)?0:NaN):n.isFinite()?(r=a.precision,e=a.rounding,a.precision=r+Math.max(Math.abs(n.e),n.sd())+4,a.rounding=1,pr=!1,n=n.times(n).minus(1).sqrt().plus(n),pr=!0,a.precision=r,a.rounding=e,n.ln()):new a(n)};H.inverseHyperbolicSine=H.asinh=function(){var r,e,n=this,a=n.constructor;return!n.isFinite()||n.isZero()?new a(n):(r=a.precision,e=a.rounding,a.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,a.rounding=1,pr=!1,n=n.times(n).plus(1).sqrt().plus(n),pr=!0,a.precision=r,a.rounding=e,n.ln())};H.inverseHyperbolicTangent=H.atanh=function(){var r,e,n,a,t=this,u=t.constructor;return t.isFinite()?t.e>=0?new u(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(r=u.precision,e=u.rounding,a=t.sd(),Math.max(a,r)<2*-t.e-1?lr(new u(t),r,e,!0):(u.precision=n=a-t.e,t=Br(t.plus(1),new u(1).minus(t),n+r,1),u.precision=r+4,u.rounding=1,t=t.ln(),u.precision=r,u.rounding=e,t.times(.5))):new u(NaN)};H.inverseSine=H.asin=function(){var r,e,n,a,t=this,u=t.constructor;return t.isZero()?new u(t):(e=t.abs().cmp(1),n=u.precision,a=u.rounding,e!==-1?e===0?(r=re(u,n+4,a).times(.5),r.s=t.s,r):new u(NaN):(u.precision=n+6,u.rounding=1,t=t.div(new u(1).minus(t.times(t)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=a,t.times(2)))};H.inverseTangent=H.atan=function(){var r,e,n,a,t,u,f,p,c,l=this,o=l.constructor,i=o.precision,s=o.rounding;if(l.isFinite()){if(l.isZero())return new o(l);if(l.abs().eq(1)&&i+4<=Rt)return f=re(o,i+4,s).times(.25),f.s=l.s,f}else{if(!l.s)return new o(NaN);if(i+4<=Rt)return f=re(o,i+4,s).times(.5),f.s=l.s,f}for(o.precision=p=i+10,o.rounding=1,n=Math.min(28,p/vr+2|0),r=n;r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(pr=!1,e=Math.ceil(p/vr),a=1,c=l.times(l),f=new o(l),t=l;r!==-1;)if(t=t.times(c),u=f.minus(t.div(a+=2)),t=t.times(c),f=u.plus(t.div(a+=2)),f.d[e]!==void 0)for(r=e;f.d[r]===u.d[r]&&r--;);return n&&(f=f.times(2<<n-1)),pr=!0,lr(f,o.precision=i,o.rounding=s,!0)};H.isFinite=function(){return!!this.d};H.isInteger=H.isInt=function(){return!!this.d&&Lr(this.e/vr)>this.d.length-2};H.isNaN=function(){return!this.s};H.isNegative=H.isNeg=function(){return this.s<0};H.isPositive=H.isPos=function(){return this.s>0};H.isZero=function(){return!!this.d&&this.d[0]===0};H.lessThan=H.lt=function(r){return this.cmp(r)<0};H.lessThanOrEqualTo=H.lte=function(r){return this.cmp(r)<1};H.logarithm=H.log=function(r){var e,n,a,t,u,f,p,c,l=this,o=l.constructor,i=o.precision,s=o.rounding,h=5;if(r==null)r=new o(10),e=!0;else{if(r=new o(r),n=r.d,r.s<0||!n||!n[0]||r.eq(1))return new o(NaN);e=r.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new o(n&&!n[0]?-1/0:l.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)u=!0;else{for(t=n[0];t%10===0;)t/=10;u=t!==1}if(pr=!1,p=i+h,f=he(l,p),a=e?ot(o,p+10):he(r,p),c=Br(f,a,p,1),Qe(c.d,t=i,s))do if(p+=10,f=he(l,p),a=e?ot(o,p+10):he(r,p),c=Br(f,a,p,1),!u){+Ur(c.d).slice(t+1,t+15)+1==1e14&&(c=lr(c,i+1,0));break}while(Qe(c.d,t+=10,s));return pr=!0,lr(c,i,s)};H.minus=H.sub=function(r){var e,n,a,t,u,f,p,c,l,o,i,s,h=this,D=h.constructor;if(r=new D(r),!h.d||!r.d)return!h.s||!r.s?r=new D(NaN):h.d?r.s=-r.s:r=new D(r.d||h.s!==r.s?h:NaN),r;if(h.s!=r.s)return r.s=-r.s,h.plus(r);if(l=h.d,s=r.d,p=D.precision,c=D.rounding,!l[0]||!s[0]){if(s[0])r.s=-r.s;else if(l[0])r=new D(h);else return new D(c===3?-0:0);return pr?lr(r,p,c):r}if(n=Lr(r.e/vr),o=Lr(h.e/vr),l=l.slice(),u=o-n,u){for(i=u<0,i?(e=l,u=-u,f=s.length):(e=s,n=o,f=l.length),a=Math.max(Math.ceil(p/vr),f)+2,u>a&&(u=a,e.length=1),e.reverse(),a=u;a--;)e.push(0);e.reverse()}else{for(a=l.length,f=s.length,i=a<f,i&&(f=a),a=0;a<f;a++)if(l[a]!=s[a]){i=l[a]<s[a];break}u=0}for(i&&(e=l,l=s,s=e,r.s=-r.s),f=l.length,a=s.length-f;a>0;--a)l[f++]=0;for(a=s.length;a>u;){if(l[--a]<s[a]){for(t=a;t&&l[--t]===0;)l[t]=te-1;--l[t],l[a]+=te}l[a]-=s[a]}for(;l[--f]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(r.d=l,r.e=Et(l,n),pr?lr(r,p,c):r):new D(c===3?-0:0)};H.modulo=H.mod=function(r){var e,n=this,a=n.constructor;return r=new a(r),!n.d||!r.s||r.d&&!r.d[0]?new a(NaN):!r.d||n.d&&!n.d[0]?lr(new a(n),a.precision,a.rounding):(pr=!1,a.modulo==9?(e=Br(n,r.abs(),0,3,1),e.s*=r.s):e=Br(n,r,0,a.modulo,1),e=e.times(r),pr=!0,n.minus(e))};H.naturalExponential=H.exp=function(){return Ut(this)};H.naturalLogarithm=H.ln=function(){return he(this)};H.negated=H.neg=function(){var r=new this.constructor(this);return r.s=-r.s,lr(r)};H.plus=H.add=function(r){var e,n,a,t,u,f,p,c,l,o,i=this,s=i.constructor;if(r=new s(r),!i.d||!r.d)return!i.s||!r.s?r=new s(NaN):i.d||(r=new s(r.d||i.s===r.s?i:NaN)),r;if(i.s!=r.s)return r.s=-r.s,i.minus(r);if(l=i.d,o=r.d,p=s.precision,c=s.rounding,!l[0]||!o[0])return o[0]||(r=new s(i)),pr?lr(r,p,c):r;if(u=Lr(i.e/vr),a=Lr(r.e/vr),l=l.slice(),t=u-a,t){for(t<0?(n=l,t=-t,f=o.length):(n=o,a=u,f=l.length),u=Math.ceil(p/vr),f=u>f?u+1:f+1,t>f&&(t=f,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(f=l.length,t=o.length,f-t<0&&(t=f,n=o,o=l,l=n),e=0;t;)e=(l[--t]=l[t]+o[t]+e)/te|0,l[t]%=te;for(e&&(l.unshift(e),++a),f=l.length;l[--f]==0;)l.pop();return r.d=l,r.e=Et(l,a),pr?lr(r,p,c):r};H.precision=H.sd=function(r){var e,n=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(de+r);return n.d?(e=Ra(n.d),r&&n.e+1>e&&(e=n.e+1)):e=NaN,e};H.round=function(){var r=this,e=r.constructor;return lr(new e(r),r.e+1,e.rounding)};H.sine=H.sin=function(){var r,e,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(r=a.precision,e=a.rounding,a.precision=r+Math.max(n.e,n.sd())+vr,a.rounding=1,n=so(a,Va(a,n)),a.precision=r,a.rounding=e,lr(ue>2?n.neg():n,r,e,!0)):new a(NaN)};H.squareRoot=H.sqrt=function(){var r,e,n,a,t,u,f=this,p=f.d,c=f.e,l=f.s,o=f.constructor;if(l!==1||!p||!p[0])return new o(!l||l<0&&(!p||p[0])?NaN:p?f:1/0);for(pr=!1,l=Math.sqrt(+f),l==0||l==1/0?(e=Ur(p),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Lr((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),a=new o(e)):a=new o(l.toString()),n=(c=o.precision)+3;;)if(u=a,a=u.plus(Br(f,u,n+2,1)).times(.5),Ur(u.d).slice(0,n)===(e=Ur(a.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!t&&e=="4999"){if(!t&&(lr(u,c+1,0),u.times(u).eq(f))){a=u;break}n+=4,t=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lr(a,c+1,1),r=!a.times(a).eq(f));break}return pr=!0,lr(a,c,o.rounding,r)};H.tangent=H.tan=function(){var r,e,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(r=a.precision,e=a.rounding,a.precision=r+10,a.rounding=1,n=n.sin(),n.s=1,n=Br(n,new a(1).minus(n.times(n)).sqrt(),r+10,0),a.precision=r,a.rounding=e,lr(ue==2||ue==4?n.neg():n,r,e,!0)):new a(NaN)};H.times=H.mul=function(r){var e,n,a,t,u,f,p,c,l,o=this,i=o.constructor,s=o.d,h=(r=new i(r)).d;if(r.s*=o.s,!s||!s[0]||!h||!h[0])return new i(!r.s||s&&!s[0]&&!h||h&&!h[0]&&!s?NaN:!s||!h?r.s/0:r.s*0);for(n=Lr(o.e/vr)+Lr(r.e/vr),c=s.length,l=h.length,c<l&&(u=s,s=h,h=u,f=c,c=l,l=f),u=[],f=c+l,a=f;a--;)u.push(0);for(a=l;--a>=0;){for(e=0,t=c+a;t>a;)p=u[t]+h[a]*s[t-a-1]+e,u[t--]=p%te|0,e=p/te|0;u[t]=(u[t]+e)%te|0}for(;!u[--f];)u.pop();return e?++n:u.shift(),r.d=u,r.e=Et(u,n),pr?lr(r,i.precision,i.rounding):r};H.toBinary=function(r,e){return Xt(this,2,r,e)};H.toDecimalPlaces=H.toDP=function(r,e){var n=this,a=n.constructor;return n=new a(n),r===void 0?n:(Gr(r,0,me),e===void 0?e=a.rounding:Gr(e,0,8),lr(n,r+n.e+1,e))};H.toExponential=function(r,e){var n,a=this,t=a.constructor;return r===void 0?n=ne(a,!0):(Gr(r,0,me),e===void 0?e=t.rounding:Gr(e,0,8),a=lr(new t(a),r+1,e),n=ne(a,!0,r+1)),a.isNeg()&&!a.isZero()?"-"+n:n};H.toFixed=function(r,e){var n,a,t=this,u=t.constructor;return r===void 0?n=ne(t):(Gr(r,0,me),e===void 0?e=u.rounding:Gr(e,0,8),a=lr(new u(t),r+t.e+1,e),n=ne(a,!1,r+a.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};H.toFraction=function(r){var e,n,a,t,u,f,p,c,l,o,i,s,h=this,D=h.d,v=h.constructor;if(!D)return new v(h);if(l=n=new v(1),a=c=new v(0),e=new v(a),u=e.e=Ra(D)-h.e-1,f=u%vr,e.d[0]=qr(10,f<0?vr+f:f),r==null)r=u>0?e:l;else{if(p=new v(r),!p.isInt()||p.lt(l))throw Error(de+p);r=p.gt(e)?u>0?e:l:p}for(pr=!1,p=new v(Ur(D)),o=v.precision,v.precision=u=D.length*vr*2;i=Br(p,e,0,1,1),t=n.plus(i.times(a)),t.cmp(r)!=1;)n=a,a=t,t=l,l=c.plus(i.times(t)),c=t,t=e,e=p.minus(i.times(t)),p=t;return t=Br(r.minus(n),a,0,1,1),c=c.plus(t.times(l)),n=n.plus(t.times(a)),c.s=l.s=h.s,s=Br(l,a,u,1).minus(h).abs().cmp(Br(c,n,u,1).minus(h).abs())<1?[l,a]:[c,n],v.precision=o,pr=!0,s};H.toHexadecimal=H.toHex=function(r,e){return Xt(this,16,r,e)};H.toNearest=function(r,e){var n=this,a=n.constructor;if(n=new a(n),r==null){if(!n.d)return n;r=new a(1),e=a.rounding}else{if(r=new a(r),e===void 0?e=a.rounding:Gr(e,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(pr=!1,n=Br(n,r,0,e,1).times(r),pr=!0,lr(n)):(r.s=n.s,n=r),n};H.toNumber=function(){return+this};H.toOctal=function(r,e){return Xt(this,8,r,e)};H.toPower=H.pow=function(r){var e,n,a,t,u,f,p=this,c=p.constructor,l=+(r=new c(r));if(!p.d||!r.d||!p.d[0]||!r.d[0])return new c(qr(+p,l));if(p=new c(p),p.eq(1))return p;if(a=c.precision,u=c.rounding,r.eq(1))return lr(p,a,u);if(e=Lr(r.e/vr),e>=r.d.length-1&&(n=l<0?-l:l)<=ao)return t=Ua(c,p,n,a),r.s<0?new c(1).div(t):lr(t,a,u);if(f=p.s,f<0){if(e<r.d.length-1)return new c(NaN);if(r.d[e]&1||(f=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=f,p}return n=qr(+p,l),e=n==0||!isFinite(n)?Lr(l*(Math.log("0."+Ur(p.d))/Math.LN10+p.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?f/0:0):(pr=!1,c.rounding=p.s=1,n=Math.min(12,(e+"").length),t=Ut(r.times(he(p,a+n)),a),t.d&&(t=lr(t,a+5,1),Qe(t.d,a,u)&&(e=a+10,t=lr(Ut(r.times(he(p,e+n)),e),e+5,1),+Ur(t.d).slice(a+1,a+15)+1==1e14&&(t=lr(t,a+1,0)))),t.s=f,pr=!0,c.rounding=u,lr(t,a,u))};H.toPrecision=function(r,e){var n,a=this,t=a.constructor;return r===void 0?n=ne(a,a.e<=t.toExpNeg||a.e>=t.toExpPos):(Gr(r,1,me),e===void 0?e=t.rounding:Gr(e,0,8),a=lr(new t(a),r,e),n=ne(a,r<=a.e||a.e<=t.toExpNeg,r)),a.isNeg()&&!a.isZero()?"-"+n:n};H.toSignificantDigits=H.toSD=function(r,e){var n=this,a=n.constructor;return r===void 0?(r=a.precision,e=a.rounding):(Gr(r,1,me),e===void 0?e=a.rounding:Gr(e,0,8)),lr(new a(n),r,e)};H.toString=function(){var r=this,e=r.constructor,n=ne(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n};H.truncated=H.trunc=function(){return lr(new this.constructor(this),this.e+1,1)};H.valueOf=H.toJSON=function(){var r=this,e=r.constructor,n=ne(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+n:n};function Ur(r){var e,n,a,t=r.length-1,u="",f=r[0];if(t>0){for(u+=f,e=1;e<t;e++)a=r[e]+"",n=vr-a.length,n&&(u+=le(n)),u+=a;f=r[e],a=f+"",n=vr-a.length,n&&(u+=le(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return u+f}function Gr(r,e,n){if(r!==~~r||r<e||r>n)throw Error(de+r)}function Qe(r,e,n,a){var t,u,f,p;for(u=r[0];u>=10;u/=10)--e;return--e<0?(e+=vr,t=0):(t=Math.ceil((e+1)/vr),e%=vr),u=qr(10,vr-e),p=r[t]%u|0,a==null?e<3?(e==0?p=p/100|0:e==1&&(p=p/10|0),f=n<4&&p==99999||n>3&&p==49999||p==5e4||p==0):f=(n<4&&p+1==u||n>3&&p+1==u/2)&&(r[t+1]/u/100|0)==qr(10,e-2)-1||(p==u/2||p==0)&&(r[t+1]/u/100|0)==0:e<4?(e==0?p=p/1e3|0:e==1?p=p/100|0:e==2&&(p=p/10|0),f=(a||n<4)&&p==9999||!a&&n>3&&p==4999):f=((a||n<4)&&p+1==u||!a&&n>3&&p+1==u/2)&&(r[t+1]/u/1e3|0)==qr(10,e-3)-1,f}function tt(r,e,n){for(var a,t=[0],u,f=0,p=r.length;f<p;){for(u=t.length;u--;)t[u]*=e;for(t[0]+=qt.indexOf(r.charAt(f++)),a=0;a<t.length;a++)t[a]>n-1&&(t[a+1]===void 0&&(t[a+1]=0),t[a+1]+=t[a]/n|0,t[a]%=n)}return t.reverse()}function uo(r,e){var n,a,t;if(e.isZero())return e;a=e.d.length,a<32?(n=Math.ceil(a/3),t=(1/Ft(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),r.precision+=n,e=Oe(r,1,e.times(t),new r(1));for(var u=n;u--;){var f=e.times(e);e=f.times(f).minus(f).times(8).plus(1)}return r.precision-=n,e}var Br=function(){function r(a,t,u){var f,p=0,c=a.length;for(a=a.slice();c--;)f=a[c]*t+p,a[c]=f%u|0,p=f/u|0;return p&&a.unshift(p),a}function e(a,t,u,f){var p,c;if(u!=f)c=u>f?1:-1;else for(p=c=0;p<u;p++)if(a[p]!=t[p]){c=a[p]>t[p]?1:-1;break}return c}function n(a,t,u,f){for(var p=0;u--;)a[u]-=p,p=a[u]<t[u]?1:0,a[u]=p*f+a[u]-t[u];for(;!a[0]&&a.length>1;)a.shift()}return function(a,t,u,f,p,c){var l,o,i,s,h,D,v,m,d,w,y,F,E,g,C,b,A,S,M,N,O=a.constructor,T=a.s==t.s?1:-1,I=a.d,B=t.d;if(!I||!I[0]||!B||!B[0])return new O(!a.s||!t.s||(I?B&&I[0]==B[0]:!B)?NaN:I&&I[0]==0||!B?T*0:T/0);for(c?(h=1,o=a.e-t.e):(c=te,h=vr,o=Lr(a.e/h)-Lr(t.e/h)),M=B.length,A=I.length,d=new O(T),w=d.d=[],i=0;B[i]==(I[i]||0);i++);if(B[i]>(I[i]||0)&&o--,u==null?(g=u=O.precision,f=O.rounding):p?g=u+(a.e-t.e)+1:g=u,g<0)w.push(1),D=!0;else{if(g=g/h+2|0,i=0,M==1){for(s=0,B=B[0],g++;(i<A||s)&&g--;i++)C=s*c+(I[i]||0),w[i]=C/B|0,s=C%B|0;D=s||i<A}else{for(s=c/(B[0]+1)|0,s>1&&(B=r(B,s,c),I=r(I,s,c),M=B.length,A=I.length),b=M,y=I.slice(0,M),F=y.length;F<M;)y[F++]=0;N=B.slice(),N.unshift(0),S=B[0],B[1]>=c/2&&++S;do s=0,l=e(B,y,M,F),l<0?(E=y[0],M!=F&&(E=E*c+(y[1]||0)),s=E/S|0,s>1?(s>=c&&(s=c-1),v=r(B,s,c),m=v.length,F=y.length,l=e(v,y,m,F),l==1&&(s--,n(v,M<m?N:B,m,c))):(s==0&&(l=s=1),v=B.slice()),m=v.length,m<F&&v.unshift(0),n(y,v,F,c),l==-1&&(F=y.length,l=e(B,y,M,F),l<1&&(s++,n(y,M<F?N:B,F,c))),F=y.length):l===0&&(s++,y=[0]),w[i++]=s,l&&y[0]?y[F++]=I[b]||0:(y=[I[b]],F=1);while((b++<A||y[0]!==void 0)&&g--);D=y[0]!==void 0}w[0]||w.shift()}if(h==1)d.e=o,Oa=D;else{for(i=1,s=w[0];s>=10;s/=10)i++;d.e=i+o*h-1,lr(d,p?u+d.e+1:u,f,D)}return d}}();function lr(r,e,n,a){var t,u,f,p,c,l,o,i,s,h=r.constructor;r:if(e!=null){if(i=r.d,!i)return r;for(t=1,p=i[0];p>=10;p/=10)t++;if(u=e-t,u<0)u+=vr,f=e,o=i[s=0],c=o/qr(10,t-f-1)%10|0;else if(s=Math.ceil((u+1)/vr),p=i.length,s>=p)if(a){for(;p++<=s;)i.push(0);o=c=0,t=1,u%=vr,f=u-vr+1}else break r;else{for(o=p=i[s],t=1;p>=10;p/=10)t++;u%=vr,f=u-vr+t,c=f<0?0:o/qr(10,t-f-1)%10|0}if(a=a||e<0||i[s+1]!==void 0||(f<0?o:o%qr(10,t-f-1)),l=n<4?(c||a)&&(n==0||n==(r.s<0?3:2)):c>5||c==5&&(n==4||a||n==6&&(u>0?f>0?o/qr(10,t-f):0:i[s-1])%10&1||n==(r.s<0?8:7)),e<1||!i[0])return i.length=0,l?(e-=r.e+1,i[0]=qr(10,(vr-e%vr)%vr),r.e=-e||0):i[0]=r.e=0,r;if(u==0?(i.length=s,p=1,s--):(i.length=s+1,p=qr(10,vr-u),i[s]=f>0?(o/qr(10,t-f)%qr(10,f)|0)*p:0),l)for(;;)if(s==0){for(u=1,f=i[0];f>=10;f/=10)u++;for(f=i[0]+=p,p=1;f>=10;f/=10)p++;u!=p&&(r.e++,i[0]==te&&(i[0]=1));break}else{if(i[s]+=p,i[s]!=te)break;i[s--]=0,p=1}for(u=i.length;i[--u]===0;)i.pop()}return pr&&(r.e>h.maxE?(r.d=null,r.e=NaN):r.e<h.minE&&(r.e=0,r.d=[0])),r}function ne(r,e,n){if(!r.isFinite())return Za(r);var a,t=r.e,u=Ur(r.d),f=u.length;return e?(n&&(a=n-f)>0?u=u.charAt(0)+"."+u.slice(1)+le(a):f>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):t<0?(u="0."+le(-t-1)+u,n&&(a=n-f)>0&&(u+=le(a))):t>=f?(u+=le(t+1-f),n&&(a=n-t-1)>0&&(u=u+"."+le(a))):((a=t+1)<f&&(u=u.slice(0,a)+"."+u.slice(a)),n&&(a=n-f)>0&&(t+1===f&&(u+="."),u+=le(a))),u}function Et(r,e){var n=r[0];for(e*=vr;n>=10;n/=10)e++;return e}function ot(r,e,n){if(e>io)throw pr=!0,n&&(r.precision=n),Error(Ia);return lr(new r(it),e,1,!0)}function re(r,e,n){if(e>Rt)throw Error(Ia);return lr(new r(ut),e,n,!0)}function Ra(r){var e=r.length-1,n=e*vr+1;if(e=r[e],e){for(;e%10==0;e/=10)n--;for(e=r[0];e>=10;e/=10)n++}return n}function le(r){for(var e="";r--;)e+="0";return e}function Ua(r,e,n,a){var t,u=new r(1),f=Math.ceil(a/vr+4);for(pr=!1;;){if(n%2&&(u=u.times(e),dn(u.d,f)&&(t=!0)),n=Lr(n/2),n===0){n=u.d.length-1,t&&u.d[n]===0&&++u.d[n];break}e=e.times(e),dn(e.d,f)}return pr=!0,u}function pn(r){return r.d[r.d.length-1]&1}function La(r,e,n){for(var a,t=new r(e[0]),u=0;++u<e.length;)if(a=new r(e[u]),a.s)t[n](a)&&(t=a);else{t=a;break}return t}function Ut(r,e){var n,a,t,u,f,p,c,l=0,o=0,i=0,s=r.constructor,h=s.rounding,D=s.precision;if(!r.d||!r.d[0]||r.e>17)return new s(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(pr=!1,c=D):c=e,p=new s(.03125);r.e>-2;)r=r.times(p),i+=5;for(a=Math.log(qr(2,i))/Math.LN10*2+5|0,c+=a,n=u=f=new s(1),s.precision=c;;){if(u=lr(u.times(r),c,1),n=n.times(++o),p=f.plus(Br(u,n,c,1)),Ur(p.d).slice(0,c)===Ur(f.d).slice(0,c)){for(t=i;t--;)f=lr(f.times(f),c,1);if(e==null)if(l<3&&Qe(f.d,c-a,h,l))s.precision=c+=10,n=u=p=new s(1),o=0,l++;else return lr(f,s.precision=D,h,pr=!0);else return s.precision=D,f}f=p}}function he(r,e){var n,a,t,u,f,p,c,l,o,i,s,h=1,D=10,v=r,m=v.d,d=v.constructor,w=d.rounding,y=d.precision;if(v.s<0||!m||!m[0]||!v.e&&m[0]==1&&m.length==1)return new d(m&&!m[0]?-1/0:v.s!=1?NaN:m?0:v);if(e==null?(pr=!1,o=y):o=e,d.precision=o+=D,n=Ur(m),a=n.charAt(0),Math.abs(u=v.e)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)v=v.times(r),n=Ur(v.d),a=n.charAt(0),h++;u=v.e,a>1?(v=new d("0."+n),u++):v=new d(a+"."+n.slice(1))}else return l=ot(d,o+2,y).times(u+""),v=he(new d(a+"."+n.slice(1)),o-D).plus(l),d.precision=y,e==null?lr(v,y,w,pr=!0):v;for(i=v,c=f=v=Br(v.minus(1),v.plus(1),o,1),s=lr(v.times(v),o,1),t=3;;){if(f=lr(f.times(s),o,1),l=c.plus(Br(f,new d(t),o,1)),Ur(l.d).slice(0,o)===Ur(c.d).slice(0,o))if(c=c.times(2),u!==0&&(c=c.plus(ot(d,o+2,y).times(u+""))),c=Br(c,new d(h),o,1),e==null)if(Qe(c.d,o-D,w,p))d.precision=o+=D,l=f=v=Br(i.minus(1),i.plus(1),o,1),s=lr(v.times(v),o,1),t=p=1;else return lr(c,d.precision=y,w,pr=!0);else return d.precision=y,c;c=l,t+=2}}function Za(r){return String(r.s*r.s/0)}function Lt(r,e){var n,a,t;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;a++);for(t=e.length;e.charCodeAt(t-1)===48;--t);if(e=e.slice(a,t),e){if(t-=a,r.e=n=n-a-1,r.d=[],a=(n+1)%vr,n<0&&(a+=vr),a<t){for(a&&r.d.push(+e.slice(0,a)),t-=vr;a<t;)r.d.push(+e.slice(a,a+=vr));e=e.slice(a),a=vr-e.length}else a-=t;for(;a--;)e+="0";r.d.push(+e),pr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function oo(r,e){var n,a,t,u,f,p,c,l,o;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Pa.test(e))return Lt(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(to.test(e))n=16,e=e.toLowerCase();else if(eo.test(e))n=2;else if(no.test(e))n=8;else throw Error(de+e);for(u=e.search(/p/i),u>0?(c=+e.slice(u+1),e=e.substring(2,u)):e=e.slice(2),u=e.indexOf("."),f=u>=0,a=r.constructor,f&&(e=e.replace(".",""),p=e.length,u=p-u,t=Ua(a,new a(n),u,u*2)),l=tt(e,n,te),o=l.length-1,u=o;l[u]===0;--u)l.pop();return u<0?new a(r.s*0):(r.e=Et(l,o),r.d=l,pr=!1,f&&(r=Br(r,t,p*4)),c&&(r=r.times(Math.abs(c)<54?qr(2,c):Ie.pow(2,c))),pr=!0,r)}function so(r,e){var n,a=e.d.length;if(a<3)return e.isZero()?e:Oe(r,2,e,e);n=1.4*Math.sqrt(a),n=n>16?16:n|0,e=e.times(1/Ft(5,n)),e=Oe(r,2,e,e);for(var t,u=new r(5),f=new r(16),p=new r(20);n--;)t=e.times(e),e=e.times(u.plus(t.times(f.times(t).minus(p))));return e}function Oe(r,e,n,a,t){var u,f,p,c,l=r.precision,o=Math.ceil(l/vr);for(pr=!1,c=n.times(n),p=new r(a);;){if(f=Br(p.times(c),new r(e++*e++),l,1),p=t?a.plus(f):a.minus(f),a=Br(f.times(c),new r(e++*e++),l,1),f=p.plus(a),f.d[o]!==void 0){for(u=o;f.d[u]===p.d[u]&&u--;);if(u==-1)break}u=p,p=a,a=f,f=u}return pr=!0,f.d.length=o+1,f}function Ft(r,e){for(var n=r;--e;)n*=r;return n}function Va(r,e){var n,a=e.s<0,t=re(r,r.precision,1),u=t.times(.5);if(e=e.abs(),e.lte(u))return ue=a?4:1,e;if(n=e.divToInt(t),n.isZero())ue=a?3:2;else{if(e=e.minus(n.times(t)),e.lte(u))return ue=pn(n)?a?2:3:a?4:1,e;ue=pn(n)?a?1:4:a?3:2}return e.minus(t).abs()}function Xt(r,e,n,a){var t,u,f,p,c,l,o,i,s,h=r.constructor,D=n!==void 0;if(D?(Gr(n,1,me),a===void 0?a=h.rounding:Gr(a,0,8)):(n=h.precision,a=h.rounding),!r.isFinite())o=Za(r);else{for(o=ne(r),f=o.indexOf("."),D?(t=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):t=e,f>=0&&(o=o.replace(".",""),s=new h(1),s.e=o.length-f,s.d=tt(ne(s),10,t),s.e=s.d.length),i=tt(o,10,t),u=c=i.length;i[--c]==0;)i.pop();if(!i[0])o=D?"0p+0":"0";else{if(f<0?u--:(r=new h(r),r.d=i,r.e=u,r=Br(r,s,n,a,0,t),i=r.d,u=r.e,l=Oa),f=i[n],p=t/2,l=l||i[n+1]!==void 0,l=a<4?(f!==void 0||l)&&(a===0||a===(r.s<0?3:2)):f>p||f===p&&(a===4||l||a===6&&i[n-1]&1||a===(r.s<0?8:7)),i.length=n,l)for(;++i[--n]>t-1;)i[n]=0,n||(++u,i.unshift(1));for(c=i.length;!i[c-1];--c);for(f=0,o="";f<c;f++)o+=qt.charAt(i[f]);if(D){if(c>1)if(e==16||e==8){for(f=e==16?4:3,--c;c%f;c++)o+="0";for(i=tt(o,t,e),c=i.length;!i[c-1];--c);for(f=1,o="1.";f<c;f++)o+=qt.charAt(i[f])}else o=o.charAt(0)+"."+o.slice(1);o=o+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(++u>c)for(u-=c;u--;)o+="0";else u<c&&(o=o.slice(0,u)+"."+o.slice(u))}o=(e==16?"0x":e==2?"0b":e==8?"0o":"")+o}return r.s<0?"-"+o:o}function dn(r,e){if(r.length>e)return r.length=e,!0}function fo(r){return new this(r).abs()}function co(r){return new this(r).acos()}function lo(r){return new this(r).acosh()}function vo(r,e){return new this(r).plus(e)}function ho(r){return new this(r).asin()}function po(r){return new this(r).asinh()}function mo(r){return new this(r).atan()}function Do(r){return new this(r).atanh()}function go(r,e){r=new this(r),e=new this(e);var n,a=this.precision,t=this.rounding,u=a+4;return!r.s||!e.s?n=new this(NaN):!r.d&&!e.d?(n=re(this,u,1).times(e.s>0?.25:.75),n.s=r.s):!e.d||r.isZero()?(n=e.s<0?re(this,a,t):new this(0),n.s=r.s):!r.d||e.isZero()?(n=re(this,u,1).times(.5),n.s=r.s):e.s<0?(this.precision=u,this.rounding=1,n=this.atan(Br(r,e,u,1)),e=re(this,u,1),this.precision=a,this.rounding=t,n=r.s<0?n.minus(e):n.plus(e)):n=this.atan(Br(r,e,u,1)),n}function yo(r){return new this(r).cbrt()}function wo(r){return lr(r=new this(r),r.e+1,2)}function Ao(r,e,n){return new this(r).clamp(e,n)}function Eo(r){if(!r||typeof r!="object")throw Error(At+"Object expected");var e,n,a,t=r.defaults===!0,u=["precision",1,me,"rounding",0,8,"toExpNeg",-_e,0,"toExpPos",0,_e,"maxE",0,_e,"minE",-_e,0,"modulo",0,9];for(e=0;e<u.length;e+=3)if(n=u[e],t&&(this[n]=Pt[n]),(a=r[n])!==void 0)if(Lr(a)===a&&a>=u[e+1]&&a<=u[e+2])this[n]=a;else throw Error(de+n+": "+a);if(n="crypto",t&&(this[n]=Pt[n]),(a=r[n])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error($a);else this[n]=!1;else throw Error(de+n+": "+a);return this}function Fo(r){return new this(r).cos()}function Co(r){return new this(r).cosh()}function Ja(r){var e,n,a;function t(u){var f,p,c,l=this;if(!(l instanceof t))return new t(u);if(l.constructor=t,mn(u)){l.s=u.s,pr?!u.d||u.e>t.maxE?(l.e=NaN,l.d=null):u.e<t.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(f=0,p=u;p>=10;p/=10)f++;pr?f>t.maxE?(l.e=NaN,l.d=null):f<t.minE?(l.e=0,l.d=[0]):(l.e=f,l.d=[u]):(l.e=f,l.d=[u]);return}else if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return Lt(l,u.toString())}else if(c!=="string")throw Error(de+u);return(p=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(p===43&&(u=u.slice(1)),l.s=1),Pa.test(u)?Lt(l,u):oo(l,u)}if(t.prototype=H,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=Eo,t.clone=Ja,t.isDecimal=mn,t.abs=fo,t.acos=co,t.acosh=lo,t.add=vo,t.asin=ho,t.asinh=po,t.atan=mo,t.atanh=Do,t.atan2=go,t.cbrt=yo,t.ceil=wo,t.clamp=Ao,t.cos=Fo,t.cosh=Co,t.div=bo,t.exp=Mo,t.floor=So,t.hypot=No,t.ln=_o,t.log=Bo,t.log10=zo,t.log2=xo,t.max=To,t.min=Oo,t.mod=Io,t.mul=$o,t.pow=qo,t.random=Po,t.round=Ro,t.sign=Uo,t.sin=Lo,t.sinh=Zo,t.sqrt=Vo,t.sub=Jo,t.sum=Yo,t.tan=Go,t.tanh=Qo,t.trunc=Xo,r===void 0&&(r={}),r&&r.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<a.length;)r.hasOwnProperty(n=a[e++])||(r[n]=this[n]);return t.config(r),t}function bo(r,e){return new this(r).div(e)}function Mo(r){return new this(r).exp()}function So(r){return lr(r=new this(r),r.e+1,3)}function No(){var r,e,n=new this(0);for(pr=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return pr=!0,new this(1/0);n=e}return pr=!0,n.sqrt()}function mn(r){return r instanceof Ie||r&&r.toStringTag===qa||!1}function _o(r){return new this(r).ln()}function Bo(r,e){return new this(r).log(e)}function xo(r){return new this(r).log(2)}function zo(r){return new this(r).log(10)}function To(){return La(this,arguments,"lt")}function Oo(){return La(this,arguments,"gt")}function Io(r,e){return new this(r).mod(e)}function $o(r,e){return new this(r).mul(e)}function qo(r,e){return new this(r).pow(e)}function Po(r){var e,n,a,t,u=0,f=new this(1),p=[];if(r===void 0?r=this.precision:Gr(r,1,me),a=Math.ceil(r/vr),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(a));u<a;)t=e[u],t>=429e7?e[u]=crypto.getRandomValues(new Uint32Array(1))[0]:p[u++]=t%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(a*=4);u<a;)t=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+((e[u+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(e,u):(p.push(t%1e7),u+=4);u=a/4}else throw Error($a);else for(;u<a;)p[u++]=Math.random()*1e7|0;for(a=p[--u],r%=vr,a&&r&&(t=qr(10,vr-r),p[u]=(a/t|0)*t);p[u]===0;u--)p.pop();if(u<0)n=0,p=[0];else{for(n=-1;p[0]===0;n-=vr)p.shift();for(a=1,t=p[0];t>=10;t/=10)a++;a<vr&&(n-=vr-a)}return f.e=n,f.d=p,f}function Ro(r){return lr(r=new this(r),r.e+1,this.rounding)}function Uo(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function Lo(r){return new this(r).sin()}function Zo(r){return new this(r).sinh()}function Vo(r){return new this(r).sqrt()}function Jo(r,e){return new this(r).sub(e)}function Yo(){var r=0,e=arguments,n=new this(e[r]);for(pr=!1;n.s&&++r<e.length;)n=n.plus(e[r]);return pr=!0,lr(n,this.precision,this.rounding)}function Go(r){return new this(r).tan()}function Qo(r){return new this(r).tanh()}function Xo(r){return lr(r=new this(r),r.e+1,1)}H[Symbol.for("nodejs.util.inspect.custom")]=H.toString;H[Symbol.toStringTag]="Decimal";var Ie=H.constructor=Ja(Pt);it=new Ie(it);ut=new Ie(ut);var Ko="BigNumber",Wo=["?on","config"],Ho=j(Ko,Wo,r=>{var{on:e,config:n}=r,a=Ie.clone({precision:n.precision,modulo:Ie.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},e&&e("config",function(t,u){t.precision!==u.precision&&a.config({precision:t.precision})}),a},{isClass:!0});function Kt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ya={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var a=Math.cosh||function(i){return Math.abs(i)<1e-9?1-i:(Math.exp(i)+Math.exp(-i))*.5},t=Math.sinh||function(i){return Math.abs(i)<1e-9?i:(Math.exp(i)-Math.exp(-i))*.5},u=function(i){var s=Math.PI/4;if(-s>i||i>s)return Math.cos(i)-1;var h=i*i;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},f=function(i,s){var h=Math.abs(i),D=Math.abs(s);return h<3e3&&D<3e3?Math.sqrt(h*h+D*D):(h<D?(h=D,D=i/s):D=s/i,h*Math.sqrt(1+D*D))},p=function(){throw SyntaxError("Invalid Param")};function c(i,s){var h=Math.abs(i),D=Math.abs(s);return i===0?Math.log(D):s===0?Math.log(h):h<3e3&&D<3e3?Math.log(i*i+s*s)*.5:(i=i/2,s=s/2,.5*Math.log(i*i+s*s)+Math.LN2)}var l=function(i,s){var h={re:0,im:0};if(i==null)h.re=h.im=0;else if(s!==void 0)h.re=i,h.im=s;else switch(typeof i){case"object":if("im"in i&&"re"in i)h.re=i.re,h.im=i.im;else if("abs"in i&&"arg"in i){if(!Number.isFinite(i.abs)&&Number.isFinite(i.arg))return o.INFINITY;h.re=i.abs*Math.cos(i.arg),h.im=i.abs*Math.sin(i.arg)}else if("r"in i&&"phi"in i){if(!Number.isFinite(i.r)&&Number.isFinite(i.phi))return o.INFINITY;h.re=i.r*Math.cos(i.phi),h.im=i.r*Math.sin(i.phi)}else i.length===2?(h.re=i[0],h.im=i[1]):p();break;case"string":h.im=h.re=0;var D=i.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),v=1,m=0;D===null&&p();for(var d=0;d<D.length;d++){var w=D[d];w===" "||w==="	"||w===`
`||(w==="+"?v++:w==="-"?m++:w==="i"||w==="I"?(v+m===0&&p(),D[d+1]!==" "&&!isNaN(D[d+1])?(h.im+=parseFloat((m%2?"-":"")+D[d+1]),d++):h.im+=parseFloat((m%2?"-":"")+"1"),v=m=0):((v+m===0||isNaN(w))&&p(),D[d+1]==="i"||D[d+1]==="I"?(h.im+=parseFloat((m%2?"-":"")+w),d++):h.re+=parseFloat((m%2?"-":"")+w),v=m=0))}v+m>0&&p();break;case"number":h.im=0,h.re=i;break;default:p()}return isNaN(h.re)||isNaN(h.im),h};function o(i,s){if(!(this instanceof o))return new o(i,s);var h=l(i,s);this.re=h.re,this.im=h.im}o.prototype={re:0,im:0,sign:function(){var i=this.abs();return new o(this.re/i,this.im/i)},add:function(i,s){var h=new o(i,s);return this.isInfinite()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:new o(this.re+h.re,this.im+h.im)},sub:function(i,s){var h=new o(i,s);return this.isInfinite()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:new o(this.re-h.re,this.im-h.im)},mul:function(i,s){var h=new o(i,s);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?o.NAN:this.isInfinite()||h.isInfinite()?o.INFINITY:h.im===0&&this.im===0?new o(this.re*h.re,0):new o(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(i,s){var h=new o(i,s);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return o.NAN;if(this.isInfinite()||h.isZero())return o.INFINITY;if(this.isZero()||h.isInfinite())return o.ZERO;i=this.re,s=this.im;var D=h.re,v=h.im,m,d;return v===0?new o(i/D,s/D):Math.abs(D)<Math.abs(v)?(d=D/v,m=D*d+v,new o((i*d+s)/m,(s*d-i)/m)):(d=v/D,m=v*d+D,new o((i+s*d)/m,(s-i*d)/m))},pow:function(i,s){var h=new o(i,s);if(i=this.re,s=this.im,h.isZero())return o.ONE;if(h.im===0){if(s===0&&i>0)return new o(Math.pow(i,h.re),0);if(i===0)switch((h.re%4+4)%4){case 0:return new o(Math.pow(s,h.re),0);case 1:return new o(0,Math.pow(s,h.re));case 2:return new o(-Math.pow(s,h.re),0);case 3:return new o(0,-Math.pow(s,h.re))}}if(i===0&&s===0&&h.re>0&&h.im>=0)return o.ZERO;var D=Math.atan2(s,i),v=c(i,s);return i=Math.exp(h.re*v-h.im*D),s=h.im*v+h.re*D,new o(i*Math.cos(s),i*Math.sin(s))},sqrt:function(){var i=this.re,s=this.im,h=this.abs(),D,v;if(i>=0){if(s===0)return new o(Math.sqrt(i),0);D=.5*Math.sqrt(2*(h+i))}else D=Math.abs(s)/Math.sqrt(2*(h-i));return i<=0?v=.5*Math.sqrt(2*(h-i)):v=Math.abs(s)/Math.sqrt(2*(h+i)),new o(D,s<0?-v:v)},exp:function(){var i=Math.exp(this.re);return this.im,new o(i*Math.cos(this.im),i*Math.sin(this.im))},expm1:function(){var i=this.re,s=this.im;return new o(Math.expm1(i)*Math.cos(s)+u(s),Math.exp(i)*Math.sin(s))},log:function(){var i=this.re,s=this.im;return new o(c(i,s),Math.atan2(s,i))},abs:function(){return f(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var i=this.re,s=this.im;return new o(Math.sin(i)*a(s),Math.cos(i)*t(s))},cos:function(){var i=this.re,s=this.im;return new o(Math.cos(i)*a(s),-Math.sin(i)*t(s))},tan:function(){var i=2*this.re,s=2*this.im,h=Math.cos(i)+a(s);return new o(Math.sin(i)/h,t(s)/h)},cot:function(){var i=2*this.re,s=2*this.im,h=Math.cos(i)-a(s);return new o(-Math.sin(i)/h,t(s)/h)},sec:function(){var i=this.re,s=this.im,h=.5*a(2*s)+.5*Math.cos(2*i);return new o(Math.cos(i)*a(s)/h,Math.sin(i)*t(s)/h)},csc:function(){var i=this.re,s=this.im,h=.5*a(2*s)-.5*Math.cos(2*i);return new o(Math.sin(i)*a(s)/h,-Math.cos(i)*t(s)/h)},asin:function(){var i=this.re,s=this.im,h=new o(s*s-i*i+1,-2*i*s).sqrt(),D=new o(h.re-s,h.im+i).log();return new o(D.im,-D.re)},acos:function(){var i=this.re,s=this.im,h=new o(s*s-i*i+1,-2*i*s).sqrt(),D=new o(h.re-s,h.im+i).log();return new o(Math.PI/2-D.im,D.re)},atan:function(){var i=this.re,s=this.im;if(i===0){if(s===1)return new o(0,1/0);if(s===-1)return new o(0,-1/0)}var h=i*i+(1-s)*(1-s),D=new o((1-s*s-i*i)/h,-2*i/h).log();return new o(-.5*D.im,.5*D.re)},acot:function(){var i=this.re,s=this.im;if(s===0)return new o(Math.atan2(1,i),0);var h=i*i+s*s;return h!==0?new o(i/h,-s/h).atan():new o(i!==0?i/0:0,s!==0?-s/0:0).atan()},asec:function(){var i=this.re,s=this.im;if(i===0&&s===0)return new o(0,1/0);var h=i*i+s*s;return h!==0?new o(i/h,-s/h).acos():new o(i!==0?i/0:0,s!==0?-s/0:0).acos()},acsc:function(){var i=this.re,s=this.im;if(i===0&&s===0)return new o(Math.PI/2,1/0);var h=i*i+s*s;return h!==0?new o(i/h,-s/h).asin():new o(i!==0?i/0:0,s!==0?-s/0:0).asin()},sinh:function(){var i=this.re,s=this.im;return new o(t(i)*Math.cos(s),a(i)*Math.sin(s))},cosh:function(){var i=this.re,s=this.im;return new o(a(i)*Math.cos(s),t(i)*Math.sin(s))},tanh:function(){var i=2*this.re,s=2*this.im,h=a(i)+Math.cos(s);return new o(t(i)/h,Math.sin(s)/h)},coth:function(){var i=2*this.re,s=2*this.im,h=a(i)-Math.cos(s);return new o(t(i)/h,-Math.sin(s)/h)},csch:function(){var i=this.re,s=this.im,h=Math.cos(2*s)-a(2*i);return new o(-2*t(i)*Math.cos(s)/h,2*a(i)*Math.sin(s)/h)},sech:function(){var i=this.re,s=this.im,h=Math.cos(2*s)+a(2*i);return new o(2*a(i)*Math.cos(s)/h,-2*t(i)*Math.sin(s)/h)},asinh:function(){var i=this.im;this.im=-this.re,this.re=i;var s=this.asin();return this.re=-this.im,this.im=i,i=s.re,s.re=-s.im,s.im=i,s},acosh:function(){var i=this.acos();if(i.im<=0){var s=i.re;i.re=-i.im,i.im=s}else{var s=i.im;i.im=-i.re,i.re=s}return i},atanh:function(){var i=this.re,s=this.im,h=i>1&&s===0,D=1-i,v=1+i,m=D*D+s*s,d=m!==0?new o((v*D-s*s)/m,(s*D+v*s)/m):new o(i!==-1?i/0:0,s!==0?s/0:0),w=d.re;return d.re=c(d.re,d.im)/2,d.im=Math.atan2(d.im,w)/2,h&&(d.im=-d.im),d},acoth:function(){var i=this.re,s=this.im;if(i===0&&s===0)return new o(0,Math.PI/2);var h=i*i+s*s;return h!==0?new o(i/h,-s/h).atanh():new o(i!==0?i/0:0,s!==0?-s/0:0).atanh()},acsch:function(){var i=this.re,s=this.im;if(s===0)return new o(i!==0?Math.log(i+Math.sqrt(i*i+1)):1/0,0);var h=i*i+s*s;return h!==0?new o(i/h,-s/h).asinh():new o(i!==0?i/0:0,s!==0?-s/0:0).asinh()},asech:function(){var i=this.re,s=this.im;if(this.isZero())return o.INFINITY;var h=i*i+s*s;return h!==0?new o(i/h,-s/h).acosh():new o(i!==0?i/0:0,s!==0?-s/0:0).acosh()},inverse:function(){if(this.isZero())return o.INFINITY;if(this.isInfinite())return o.ZERO;var i=this.re,s=this.im,h=i*i+s*s;return new o(i/h,-s/h)},conjugate:function(){return new o(this.re,-this.im)},neg:function(){return new o(-this.re,-this.im)},ceil:function(i){return i=Math.pow(10,i||0),new o(Math.ceil(this.re*i)/i,Math.ceil(this.im*i)/i)},floor:function(i){return i=Math.pow(10,i||0),new o(Math.floor(this.re*i)/i,Math.floor(this.im*i)/i)},round:function(i){return i=Math.pow(10,i||0),new o(Math.round(this.re*i)/i,Math.round(this.im*i)/i)},equals:function(i,s){var h=new o(i,s);return Math.abs(h.re-this.re)<=o.EPSILON&&Math.abs(h.im-this.im)<=o.EPSILON},clone:function(){return new o(this.re,this.im)},toString:function(){var i=this.re,s=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(i)<o.EPSILON&&(i=0),Math.abs(s)<o.EPSILON&&(s=0),s===0?h+i:(i!==0?(h+=i,h+=" ",s<0?(s=-s,h+="-"):h+="+",h+=" "):s<0&&(s=-s,h+="-"),s!==1&&(h+=s),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},o.ZERO=new o(0,0),o.ONE=new o(1,0),o.I=new o(0,1),o.PI=new o(Math.PI,0),o.E=new o(Math.E,0),o.INFINITY=new o(1/0,1/0),o.NAN=new o(NaN,NaN),o.EPSILON=1e-15,Object.defineProperty(o,"__esModule",{value:!0}),o.default=o,o.Complex=o,r.exports=o})()})(Ya);var ko=Ya.exports;const Rr=Kt(ko);var jo="Complex",rs=[],es=j(jo,rs,()=>(Object.defineProperty(Rr,"name",{value:"Complex"}),Rr.prototype.constructor=Rr,Rr.prototype.type="Complex",Rr.prototype.isComplex=!0,Rr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Rr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Rr.prototype.format=function(r){var e="",n=this.im,a=this.re,t=$t(this.re,r),u=$t(this.im,r),f=Nr(r)?r:r?r.precision:null;if(f!==null){var p=Math.pow(10,-f);Math.abs(a/n)<p&&(a=0),Math.abs(n/a)<p&&(n=0)}return n===0?e=t:a===0?n===1?e="i":n===-1?e="-i":e=u+"i":n<0?n===-1?e=t+" - i":e=t+" - "+u.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+u+"i",e},Rr.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Rr(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],a=arguments[1];if(Nr(n)){if(Ca(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),Nr(a))return new Rr({r:n,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Rr.prototype.valueOf=Rr.prototype.toString,Rr.fromJSON=function(r){return new Rr(r)},Rr.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Rr),{isClass:!0}),Ga={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,e){(function(n){var a=2e3,t={s:1,n:0,d:1};function u(d,w){if(isNaN(d=parseInt(d,10)))throw v();return d*w}function f(d,w){if(w===0)throw D();var y=Object.create(h.prototype);y.s=d<0?-1:1,d=d<0?-d:d;var F=s(d,w);return y.n=d/F,y.d=w/F,y}function p(d){for(var w={},y=d,F=2,E=4;E<=y;){for(;y%F===0;)y/=F,w[F]=(w[F]||0)+1;E+=1+2*F++}return y!==d?y>1&&(w[y]=(w[y]||0)+1):w[d]=(w[d]||0)+1,w}var c=function(d,w){var y=0,F=1,E=1,g=0,C=0,b=0,A=1,S=1,M=0,N=1,O=1,T=1,I=1e7,B;if(d!=null)if(w!==void 0){if(y=d,F=w,E=y*F,y%1!==0||F%1!==0)throw m()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)y=d.n,F=d.d,"s"in d&&(y*=d.s);else if(0 in d)y=d[0],1 in d&&(F=d[1]);else throw v();E=y*F;break}case"number":{if(d<0&&(E=d,d=-d),d%1===0)y=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);N<=I&&T<=I;)if(B=(M+O)/(N+T),d===B){N+T<=I?(y=M+O,F=N+T):T>N?(y=O,F=T):(y=M,F=N);break}else d>B?(M+=O,N+=T):(O+=M,T+=N),N>I?(y=O,F=T):(y=M,F=N);y*=S}else(isNaN(d)||isNaN(w))&&(F=y=NaN);break}case"string":{if(N=d.match(/\d+|./g),N===null)throw v();if(N[M]==="-"?(E=-1,M++):N[M]==="+"&&M++,N.length===M+1?C=u(N[M++],E):N[M+1]==="."||N[M]==="."?(N[M]!=="."&&(g=u(N[M++],E)),M++,(M+1===N.length||N[M+1]==="("&&N[M+3]===")"||N[M+1]==="'"&&N[M+3]==="'")&&(C=u(N[M],E),A=Math.pow(10,N[M].length),M++),(N[M]==="("&&N[M+2]===")"||N[M]==="'"&&N[M+2]==="'")&&(b=u(N[M+1],E),S=Math.pow(10,N[M+1].length)-1,M+=3)):N[M+1]==="/"||N[M+1]===":"?(C=u(N[M],E),A=u(N[M+2],1),M+=3):N[M+3]==="/"&&N[M+1]===" "&&(g=u(N[M],E),C=u(N[M+2],E),A=u(N[M+4],1),M+=5),N.length<=M){F=A*S,E=y=b+F*g+S*C;break}}default:throw v()}if(F===0)throw D();t.s=E<0?-1:1,t.n=Math.abs(y),t.d=Math.abs(F)};function l(d,w,y){for(var F=1;w>0;d=d*d%y,w>>=1)w&1&&(F=F*d%y);return F}function o(d,w){for(;w%2===0;w/=2);for(;w%5===0;w/=5);if(w===1)return 0;for(var y=10%w,F=1;y!==1;F++)if(y=y*10%w,F>a)return 0;return F}function i(d,w,y){for(var F=1,E=l(10,y,w),g=0;g<300;g++){if(F===E)return g;F=F*10%w,E=E*10%w}return 0}function s(d,w){if(!d)return w;if(!w)return d;for(;;){if(d%=w,!d)return w;if(w%=d,!w)return d}}function h(d,w){if(c(d,w),this instanceof h)d=s(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return f(t.s*t.n,t.d)}var D=function(){return new Error("Division by Zero")},v=function(){return new Error("Invalid argument")},m=function(){return new Error("Parameters must be integer")};h.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(d,w){return c(d,w),f(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,w){return c(d,w),f(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,w){return c(d,w),f(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,w){return c(d,w),f(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(d,w){if(isNaN(this.n)||isNaN(this.d))return new h(NaN);if(d===void 0)return f(this.s*this.n%this.d,1);if(c(d,w),t.n===0&&this.d===0)throw D();return f(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,w){return c(d,w),f(s(t.n,this.n)*s(t.d,this.d),t.d*this.d)},lcm:function(d,w){return c(d,w),t.n===0&&this.n===0?f(0,1):f(t.n*this.n,s(t.n,this.n)*s(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):f(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):f(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):f(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(d,w){if(c(d,w),t.d===1)return t.s<0?f(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):f(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var y=p(this.n),F=p(this.d),E=1,g=1;for(var C in y)if(C!=="1"){if(C==="0"){E=0;break}if(y[C]*=t.n,y[C]%t.d===0)y[C]/=t.d;else return null;E*=Math.pow(C,y[C])}for(var C in F)if(C!=="1"){if(F[C]*=t.n,F[C]%t.d===0)F[C]/=t.d;else return null;g*=Math.pow(C,F[C])}return t.s<0?f(g,E):f(E,g)},equals:function(d,w){return c(d,w),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,w){c(d,w);var y=this.s*this.n*t.d-t.s*t.n*this.d;return(0<y)-(y<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var w=this.abs(),y=w.toContinued(),F=1;F<y.length;F++){for(var E=f(y[F-1],1),g=F-2;g>=0;g--)E=E.inverse().add(y[g]);if(Math.abs(E.sub(w).valueOf())<d)return E.mul(this.s)}return this},divisible:function(d,w){return c(d,w),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var w,y="",F=this.n,E=this.d;return this.s<0&&(y+="-"),E===1?y+=F:(d&&(w=Math.floor(F/E))>0&&(y+=w,y+=" ",F%=E),y+=F,y+="/",y+=E),y},toLatex:function(d){var w,y="",F=this.n,E=this.d;return this.s<0&&(y+="-"),E===1?y+=F:(d&&(w=Math.floor(F/E))>0&&(y+=w,F%=E),y+="\\frac{",y+=F,y+="}{",y+=E,y+="}"),y},toContinued:function(){var d,w=this.n,y=this.d,F=[];if(isNaN(w)||isNaN(y))return F;do F.push(Math.floor(w/y)),d=w%y,w=y,y=d;while(w!==1);return F},toString:function(d){var w=this.n,y=this.d;if(isNaN(w)||isNaN(y))return"NaN";d=d||15;var F=o(w,y),E=i(w,y,F),g=this.s<0?"-":"";if(g+=w/y|0,w%=y,w*=10,w&&(g+="."),F){for(var C=E;C--;)g+=w/y|0,w%=y,w*=10;g+="(";for(var C=F;C--;)g+=w/y|0,w%=y,w*=10;g+=")"}else for(var C=d;w&&C--;)g+=w/y|0,w%=y,w*=10;return g}},Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,r.exports=h})()})(Ga);var ts=Ga.exports;const ae=Kt(ts);var ns="Fraction",as=[],is=j(ns,as,()=>(Object.defineProperty(ae,"name",{value:"Fraction"}),ae.prototype.constructor=ae,ae.prototype.type="Fraction",ae.prototype.isFraction=!0,ae.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ae.fromJSON=function(r){return new ae(r)},ae),{isClass:!0}),us="Matrix",os=[],ss=j(us,os,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,a){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,a){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function It(r,e,n){var a=r.constructor,t=new a(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!_r(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),u="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(u);case 8:return"".concat(r.toOctal()).concat(u);case 16:return"".concat(r.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(e," not supported "))}}function fs(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:a,wordSize:t}=Sa(e);switch(n){case"fixed":return ls(r,a);case"exponential":return Dn(r,a);case"engineering":return cs(r,a);case"bin":return It(r,2,t);case"oct":return It(r,8,t);case"hex":return It(r,16,t);case"auto":{var u=gn(e==null?void 0:e.lowerExp,-3),f=gn(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var p,c=r.toSignificantDigits(a),l=c.e;return l>=u&&l<f?p=c.toFixed():p=Dn(r,a),p.replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],i=arguments[4];return o!=="."?o+i:i})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function cs(r,e){var n=r.e,a=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-a)),u=t.toPrecision(e);if(u.includes("e")){var f=r.constructor;u=new f(u).toFixed()}return u+"e"+(n>=0?"+":"")+a.toString()}function Dn(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function ls(r,e){return r.toFixed(e)}function gn(r,e){return Nr(r)?r:Or(r)?r.toNumber():e}function Tr(r,e){var n=vs(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function vs(r,e){if(typeof r=="number")return $t(r,e);if(Or(r))return fs(r,e);if(hs(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Qa(r,e);if(Kr(r))return yn(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(a=>yn(a)+": "+Tr(r[a],e));return"{"+n.join(", ")+"}"}return String(r)}function yn(r){for(var e=String(r),n="",a=0;a<e.length;){var t=e.charAt(a);n+=t in wn?wn[t]:t,a++}return'"'+n+'"'}var wn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Qa(r,e){if(Array.isArray(r)){for(var n="[",a=r.length,t=0;t<a;t++)t!==0&&(n+=", "),n+=Qa(r[t],e);return n+="]",n}else return Tr(r,e)}function hs(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function yr(r,e,n){if(!(this instanceof yr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}yr.prototype=new RangeError;yr.prototype.constructor=RangeError;yr.prototype.name="DimensionError";yr.prototype.isDimensionError=!0;function Ae(r,e,n){if(!(this instanceof Ae))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ae.prototype=new RangeError;Ae.prototype.constructor=RangeError;Ae.prototype.name="IndexError";Ae.prototype.isIndexError=!0;function zr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Xa(r,e,n){var a,t=r.length;if(t!==e[n])throw new yr(t,e[n]);if(n<e.length-1){var u=n+1;for(a=0;a<t;a++){var f=r[a];if(!Array.isArray(f))throw new yr(e.length-1,e.length,"<");Xa(r[a],e,u)}}else for(a=0;a<t;a++)if(Array.isArray(r[a]))throw new yr(e.length+1,e.length,">")}function An(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new yr(r.length,0)}else Xa(r,e,0)}function st(r,e){var n=r.isMatrix?r._size:zr(r),a=e._sourceSize;a.forEach((t,u)=>{if(t!==null&&t!==n[u])throw new yr(t,n[u])})}function Mr(r,e){if(r!==void 0){if(!Nr(r)||!_r(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new Ae(r,e)}}function $e(r){for(var e=0;e<r._dimensions.length;++e){var n=r._dimensions[e];if(n._data&&Er(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(Kr(n)&&n.length===0)return!0}return!1}function ft(r,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!Nr(t)||!_r(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Tr(e)+")")}),(Nr(r)||Or(r))&&(r=[r]);var a=n!==void 0?n:0;return Zt(r,e,0,a),r}function Zt(r,e,n,a){var t,u,f=r.length,p=e[n],c=Math.min(f,p);if(r.length=p,n<e.length-1){var l=n+1;for(t=0;t<c;t++)u=r[t],Array.isArray(u)||(u=[u],r[t]=u),Zt(u,e,l,a);for(t=c;t<p;t++)u=[],r[t]=u,Zt(u,e,l,a)}else{for(t=0;t<c;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=c;t<p;t++)r[t]=a}}function Wt(r,e){var n=xe(r),a=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new yr(0,a,"!=");e=Ht(e,a);var t=Ka(e);if(a!==t)throw new yr(t,a,"!=");try{return ps(n,e)}catch(u){throw u instanceof yr?new yr(t,a,"!="):u}}function Ht(r,e){var n=Ka(r),a=r.slice(),t=-1,u=r.indexOf(t),f=r.indexOf(t,u+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var p=u>=0,c=e%n===0;if(p)if(c)a[u]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return a}function Ka(r){return r.reduce((e,n)=>e*n,1)}function ps(r,e){for(var n=r,a,t=e.length-1;t>0;t--){var u=e[t];a=[];for(var f=n.length/u,p=0;p<f;p++)a.push(n.slice(p*u,(p+1)*u));n=a}return n}function Wa(r,e,n,a){var t=a||zr(r);if(n)for(var u=0;u<n;u++)r=[r],t.unshift(1);for(r=Ha(r,e,0);t.length<e;)t.push(1);return r}function Ha(r,e,n){var a,t;if(Array.isArray(r)){var u=n+1;for(a=0,t=r.length;a<t;a++)r[a]=Ha(r[a],e,u)}else for(var f=n;f<e;f++)r=[r];return r}function xe(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(a){Array.isArray(a)?a.forEach(n):e.push(a)}),e}function En(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],n=0;e[0]={value:r[0],identifier:0};for(var a=1;a<r.length;a++)r[a]===r[a-1]?n++:n=0,e.push({value:r[a],identifier:n});return e}function Fn(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],n=0;n<r.length;n++)e.push(r[n].value);return e}function Xe(r,e){for(var n,a=0,t=0;t<r.length;t++){var u=r[t],f=Array.isArray(u);if(t===0&&f&&(a=u.length),f&&u.length!==a)return;var p=f?Xe(u,e):e(u);if(n===void 0)n=p;else if(n!==p)return"mixed"}return n}function ka(r,e,n,a){if(a<n){if(r.length!==e.length)throw new yr(r.length,e.length);for(var t=[],u=0;u<r.length;u++)t[u]=ka(r[u],e[u],n,a+1);return t}else return r.concat(e)}function ja(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(n,a){return ka(n,a,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function ds(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];for(var a=e.map(s=>s.length),t=Math.max(...a),u=new Array(t).fill(null),f=0;f<e.length;f++)for(var p=e[f],c=a[f],l=0;l<c;l++){var o=t-c+l;p[l]>u[o]&&(u[o]=p[l])}for(var i=0;i<e.length;i++)ct(e[i],u);return u}function ct(r,e){for(var n=e.length,a=r.length,t=0;t<a;t++){var u=n-a+t;if(r[t]<e[u]&&r[t]>1||r[t]>e[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(a," with size ").concat(r[t]," to size ").concat(e[u]))}}function Cn(r,e){var n=zr(r);if(Te(n,e))return r;ct(n,e);var a=ds(n,e),t=a.length,u=[...Array(t-n.length).fill(1),...n],f=Ds(r);n.length<t&&(f=Wt(f,u),n=zr(f));for(var p=0;p<t;p++)n[p]<a[p]&&(f=ms(f,a[p],p),n=zr(f));return f}function ms(r,e,n){return ja(...Array(e).fill(r),n)}function Ds(r){return ze([],r)}function ri(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var a=(n.match(/,/g)||[]).length+1;return Math.max(e,a)},-1)}var gs="DenseMatrix",ys=["Matrix"],ws=j(gs,ys,r=>{var{Matrix:e}=r;function n(o,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(i&&!Kr(i))throw new Error("Invalid datatype: "+i);if(Sr(o))o.type==="DenseMatrix"?(this._data=Ar(o._data),this._size=Ar(o._size),this._datatype=i||o._datatype):(this._data=o.toArray(),this._size=o.size(),this._datatype=i||o._datatype);else if(o&&Er(o.data)&&Er(o.size))this._data=o.data,this._size=o.size,An(this._data,this._size),this._datatype=i||o.datatype;else if(Er(o))this._data=l(o),this._size=zr(this._data),An(this._data,this._size),this._datatype=i;else{if(o)throw new TypeError("Unsupported type of data ("+ee(o)+")");this._data=[],this._size=[0],this._datatype=i}}n.prototype=new e,n.prototype.createDenseMatrix=function(o,i){return new n(o,i)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Xe(this._data,ee)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(o,i){return new n(o,i)},n.prototype.subset=function(o,i,s){switch(arguments.length){case 1:return a(this,o);case 2:case 3:return u(this,o,i,s);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(o){if(!Er(o))throw new TypeError("Array expected");if(o.length!==this._size.length)throw new yr(o.length,this._size.length);for(var i=0;i<o.length;i++)Mr(o[i],this._size[i]);for(var s=this._data,h=0,D=o.length;h<D;h++){var v=o[h];Mr(v,s.length),s=s[v]}return s},n.prototype.set=function(o,i,s){if(!Er(o))throw new TypeError("Array expected");if(o.length<this._size.length)throw new yr(o.length,this._size.length,"<");var h,D,v,m=o.map(function(w){return w+1});c(this,m,s);var d=this._data;for(h=0,D=o.length-1;h<D;h++)v=o[h],Mr(v,d.length),d=d[v];return v=o[o.length-1],Mr(v,d.length),d[v]=i,this};function a(o,i){if(!gt(i))throw new TypeError("Invalid index");var s=i.isScalar();if(s)return o.get(i.min());var h=i.size();if(h.length!==o._size.length)throw new yr(h.length,o._size.length);for(var D=i.min(),v=i.max(),m=0,d=o._size.length;m<d;m++)Mr(D[m],o._size[m]),Mr(v[m],o._size[m]);return new n(t(o._data,i,h.length,0),o._datatype)}function t(o,i,s,h){var D=h===s-1,v=i.dimension(h);return D?v.map(function(m){return Mr(m,o.length),o[m]}).valueOf():v.map(function(m){Mr(m,o.length);var d=o[m];return t(d,i,s,h+1)}).valueOf()}function u(o,i,s,h){if(!i||i.isIndex!==!0)throw new TypeError("Invalid index");var D=i.size(),v=i.isScalar(),m;if(Sr(s)?(m=s.size(),s=s.valueOf()):m=zr(s),v){if(m.length!==0)throw new TypeError("Scalar expected");o.set(i.min(),s,h)}else{if(!Te(m,D))try{m.length===0?s=Cn([s],D):s=Cn(s,D),m=zr(s)}catch{}if(D.length<o._size.length)throw new yr(D.length,o._size.length,"<");if(m.length<D.length){for(var d=0,w=0;D[d]===1&&m[d]===1;)d++;for(;D[d]===1;)w++,d++;s=Wa(s,D.length,w,m)}if(!Te(D,m))throw new yr(D,m,">");var y=i.max().map(function(g){return g+1});c(o,y,h);var F=D.length,E=0;f(o._data,i,s,F,E)}return o}function f(o,i,s,h,D){var v=D===h-1,m=i.dimension(D);v?m.forEach(function(d,w){Mr(d),o[d]=s[w[0]]}):m.forEach(function(d,w){Mr(d),f(o[d],i,s[w[0]],h,D+1)})}n.prototype.resize=function(o,i,s){if(!nt(o))throw new TypeError("Array or Matrix expected");var h=o.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),D=s?this.clone():this;return p(D,h,i)};function p(o,i,s){if(i.length===0){for(var h=o._data;Er(h);)h=h[0];return h}return o._size=i.slice(0),o._data=ft(o._data,o._size,s),o}n.prototype.reshape=function(o,i){var s=i?this.clone():this;s._data=Wt(s._data,o);var h=s._size.reduce((D,v)=>D*v);return s._size=Ht(o,h),s};function c(o,i,s){for(var h=o._size.slice(0),D=!1;h.length<i.length;)h.push(0),D=!0;for(var v=0,m=i.length;v<m;v++)i[v]>h[v]&&(h[v]=i[v],D=!0);D&&p(o,h,s)}n.prototype.clone=function(){var o=new n({data:Ar(this._data),size:Ar(this._size),datatype:this._datatype});return o},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(o){var i=this,s=ri(o),h=function m(d,w){return Er(d)?d.map(function(y,F){return m(y,w.concat(F))}):s===1?o(d):s===2?o(d,w):o(d,w,i)},D=h(this._data,[]),v=this._datatype!==void 0?Xe(D,ee):void 0;return new n(D,v)},n.prototype.forEach=function(o){var i=this,s=function h(D,v){Er(D)?D.forEach(function(m,d){h(m,v.concat(d))}):o(D,v,i)};s(this._data,[])},n.prototype[Symbol.iterator]=function*(){var o=function*i(s,h){if(Er(s))for(var D=0;D<s.length;D++)yield*i(s[D],h.concat(D));else yield{value:s,index:h}};yield*o(this._data,[])},n.prototype.rows=function(){var o=[],i=this.size();if(i.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var s=this._data;for(var h of s)o.push(new n([h],this._datatype));return o},n.prototype.columns=function(){var o=this,i=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,D=function(d){var w=h.map(y=>[y[d]]);i.push(new n(w,o._datatype))},v=0;v<s[1];v++)D(v);return i},n.prototype.toArray=function(){return Ar(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(o){return Tr(this._data,o)},n.prototype.toString=function(){return Tr(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(o){if(o){if(Or(o)&&(o=o.toNumber()),!Nr(o)||!_r(o))throw new TypeError("The parameter k must be an integer number")}else o=0;for(var i=o>0?o:0,s=o<0?-o:0,h=this._size[0],D=this._size[1],v=Math.min(h-s,D-i),m=[],d=0;d<v;d++)m[d]=this._data[d+s][d+i];return new n({data:m,size:[v],datatype:this._datatype})},n.diagonal=function(o,i,s,h){if(!Er(o))throw new TypeError("Array expected, size parameter");if(o.length!==2)throw new Error("Only two dimensions matrix are supported");if(o=o.map(function(C){if(Or(C)&&(C=C.toNumber()),!Nr(C)||!_r(C)||C<1)throw new Error("Size values must be positive integers");return C}),s){if(Or(s)&&(s=s.toNumber()),!Nr(s)||!_r(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var D=s>0?s:0,v=s<0?-s:0,m=o[0],d=o[1],w=Math.min(m-v,d-D),y;if(Er(i)){if(i.length!==w)throw new Error("Invalid value array length");y=function(b){return i[b]}}else if(Sr(i)){var F=i.size();if(F.length!==1||F[0]!==w)throw new Error("Invalid matrix length");y=function(b){return i.get([b])}}else y=function(){return i};h||(h=Or(y(0))?y(0).mul(0):0);var E=[];if(o.length>0){E=ft(E,o,h);for(var g=0;g<w;g++)E[g+v][g+D]=y(g)}return new n({data:E,size:[m,d]})},n.fromJSON=function(o){return new n(o)},n.prototype.swapRows=function(o,i){if(!Nr(o)||!_r(o)||!Nr(i)||!_r(i))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Mr(o,this._size[0]),Mr(i,this._size[0]),n._swapRows(o,i,this._data),this},n._swapRows=function(o,i,s){var h=s[o];s[o]=s[i],s[i]=h};function l(o){return Sr(o)?l(o.valueOf()):Er(o)?o.map(l):o}return n},{isClass:!0});function Qr(r,e,n){return r&&typeof r.map=="function"?r.map(function(a){return Qr(a,e)}):e(r)}var bn="isInteger",As=["typed"],Es=j(bn,As,r=>{var{typed:e}=r;return e(bn,{number:_r,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),kt="number",Ct="number, number";function ei(r){return Math.abs(r)}ei.signature=kt;function ti(r,e){return r+e}ti.signature=Ct;function ni(r,e){return r-e}ni.signature=Ct;function ai(r,e){return r*e}ai.signature=Ct;function ii(r){return-r}ii.signature=kt;function Vt(r){return $u(r)}Vt.signature=kt;function ui(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}ui.signature=Ct;var oi="number";function si(r){return r>0}si.signature=oi;function fi(r){return r===0}fi.signature=oi;var Mn="isPositive",Fs=["typed"],Cs=j(Mn,Fs,r=>{var{typed:e}=r;return e(Mn,{number:si,BigNumber:function(a){return!a.isNeg()&&!a.isZero()&&!a.isNaN()},Fraction:function(a){return a.s>0&&a.n>0},Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),Sn="isZero",bs=["typed"],Ms=j(Sn,bs,r=>{var{typed:e}=r;return e(Sn,{number:fi,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})});function qe(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var a=r.minus(e).abs();if(a.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return a.lte(t.times(n))}return!1}function Ss(r,e,n){return oe(r.re,e.re,n)&&oe(r.im,e.im,n)}var Pe=j("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(!a.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[a.valueType(),t.valueType()])(a.value,t.value)})}}),lt="equalScalar",Ns=["typed","config"],_s=j(lt,Ns,r=>{var{typed:e,config:n}=r,a=Pe({typed:e});return e(lt,{"boolean, boolean":function(u,f){return u===f},"number, number":function(u,f){return oe(u,f,n.epsilon)},"BigNumber, BigNumber":function(u,f){return u.eq(f)||qe(u,f,n.epsilon)},"Fraction, Fraction":function(u,f){return u.equals(f)},"Complex, Complex":function(u,f){return Ss(u,f,n.epsilon)}},a)});j(lt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(lt,{"number, number":function(t,u){return oe(t,u,n.epsilon)}})});var Bs="SparseMatrix",xs=["typed","equalScalar","Matrix"],zs=j(Bs,xs,r=>{var{typed:e,equalScalar:n,Matrix:a}=r;function t(v,m){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Kr(m))throw new Error("Invalid datatype: "+m);if(Sr(v))u(this,v,m);else if(v&&Er(v.index)&&Er(v.ptr)&&Er(v.size))this._values=v.values,this._index=v.index,this._ptr=v.ptr,this._size=v.size,this._datatype=m||v.datatype;else if(Er(v))f(this,v,m);else{if(v)throw new TypeError("Unsupported type of data ("+ee(v)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(v,m,d){m.type==="SparseMatrix"?(v._values=m._values?Ar(m._values):void 0,v._index=Ar(m._index),v._ptr=Ar(m._ptr),v._size=Ar(m._size),v._datatype=d||m._datatype):f(v,m.valueOf(),d||m._datatype)}function f(v,m,d){v._values=[],v._index=[],v._ptr=[],v._datatype=d;var w=m.length,y=0,F=n,E=0;if(Kr(d)&&(F=e.find(n,[d,d])||n,E=e.convert(0,d)),w>0){var g=0;do{v._ptr.push(v._index.length);for(var C=0;C<w;C++){var b=m[C];if(Er(b)){if(g===0&&y<b.length&&(y=b.length),g<b.length){var A=b[g];F(A,E)||(v._values.push(A),v._index.push(C))}}else g===0&&y<1&&(y=1),F(b,E)||(v._values.push(b),v._index.push(C))}g++}while(g<y)}v._ptr.push(v._index.length),v._size=[w,y]}t.prototype=new a,t.prototype.createSparseMatrix=function(v,m){return new t(v,m)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Xe(this._values,ee)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(v,m){return new t(v,m)},t.prototype.density=function(){var v=this._size[0],m=this._size[1];return v!==0&&m!==0?this._index.length/(v*m):0},t.prototype.subset=function(v,m,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,v);case 2:case 3:return c(this,v,m,d);default:throw new SyntaxError("Wrong number of arguments")}};function p(v,m){if(!gt(m))throw new TypeError("Invalid index");var d=m.isScalar();if(d)return v.get(m.min());var w=m.size();if(w.length!==v._size.length)throw new yr(w.length,v._size.length);var y,F,E,g,C=m.min(),b=m.max();for(y=0,F=v._size.length;y<F;y++)Mr(C[y],v._size[y]),Mr(b[y],v._size[y]);var A=v._values,S=v._index,M=v._ptr,N=m.dimension(0),O=m.dimension(1),T=[],I=[];N.forEach(function(z,Z){I[z]=Z[0],T[z]=!0});var B=A?[]:void 0,J=[],q=[];return O.forEach(function(z){for(q.push(J.length),E=M[z],g=M[z+1];E<g;E++)y=S[E],T[y]===!0&&(J.push(I[y]),B&&B.push(A[E]))}),q.push(J.length),new t({values:B,index:J,ptr:q,size:w,datatype:v._datatype})}function c(v,m,d,w){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var y=m.size(),F=m.isScalar(),E;if(Sr(d)?(E=d.size(),d=d.toArray()):E=zr(d),F){if(E.length!==0)throw new TypeError("Scalar expected");v.set(m.min(),d,w)}else{if(y.length!==1&&y.length!==2)throw new yr(y.length,v._size.length,"<");if(E.length<y.length){for(var g=0,C=0;y[g]===1&&E[g]===1;)g++;for(;y[g]===1;)C++,g++;d=Wa(d,y.length,C,E)}if(!Te(y,E))throw new yr(y,E,">");if(y.length===1){var b=m.dimension(0);b.forEach(function(M,N){Mr(M),v.set([M,0],d[N[0]],w)})}else{var A=m.dimension(0),S=m.dimension(1);A.forEach(function(M,N){Mr(M),S.forEach(function(O,T){Mr(O),v.set([M,O],d[N[0]][T[0]],w)})})}}return v}t.prototype.get=function(v){if(!Er(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new yr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=v[0],d=v[1];Mr(m,this._size[0]),Mr(d,this._size[1]);var w=l(m,this._ptr[d],this._ptr[d+1],this._index);return w<this._ptr[d+1]&&this._index[w]===m?this._values[w]:0},t.prototype.set=function(v,m,d){if(!Er(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new yr(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=v[0],y=v[1],F=this._size[0],E=this._size[1],g=n,C=0;Kr(this._datatype)&&(g=e.find(n,[this._datatype,this._datatype])||n,C=e.convert(0,this._datatype)),(w>F-1||y>E-1)&&(s(this,Math.max(w+1,F),Math.max(y+1,E),d),F=this._size[0],E=this._size[1]),Mr(w,F),Mr(y,E);var b=l(w,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===w?g(m,C)?o(b,y,this._values,this._index,this._ptr):this._values[b]=m:g(m,C)||i(b,w,y,m,this._values,this._index,this._ptr),this};function l(v,m,d,w){if(d-m===0)return d;for(var y=m;y<d;y++)if(w[y]===v)return y;return m}function o(v,m,d,w,y){d.splice(v,1),w.splice(v,1);for(var F=m+1;F<y.length;F++)y[F]--}function i(v,m,d,w,y,F,E){y.splice(v,0,w),F.splice(v,0,m);for(var g=d+1;g<E.length;g++)E[g]++}t.prototype.resize=function(v,m,d){if(!nt(v))throw new TypeError("Array or Matrix expected");var w=v.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(F){if(!Nr(F)||!_r(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Tr(w)+")")});var y=d?this.clone():this;return s(y,w[0],w[1],m)};function s(v,m,d,w){var y=w||0,F=n,E=0;Kr(v._datatype)&&(F=e.find(n,[v._datatype,v._datatype])||n,E=e.convert(0,v._datatype),y=e.convert(y,v._datatype));var g=!F(y,E),C=v._size[0],b=v._size[1],A,S,M;if(d>b){for(S=b;S<d;S++)if(v._ptr[S]=v._values.length,g)for(A=0;A<C;A++)v._values.push(y),v._index.push(A);v._ptr[d]=v._values.length}else d<b&&(v._ptr.splice(d+1,b-d),v._values.splice(v._ptr[d],v._values.length),v._index.splice(v._ptr[d],v._index.length));if(b=d,m>C){if(g){var N=0;for(S=0;S<b;S++){v._ptr[S]=v._ptr[S]+N,M=v._ptr[S+1]+N;var O=0;for(A=C;A<m;A++,O++)v._values.splice(M+O,0,y),v._index.splice(M+O,0,A),N++}v._ptr[b]=v._values.length}}else if(m<C){var T=0;for(S=0;S<b;S++){v._ptr[S]=v._ptr[S]-T;var I=v._ptr[S],B=v._ptr[S+1]-T;for(M=I;M<B;M++)A=v._index[M],A>m-1&&(v._values.splice(M,1),v._index.splice(M,1),T++)}v._ptr[S]=v._values.length}return v._size[0]=m,v._size[1]=d,v}t.prototype.reshape=function(v,m){if(!Er(v))throw new TypeError("Array expected");if(v.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");v.forEach(function(z){if(!Nr(z)||!_r(z)||z<=-2||z===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Tr(v)+")")});var d=this._size[0]*this._size[1];v=Ht(v,d);var w=v[0]*v[1];if(d!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=m?this.clone():this;if(this._size[0]===v[0]&&this._size[1]===v[1])return y;for(var F=[],E=0;E<y._ptr.length;E++)for(var g=0;g<y._ptr[E+1]-y._ptr[E];g++)F.push(E);for(var C=y._values.slice(),b=y._index.slice(),A=0;A<y._index.length;A++){var S=b[A],M=F[A],N=S*y._size[1]+M;F[A]=N%v[1],b[A]=Math.floor(N/v[1])}y._values.length=0,y._index.length=0,y._ptr.length=v[1]+1,y._size=v.slice();for(var O=0;O<y._ptr.length;O++)y._ptr[O]=0;for(var T=0;T<C.length;T++){var I=b[T],B=F[T],J=C[T],q=l(I,y._ptr[B],y._ptr[B+1],y._index);i(q,I,B,J,y._values,y._index,y._ptr)}return y},t.prototype.clone=function(){var v=new t({values:this._values?Ar(this._values):void 0,index:Ar(this._index),ptr:Ar(this._ptr),size:Ar(this._size),datatype:this._datatype});return v},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(v,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,w=this._size[0],y=this._size[1],F=ri(v),E=function(C,b,A){return F===1?v(C):F===2?v(C,[b,A]):v(C,[b,A],d)};return h(this,0,w-1,0,y-1,E,m)};function h(v,m,d,w,y,F,E){var g=[],C=[],b=[],A=n,S=0;Kr(v._datatype)&&(A=e.find(n,[v._datatype,v._datatype])||n,S=e.convert(0,v._datatype));for(var M=function(R,V,nr){R=F(R,V,nr),A(R,S)||(g.push(R),C.push(V))},N=w;N<=y;N++){b.push(g.length);var O=v._ptr[N],T=v._ptr[N+1];if(E)for(var I=O;I<T;I++){var B=v._index[I];B>=m&&B<=d&&M(v._values[I],B-m,N-w)}else{for(var J={},q=O;q<T;q++){var z=v._index[q];J[z]=v._values[q]}for(var Z=m;Z<=d;Z++){var W=Z in J?J[Z]:0;M(W,Z-m,N-w)}}}return b.push(g.length),new t({values:g,index:C,ptr:b,size:[d-m+1,y-w+1]})}t.prototype.forEach=function(v,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,w=this._size[0],y=this._size[1],F=0;F<y;F++){var E=this._ptr[F],g=this._ptr[F+1];if(m)for(var C=E;C<g;C++){var b=this._index[C];v(this._values[C],[b,F],d)}else{for(var A={},S=E;S<g;S++){var M=this._index[S];A[M]=this._values[S]}for(var N=0;N<w;N++){var O=N in A?A[N]:0;v(O,[N,F],d)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var v=this._size[1],m=0;m<v;m++)for(var d=this._ptr[m],w=this._ptr[m+1],y=d;y<w;y++){var F=this._index[y];yield{value:this._values[y],index:[F,m]}}},t.prototype.toArray=function(){return D(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return D(this._values,this._index,this._ptr,this._size,!1)};function D(v,m,d,w,y){var F=w[0],E=w[1],g=[],C,b;for(C=0;C<F;C++)for(g[C]=[],b=0;b<E;b++)g[C][b]=0;for(b=0;b<E;b++)for(var A=d[b],S=d[b+1],M=A;M<S;M++)C=m[M],g[C][b]=v?y?Ar(v[M]):v[M]:1;return g}return t.prototype.format=function(v){for(var m=this._size[0],d=this._size[1],w=this.density(),y="Sparse Matrix ["+Tr(m,v)+" x "+Tr(d,v)+"] density: "+Tr(w,v)+`
`,F=0;F<d;F++)for(var E=this._ptr[F],g=this._ptr[F+1],C=E;C<g;C++){var b=this._index[C];y+=`
    (`+Tr(b,v)+", "+Tr(F,v)+") ==> "+(this._values?Tr(this._values[C],v):"X")}return y},t.prototype.toString=function(){return Tr(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(v){if(v){if(Or(v)&&(v=v.toNumber()),!Nr(v)||!_r(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var m=v>0?v:0,d=v<0?-v:0,w=this._size[0],y=this._size[1],F=Math.min(w-d,y-m),E=[],g=[],C=[];C[0]=0;for(var b=m;b<y&&E.length<F;b++)for(var A=this._ptr[b],S=this._ptr[b+1],M=A;M<S;M++){var N=this._index[M];if(N===b-m+d){E.push(this._values[M]),g[E.length-1]=N-d;break}}return C.push(E.length),new t({values:E,index:g,ptr:C,size:[F,1]})},t.fromJSON=function(v){return new t(v)},t.diagonal=function(v,m,d,w,y){if(!Er(v))throw new TypeError("Array expected, size parameter");if(v.length!==2)throw new Error("Only two dimensions matrix are supported");if(v=v.map(function(z){if(Or(z)&&(z=z.toNumber()),!Nr(z)||!_r(z)||z<1)throw new Error("Size values must be positive integers");return z}),d){if(Or(d)&&(d=d.toNumber()),!Nr(d)||!_r(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var F=n,E=0;Kr(y)&&(F=e.find(n,[y,y])||n,E=e.convert(0,y));var g=d>0?d:0,C=d<0?-d:0,b=v[0],A=v[1],S=Math.min(b-C,A-g),M;if(Er(m)){if(m.length!==S)throw new Error("Invalid value array length");M=function(Z){return m[Z]}}else if(Sr(m)){var N=m.size();if(N.length!==1||N[0]!==S)throw new Error("Invalid matrix length");M=function(Z){return m.get([Z])}}else M=function(){return m};for(var O=[],T=[],I=[],B=0;B<A;B++){I.push(O.length);var J=B-g;if(J>=0&&J<S){var q=M(J);F(q,E)||(T.push(J+C),O.push(q))}}return I.push(O.length),new t({values:O,index:T,ptr:I,size:[b,A]})},t.prototype.swapRows=function(v,m){if(!Nr(v)||!_r(v)||!Nr(m)||!_r(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Mr(v,this._size[0]),Mr(m,this._size[0]),t._swapRows(v,m,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(v,m,d,w,y){for(var F=w[v],E=w[v+1],g=F;g<E;g++)y(d[g],m[g])},t._swapRows=function(v,m,d,w,y,F){for(var E=0;E<d;E++){var g=F[E],C=F[E+1],b=l(v,g,C,y),A=l(m,g,C,y);if(b<C&&A<C&&y[b]===v&&y[A]===m){if(w){var S=w[b];w[b]=w[A],w[A]=S}continue}if(b<C&&y[b]===v&&(A>=C||y[A]!==m)){var M=w?w[b]:void 0;y.splice(A,0,m),w&&w.splice(A,0,M),y.splice(A<=b?b+1:b,1),w&&w.splice(A<=b?b+1:b,1);continue}if(A<C&&y[A]===m&&(b>=C||y[b]!==v)){var N=w?w[A]:void 0;y.splice(b,0,v),w&&w.splice(b,0,N),y.splice(b<=A?A+1:A,1),w&&w.splice(b<=A?A+1:A,1)}}},t},{isClass:!0}),Ts="number",Os=["typed"];function Is(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],a=e[2],t=e[3];return{input:r,radix:n,integerPart:a,fractionalPart:t}}else return null}function $s(r){for(var e=parseInt(r.integerPart,r.radix),n=0,a=0;a<r.fractionalPart.length;a++){var t=parseInt(r.fractionalPart[a],r.radix);n+=t/Math.pow(r.radix,a+1)}var u=e+n;if(isNaN(u))throw new SyntaxError('String "'+r.input+'" is not a valid number');return u}var qs=j(Ts,Os,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var u=Is(t);if(u)return $s(u);var f=0,p=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(f=Number(p[2]),t=p[1]);var c=Number(t);if(isNaN(c))throw new SyntaxError('String "'+t+'" is not a valid number');if(p){if(c>2**f-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));c>=2**(f-1)&&(c=c-2**f)}return c},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(a=>t=>{var u=t.clone();return u.value=a(t.value),u}),null:function(t){return 0},"Unit, string | Unit":function(t,u){return t.toNumber(u)},"Array | Matrix":e.referToSelf(a=>t=>Qr(t,a))});return n.fromJSON=function(a){return parseFloat(a.value)},n}),Ps="bignumber",Rs=["typed","BigNumber"],Us=j(Ps,Rs,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var u=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var f=u[2],p=n(u[1]),c=new n(2).pow(Number(f));if(p.gt(c.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var l=new n(2).pow(Number(f)-1);return p.gte(l)?p.sub(c):p}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf(a=>t=>{var u=t.clone();return u.value=a(t.value),u}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(a=>t=>Qr(t,a))})}),Ls="complex",Zs=["typed","Complex"],Vs=j(Ls,Zs,r=>{var{typed:e,Complex:n}=r;return e("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,u){return new n(t,u)},"BigNumber, BigNumber":function(t,u){return new n(t.toNumber(),u.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(a=>t=>Qr(t,a))})}),Js="fraction",Ys=["typed","Fraction"],Gs=j(Js,Ys,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,u){return new n(t,u)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(a=>t=>{var u=t.clone();return u.value=a(t.value),u}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(a=>t=>Qr(t,a))})}),Nn="matrix",Qs=["typed","Matrix","DenseMatrix","SparseMatrix"],Xs=j(Nn,Qs,r=>{var{typed:e,Matrix:n,DenseMatrix:a,SparseMatrix:t}=r;return e(Nn,{"":function(){return u([])},string:function(p){return u([],p)},"string, string":function(p,c){return u([],p,c)},Array:function(p){return u(p)},Matrix:function(p){return u(p,p.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(f,p,c){if(p==="dense"||p==="default"||p===void 0)return new a(f,c);if(p==="sparse")return new t(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),_n="matrixFromColumns",Ks=["typed","matrix","flatten","size"],Ws=j(_n,Ks,r=>{var{typed:e,matrix:n,flatten:a,size:t}=r;return e(_n,{"...Array":function(c){return u(c)},"...Matrix":function(c){return n(u(c.map(l=>l.toArray())))}});function u(p){if(p.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=f(p[0]),l=[],o=0;o<c;o++)l[o]=[];for(var i of p){var s=f(i);if(s!==c)throw new TypeError("The vectors had different length: "+(c|0)+"  "+(s|0));for(var h=a(i),D=0;D<c;D++)l[D].push(h[D])}return l}function f(p){var c=t(p);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Bn="unaryMinus",Hs=["typed"],ks=j(Bn,Hs,r=>{var{typed:e}=r;return e(Bn,{number:ii,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>a=>{var t=a.clone();return t.value=e.find(n,t.valueType())(a.value),t}),"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),xn="abs",js=["typed"],rf=j(xn,js,r=>{var{typed:e}=r;return e(xn,{number:ei,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),zn="addScalar",ef=["typed"],tf=j(zn,ef,r=>{var{typed:e}=r;return e(zn,{"number, number":ti,"Complex, Complex":function(a,t){return a.add(t)},"BigNumber, BigNumber":function(a,t){return a.plus(t)},"Fraction, Fraction":function(a,t){return a.add(t)},"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var u=a.clone();return u.value=e.find(n,[u.valueType(),t.valueType()])(u.value,t.value),u.fixPrefix=!1,u})})}),Tn="subtractScalar",nf=["typed"],af=j(Tn,nf,r=>{var{typed:e}=r;return e(Tn,{"number, number":ni,"Complex, Complex":function(a,t){return a.sub(t)},"BigNumber, BigNumber":function(a,t){return a.minus(t)},"Fraction, Fraction":function(a,t){return a.sub(t)},"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var u=a.clone();return u.value=e.find(n,[u.valueType(),t.valueType()])(u.value,t.value),u.fixPrefix=!1,u})})}),uf="matAlgo11xS0s",of=["typed","equalScalar"],sf=j(uf,of,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f,p){var c=t._values,l=t._index,o=t._ptr,i=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=i[0],D=i[1],v,m=n,d=0,w=f;typeof s=="string"&&(v=s,m=e.find(n,[v,v]),d=e.convert(0,v),u=e.convert(u,v),w=e.find(f,[v,v]));for(var y=[],F=[],E=[],g=0;g<D;g++){E[g]=F.length;for(var C=o[g],b=o[g+1],A=C;A<b;A++){var S=l[A],M=p?w(u,c[A]):w(c[A],u);m(M,d)||(F.push(S),y.push(M))}}return E[D]=F.length,t.createSparseMatrix({values:y,index:F,ptr:E,size:[h,D],datatype:v})}}),ff="matAlgo12xSfs",cf=["typed","DenseMatrix"],Ee=j(ff,cf,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,u,f,p){var c=t._values,l=t._index,o=t._ptr,i=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=i[0],D=i[1],v,m=f;typeof s=="string"&&(v=s,u=e.convert(u,v),m=e.find(f,[v,v]));for(var d=[],w=[],y=[],F=0;F<D;F++){for(var E=F+1,g=o[F],C=o[F+1],b=g;b<C;b++){var A=l[b];w[A]=c[b],y[A]=E}for(var S=0;S<h;S++)F===0&&(d[S]=[]),y[S]===E?d[S][F]=p?m(u,w[S]):m(w[S],u):d[S][F]=p?m(u,0):m(0,u)}return new n({data:d,size:[h,D],datatype:v})}}),lf="matAlgo14xDs",vf=["typed"],ci=j(lf,vf,r=>{var{typed:e}=r;return function(t,u,f,p){var c=t._data,l=t._size,o=t._datatype,i,s=f;typeof o=="string"&&(i=o,u=e.convert(u,i),s=e.find(f,[i,i]));var h=l.length>0?n(s,0,l,l[0],c,u,p):[];return t.createDenseMatrix({data:h,size:Ar(l),datatype:i})};function n(a,t,u,f,p,c,l){var o=[];if(t===u.length-1)for(var i=0;i<f;i++)o[i]=l?a(c,p[i]):a(p[i],c);else for(var s=0;s<f;s++)o[s]=n(a,t+1,u,u[t+1],p[s],c,l);return o}}),hf="matAlgo03xDSf",pf=["typed"],Fe=j(hf,pf,r=>{var{typed:e}=r;return function(a,t,u,f){var p=a._data,c=a._size,l=a._datatype||a.getDataType(),o=t._values,i=t._index,s=t._ptr,h=t._size,D=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(c.length!==h.length)throw new yr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],m=c[1],d,w=0,y=u;typeof l=="string"&&l===D&&l!=="mixed"&&(d=l,w=e.convert(0,d),y=e.find(u,[d,d]));for(var F=[],E=0;E<v;E++)F[E]=[];for(var g=[],C=[],b=0;b<m;b++){for(var A=b+1,S=s[b],M=s[b+1],N=S;N<M;N++){var O=i[N];g[O]=f?y(o[N],p[O][b]):y(p[O][b],o[N]),C[O]=A}for(var T=0;T<v;T++)C[T]===A?F[T][b]=g[T]:F[T][b]=f?y(w,p[T][b]):y(p[T][b],w)}return a.createDenseMatrix({data:F,size:[v,m],datatype:l===a._datatype&&D===t._datatype?d:void 0})}}),df="matAlgo05xSfSf",mf=["typed","equalScalar"],li=j(df,mf,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f){var p=t._values,c=t._index,l=t._ptr,o=t._size,i=t._datatype||t._data===void 0?t._datatype:t.getDataType(),s=u._values,h=u._index,D=u._ptr,v=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==v.length)throw new yr(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");var d=o[0],w=o[1],y,F=n,E=0,g=f;typeof i=="string"&&i===m&&i!=="mixed"&&(y=i,F=e.find(n,[y,y]),E=e.convert(0,y),g=e.find(f,[y,y]));var C=p&&s?[]:void 0,b=[],A=[],S=C?[]:void 0,M=C?[]:void 0,N=[],O=[],T,I,B,J;for(I=0;I<w;I++){A[I]=b.length;var q=I+1;for(B=l[I],J=l[I+1];B<J;B++)T=c[B],b.push(T),N[T]=q,S&&(S[T]=p[B]);for(B=D[I],J=D[I+1];B<J;B++)T=h[B],N[T]!==q&&b.push(T),O[T]=q,M&&(M[T]=s[B]);if(C)for(B=A[I];B<b.length;){T=b[B];var z=N[T],Z=O[T];if(z===q||Z===q){var W=z===q?S[T]:E,U=Z===q?M[T]:E,R=g(W,U);F(R,E)?b.splice(B,1):(C.push(R),B++)}}}return A[w]=b.length,t.createSparseMatrix({values:C,index:b,ptr:A,size:[d,w],datatype:i===t._datatype&&m===u._datatype?y:void 0})}}),Df="matAlgo13xDD",gf=["typed"],yf=j(Df,gf,r=>{var{typed:e}=r;return function(t,u,f){var p=t._data,c=t._size,l=t._datatype,o=u._data,i=u._size,s=u._datatype,h=[];if(c.length!==i.length)throw new yr(c.length,i.length);for(var D=0;D<c.length;D++){if(c[D]!==i[D])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+i+")");h[D]=c[D]}var v,m=f;typeof l=="string"&&l===s&&(v=l,m=e.find(f,[v,v]));var d=h.length>0?n(m,0,h,h[0],p,o):[];return t.createDenseMatrix({data:d,size:h,datatype:v})};function n(a,t,u,f,p,c){var l=[];if(t===u.length-1)for(var o=0;o<f;o++)l[o]=a(p[o],c[o]);else for(var i=0;i<f;i++)l[i]=n(a,t+1,u,u[t+1],p[i],c[i]);return l}}),wf="broadcast",Af=["concat"],Ef=j(wf,Af,r=>{var{concat:e}=r;return function(t,u){var f=Math.max(t._size.length,u._size.length);if(t._size.length===u._size.length&&t._size.every((D,v)=>D===u._size[v]))return[t,u];for(var p=n(t._size,f,0),c=n(u._size,f,0),l=[],o=0;o<f;o++)l[o]=Math.max(p[o],c[o]);ct(p,l),ct(c,l);var i=t.clone(),s=u.clone();i._size.length<f?i.reshape(n(i._size,f,1)):s._size.length<f&&s.reshape(n(s._size,f,1));for(var h=0;h<f;h++)i._size[h]<l[h]&&(i=a(i,l[h],h)),s._size[h]<l[h]&&(s=a(s,l[h],h));return[i,s]};function n(t,u,f){return[...Array(u-t.length).fill(f),...t]}function a(t,u,f){return e(...Array(u).fill(t),f)}}),Ff="matrixAlgorithmSuite",Cf=["typed","matrix","concat"],De=j(Ff,Cf,r=>{var{typed:e,matrix:n,concat:a}=r,t=yf({typed:e}),u=ci({typed:e}),f=Ef({concat:a});return function(c){var l=c.elop,o=c.SD||c.DS,i;l?(i={"DenseMatrix, DenseMatrix":(v,m)=>t(...f(v,m),l),"Array, Array":(v,m)=>t(...f(n(v),n(m)),l).valueOf(),"Array, DenseMatrix":(v,m)=>t(...f(n(v),m),l),"DenseMatrix, Array":(v,m)=>t(...f(v,n(m)),l)},c.SS&&(i["SparseMatrix, SparseMatrix"]=(v,m)=>c.SS(...f(v,m),l,!1)),c.DS&&(i["DenseMatrix, SparseMatrix"]=(v,m)=>c.DS(...f(v,m),l,!1),i["Array, SparseMatrix"]=(v,m)=>c.DS(...f(n(v),m),l,!1)),o&&(i["SparseMatrix, DenseMatrix"]=(v,m)=>o(...f(m,v),l,!0),i["SparseMatrix, Array"]=(v,m)=>o(...f(n(m),v),l,!0))):(i={"DenseMatrix, DenseMatrix":e.referToSelf(v=>(m,d)=>t(...f(m,d),v)),"Array, Array":e.referToSelf(v=>(m,d)=>t(...f(n(m),n(d)),v).valueOf()),"Array, DenseMatrix":e.referToSelf(v=>(m,d)=>t(...f(n(m),d),v)),"DenseMatrix, Array":e.referToSelf(v=>(m,d)=>t(...f(m,n(d)),v))},c.SS&&(i["SparseMatrix, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.SS(...f(m,d),v,!1))),c.DS&&(i["DenseMatrix, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.DS(...f(m,d),v,!1)),i["Array, SparseMatrix"]=e.referToSelf(v=>(m,d)=>c.DS(...f(n(m),d),v,!1))),o&&(i["SparseMatrix, DenseMatrix"]=e.referToSelf(v=>(m,d)=>o(...f(d,m),v,!0)),i["SparseMatrix, Array"]=e.referToSelf(v=>(m,d)=>o(...f(n(d),m),v,!0))));var s=c.scalar||"any",h=c.Ds||c.Ss;h&&(l?(i["DenseMatrix,"+s]=(v,m)=>u(v,m,l,!1),i[s+", DenseMatrix"]=(v,m)=>u(m,v,l,!0),i["Array,"+s]=(v,m)=>u(n(v),m,l,!1).valueOf(),i[s+", Array"]=(v,m)=>u(n(m),v,l,!0).valueOf()):(i["DenseMatrix,"+s]=e.referToSelf(v=>(m,d)=>u(m,d,v,!1)),i[s+", DenseMatrix"]=e.referToSelf(v=>(m,d)=>u(d,m,v,!0)),i["Array,"+s]=e.referToSelf(v=>(m,d)=>u(n(m),d,v,!1).valueOf()),i[s+", Array"]=e.referToSelf(v=>(m,d)=>u(n(d),m,v,!0).valueOf())));var D=c.sS!==void 0?c.sS:c.Ss;return l?(c.Ss&&(i["SparseMatrix,"+s]=(v,m)=>c.Ss(v,m,l,!1)),D&&(i[s+", SparseMatrix"]=(v,m)=>D(m,v,l,!0))):(c.Ss&&(i["SparseMatrix,"+s]=e.referToSelf(v=>(m,d)=>c.Ss(m,d,v,!1))),D&&(i[s+", SparseMatrix"]=e.referToSelf(v=>(m,d)=>D(d,m,v,!0)))),l&&l.signatures&&zu(i,l.signatures),i}}),bf="matAlgo01xDSid",Mf=["typed"],vi=j(bf,Mf,r=>{var{typed:e}=r;return function(a,t,u,f){var p=a._data,c=a._size,l=a._datatype||a.getDataType(),o=t._values,i=t._index,s=t._ptr,h=t._size,D=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(c.length!==h.length)throw new yr(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=c[0],m=c[1],d=typeof l=="string"&&l!=="mixed"&&l===D?l:void 0,w=d?e.find(u,[d,d]):u,y,F,E=[];for(y=0;y<v;y++)E[y]=[];var g=[],C=[];for(F=0;F<m;F++){for(var b=F+1,A=s[F],S=s[F+1],M=A;M<S;M++)y=i[M],g[y]=f?w(o[M],p[y][F]):w(p[y][F],o[M]),C[y]=b;for(y=0;y<v;y++)C[y]===b?E[y][F]=g[y]:E[y][F]=p[y][F]}return a.createDenseMatrix({data:E,size:[v,m],datatype:l===a._datatype&&D===t._datatype?d:void 0})}}),Sf="matAlgo04xSidSid",Nf=["typed","equalScalar"],_f=j(Sf,Nf,r=>{var{typed:e,equalScalar:n}=r;return function(t,u,f){var p=t._values,c=t._index,l=t._ptr,o=t._size,i=t._datatype||t._data===void 0?t._datatype:t.getDataType(),s=u._values,h=u._index,D=u._ptr,v=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==v.length)throw new yr(o.length,v.length);if(o[0]!==v[0]||o[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+v+")");var d=o[0],w=o[1],y,F=n,E=0,g=f;typeof i=="string"&&i===m&&i!=="mixed"&&(y=i,F=e.find(n,[y,y]),E=e.convert(0,y),g=e.find(f,[y,y]));var C=p&&s?[]:void 0,b=[],A=[],S=p&&s?[]:void 0,M=p&&s?[]:void 0,N=[],O=[],T,I,B,J,q;for(I=0;I<w;I++){A[I]=b.length;var z=I+1;for(J=l[I],q=l[I+1],B=J;B<q;B++)T=c[B],b.push(T),N[T]=z,S&&(S[T]=p[B]);for(J=D[I],q=D[I+1],B=J;B<q;B++)if(T=h[B],N[T]===z){if(S){var Z=g(S[T],s[B]);F(Z,E)?N[T]=null:S[T]=Z}}else b.push(T),O[T]=z,M&&(M[T]=s[B]);if(S&&M)for(B=A[I];B<b.length;)T=b[B],N[T]===z?(C[B]=S[T],B++):O[T]===z?(C[B]=M[T],B++):b.splice(B,1)}return A[w]=b.length,t.createSparseMatrix({values:C,index:b,ptr:A,size:[d,w],datatype:i===t._datatype&&m===u._datatype?y:void 0})}}),Bf="matAlgo10xSids",xf=["typed","DenseMatrix"],hi=j(Bf,xf,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,u,f,p){var c=t._values,l=t._index,o=t._ptr,i=t._size,s=t._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=i[0],D=i[1],v,m=f;typeof s=="string"&&(v=s,u=e.convert(u,v),m=e.find(f,[v,v]));for(var d=[],w=[],y=[],F=0;F<D;F++){for(var E=F+1,g=o[F],C=o[F+1],b=g;b<C;b++){var A=l[b];w[A]=c[b],y[A]=E}for(var S=0;S<h;S++)F===0&&(d[S]=[]),y[S]===E?d[S][F]=p?m(u,w[S]):m(w[S],u):d[S][F]=u}return new n({data:d,size:[h,D],datatype:v})}}),zf="multiplyScalar",Tf=["typed"],Of=j(zf,Tf,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":ai,"Complex, Complex":function(a,t){return a.mul(t)},"BigNumber, BigNumber":function(a,t){return a.times(t)},"Fraction, Fraction":function(a,t){return a.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),On="multiply",If=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],$f=j(On,If,r=>{var{typed:e,matrix:n,addScalar:a,multiplyScalar:t,equalScalar:u,dot:f}=r,p=sf({typed:e,equalScalar:u}),c=ci({typed:e});function l(E,g){switch(E.length){case 1:switch(g.length){case 1:if(E[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(E[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+g[0]+")");break;case 2:if(E[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function o(E,g,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return f(E,g)}function i(E,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return s(E,g)}function s(E,g){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=g._data,M=g._size,N=g._datatype||g.getDataType(),O=b[0],T=M[1],I,B=a,J=t;A&&N&&A===N&&typeof A=="string"&&A!=="mixed"&&(I=A,B=e.find(a,[I,I]),J=e.find(t,[I,I]));for(var q=[],z=0;z<T;z++){for(var Z=J(C[0],S[0][z]),W=1;W<O;W++)Z=B(Z,J(C[W],S[W][z]));q[z]=Z}return E.createDenseMatrix({data:q,size:[T],datatype:A===E._datatype&&N===g._datatype?I:void 0})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":v,"SparseMatrix, any":w}),D=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":d,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":F});function v(E,g){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=g._data,M=g._datatype||g.getDataType(),N=b[0],O=b[1],T,I=a,B=t;A&&M&&A===M&&typeof A=="string"&&A!=="mixed"&&(T=A,I=e.find(a,[T,T]),B=e.find(t,[T,T]));for(var J=[],q=0;q<N;q++){for(var z=C[q],Z=B(z[0],S[0]),W=1;W<O;W++)Z=I(Z,B(z[W],S[W]));J[q]=Z}return E.createDenseMatrix({data:J,size:[N],datatype:A===E._datatype&&M===g._datatype?T:void 0})}function m(E,g){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=g._data,M=g._size,N=g._datatype||g.getDataType(),O=b[0],T=b[1],I=M[1],B,J=a,q=t;A&&N&&A===N&&typeof A=="string"&&A!=="mixed"&&A!=="mixed"&&(B=A,J=e.find(a,[B,B]),q=e.find(t,[B,B]));for(var z=[],Z=0;Z<O;Z++){var W=C[Z];z[Z]=[];for(var U=0;U<I;U++){for(var R=q(W[0],S[0][U]),V=1;V<T;V++)R=J(R,q(W[V],S[V][U]));z[Z][U]=R}}return E.createDenseMatrix({data:z,size:[O,I],datatype:A===E._datatype&&N===g._datatype?B:void 0})}function d(E,g){var C=E._data,b=E._size,A=E._datatype||E.getDataType(),S=g._values,M=g._index,N=g._ptr,O=g._size,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=b[0],B=O[1],J,q=a,z=t,Z=u,W=0;A&&T&&A===T&&typeof A=="string"&&A!=="mixed"&&(J=A,q=e.find(a,[J,J]),z=e.find(t,[J,J]),Z=e.find(u,[J,J]),W=e.convert(0,J));for(var U=[],R=[],V=[],nr=g.createSparseMatrix({values:U,index:R,ptr:V,size:[I,B],datatype:A===E._datatype&&T===g._datatype?J:void 0}),k=0;k<B;k++){V[k]=R.length;var L=N[k],X=N[k+1];if(X>L)for(var K=0,G=0;G<I;G++){for(var ur=G+1,rr=void 0,or=L;or<X;or++){var fr=M[or];K!==ur?(rr=z(C[G][fr],S[or]),K=ur):rr=q(rr,z(C[G][fr],S[or]))}K===ur&&!Z(rr,W)&&(R.push(G),U.push(rr))}}return V[B]=R.length,nr}function w(E,g){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=g._data,N=g._datatype||g.getDataType(),O=E._size[0],T=g._size[0],I=[],B=[],J=[],q,z=a,Z=t,W=u,U=0;S&&N&&S===N&&typeof S=="string"&&S!=="mixed"&&(q=S,z=e.find(a,[q,q]),Z=e.find(t,[q,q]),W=e.find(u,[q,q]),U=e.convert(0,q));var R=[],V=[];J[0]=0;for(var nr=0;nr<T;nr++){var k=M[nr];if(!W(k,U))for(var L=A[nr],X=A[nr+1],K=L;K<X;K++){var G=b[K];V[G]?R[G]=z(R[G],Z(k,C[K])):(V[G]=!0,B.push(G),R[G]=Z(k,C[K]))}}for(var ur=B.length,rr=0;rr<ur;rr++){var or=B[rr];I[rr]=R[or]}return J[1]=B.length,E.createSparseMatrix({values:I,index:B,ptr:J,size:[O,1],datatype:S===E._datatype&&N===g._datatype?q:void 0})}function y(E,g){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=g._data,N=g._datatype||g.getDataType(),O=E._size[0],T=g._size[0],I=g._size[1],B,J=a,q=t,z=u,Z=0;S&&N&&S===N&&typeof S=="string"&&S!=="mixed"&&(B=S,J=e.find(a,[B,B]),q=e.find(t,[B,B]),z=e.find(u,[B,B]),Z=e.convert(0,B));for(var W=[],U=[],R=[],V=E.createSparseMatrix({values:W,index:U,ptr:R,size:[O,I],datatype:S===E._datatype&&N===g._datatype?B:void 0}),nr=[],k=[],L=0;L<I;L++){R[L]=U.length;for(var X=L+1,K=0;K<T;K++){var G=M[K][L];if(!z(G,Z))for(var ur=A[K],rr=A[K+1],or=ur;or<rr;or++){var fr=b[or];k[fr]!==X?(k[fr]=X,U.push(fr),nr[fr]=q(G,C[or])):nr[fr]=J(nr[fr],q(G,C[or]))}}for(var hr=R[L],mr=U.length,Dr=hr;Dr<mr;Dr++){var cr=U[Dr];W[Dr]=nr[cr]}}return R[I]=U.length,V}function F(E,g){var C=E._values,b=E._index,A=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType(),M=g._values,N=g._index,O=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType(),I=E._size[0],B=g._size[1],J=C&&M,q,z=a,Z=t;S&&T&&S===T&&typeof S=="string"&&S!=="mixed"&&(q=S,z=e.find(a,[q,q]),Z=e.find(t,[q,q]));for(var W=J?[]:void 0,U=[],R=[],V=E.createSparseMatrix({values:W,index:U,ptr:R,size:[I,B],datatype:S===E._datatype&&T===g._datatype?q:void 0}),nr=J?[]:void 0,k=[],L,X,K,G,ur,rr,or,fr,hr=0;hr<B;hr++){R[hr]=U.length;var mr=hr+1;for(ur=O[hr],rr=O[hr+1],G=ur;G<rr;G++)if(fr=N[G],J)for(X=A[fr],K=A[fr+1],L=X;L<K;L++)or=b[L],k[or]!==mr?(k[or]=mr,U.push(or),nr[or]=Z(M[G],C[L])):nr[or]=z(nr[or],Z(M[G],C[L]));else for(X=A[fr],K=A[fr+1],L=X;L<K;L++)or=b[L],k[or]!==mr&&(k[or]=mr,U.push(or));if(J)for(var Dr=R[hr],cr=U.length,wr=Dr;wr<cr;wr++){var gr=U[wr];W[wr]=nr[gr]}}return R[B]=U.length,V}return e(On,t,{"Array, Array":e.referTo("Matrix, Matrix",E=>(g,C)=>{l(zr(g),zr(C));var b=E(n(g),n(C));return Sr(b)?b.valueOf():b}),"Matrix, Matrix":function(g,C){var b=g.size(),A=C.size();return l(b,A),b.length===1?A.length===1?o(g,C,b[0]):i(g,C):A.length===1?h(g,C):D(g,C)},"Matrix, Array":e.referTo("Matrix,Matrix",E=>(g,C)=>E(g,n(C))),"Array, Matrix":e.referToSelf(E=>(g,C)=>E(n(g,C.storage()),C)),"SparseMatrix, any":function(g,C){return p(g,C,t,!1)},"DenseMatrix, any":function(g,C){return c(g,C,t,!1)},"any, SparseMatrix":function(g,C){return p(C,g,t,!0)},"any, DenseMatrix":function(g,C){return c(C,g,t,!0)},"Array, any":function(g,C){return c(n(g),C,t,!1).valueOf()},"any, Array":function(g,C){return c(n(C),g,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(E=>(g,C,b)=>{for(var A=E(g,C),S=0;S<b.length;S++)A=E(A,b[S]);return A})})}),In="sign",qf=["typed","BigNumber","Fraction","complex"],Pf=j(In,qf,r=>{var{typed:e,BigNumber:n,complex:a,Fraction:t}=r;return e(In,{number:Vt,Complex:function(f){return f.im===0?a(Vt(f.re)):f.sign()},BigNumber:function(f){return new n(f.cmp(0))},Fraction:function(f){return new t(f.s,1)},"Array | Matrix":e.referToSelf(u=>f=>Qr(f,u)),Unit:e.referToSelf(u=>f=>{if(!f._isDerived()&&f.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(u,f.valueType())(f.value)})})}),Rf="sqrt",Uf=["config","typed","Complex"],Lf=j(Rf,Uf,r=>{var{config:e,typed:n,Complex:a}=r;return n("sqrt",{number:t,Complex:function(f){return f.sqrt()},BigNumber:function(f){return!f.isNegative()||e.predictable?f.sqrt():t(f.toNumber())},Unit:function(f){return f.pow(.5)}});function t(u){return isNaN(u)?NaN:u>=0||e.predictable?Math.sqrt(u):new a(u,0).sqrt()}}),$n="subtract",Zf=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Vf=j($n,Zf,r=>{var{typed:e,matrix:n,equalScalar:a,subtractScalar:t,unaryMinus:u,DenseMatrix:f,concat:p}=r,c=vi({typed:e}),l=Fe({typed:e}),o=li({typed:e,equalScalar:a}),i=hi({typed:e,DenseMatrix:f}),s=Ee({typed:e,DenseMatrix:f}),h=De({typed:e,matrix:n,concat:p});return e($n,{"any, any":t},h({elop:t,SS:o,DS:c,SD:l,Ss:s,sS:i}))}),Jf="matAlgo07xSSf",Yf=["typed","DenseMatrix"],Ke=j(Jf,Yf,r=>{var{typed:e,DenseMatrix:n}=r;return function(u,f,p){var c=u._size,l=u._datatype||u._data===void 0?u._datatype:u.getDataType(),o=f._size,i=f._datatype||f._data===void 0?f._datatype:f.getDataType();if(c.length!==o.length)throw new yr(c.length,o.length);if(c[0]!==o[0]||c[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+o+")");var s=c[0],h=c[1],D,v=0,m=p;typeof l=="string"&&l===i&&l!=="mixed"&&(D=l,v=e.convert(0,D),m=e.find(p,[D,D]));var d,w,y=[];for(d=0;d<s;d++)y[d]=[];var F=[],E=[],g=[],C=[];for(w=0;w<h;w++){var b=w+1;for(a(u,w,g,F,b),a(f,w,C,E,b),d=0;d<s;d++){var A=g[d]===b?F[d]:v,S=C[d]===b?E[d]:v;y[d][w]=m(A,S)}}return new n({data:y,size:[s,h],datatype:l===u._datatype&&i===f._datatype?D:void 0})};function a(t,u,f,p,c){for(var l=t._values,o=t._index,i=t._ptr,s=i[u],h=i[u+1];s<h;s++){var D=o[s];f[D]=c,p[D]=l[s]}}}),qn="conj",Gf=["typed"],Qf=j(qn,Gf,r=>{var{typed:e}=r;return e(qn,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),Pn="im",Xf=["typed"],Kf=j(Pn,Xf,r=>{var{typed:e}=r;return e(Pn,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),Rn="re",Wf=["typed"],Hf=j(Rn,Wf,r=>{var{typed:e}=r;return e(Rn,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":e.referToSelf(n=>a=>Qr(a,n))})}),Un="concat",kf=["typed","matrix","isInteger"],jf=j(Un,kf,r=>{var{typed:e,matrix:n,isInteger:a}=r;return e(Un,{"...Array | Matrix | number | BigNumber":function(u){var f,p=u.length,c=-1,l,o=!1,i=[];for(f=0;f<p;f++){var s=u[f];if(Sr(s)&&(o=!0),Nr(s)||Or(s)){if(f!==p-1)throw new Error("Dimension must be specified as last argument");if(l=c,c=s.valueOf(),!a(c))throw new TypeError("Integer number expected for dimension");if(c<0||f>0&&c>l)throw new Ae(c,l+1)}else{var h=Ar(s).valueOf(),D=zr(h);if(i[f]=h,l=c,c=D.length-1,f>0&&c!==l)throw new yr(l+1,c+1)}}if(i.length===0)throw new SyntaxError("At least one matrix expected");for(var v=i.shift();i.length;)v=ja(v,i.shift(),c);return o?n(v):v},"...string":function(u){return u.join("")}})}),Ln="column",r0=["typed","Index","matrix","range"],e0=j(Ln,r0,r=>{var{typed:e,Index:n,matrix:a,range:t}=r;return e(Ln,{"Matrix, number":u,"Array, number":function(p,c){return u(a(Ar(p)),c).valueOf()}});function u(f,p){if(f.size().length!==2)throw new Error("Only two dimensional matrix is supported");Mr(p,f.size()[1]);var c=t(0,f.size()[0]),l=new n(c,p),o=f.subset(l);return Sr(o)?o:a([[o]])}}),Zn="diag",t0=["typed","matrix","DenseMatrix","SparseMatrix"],n0=j(Zn,t0,r=>{var{typed:e,matrix:n,DenseMatrix:a,SparseMatrix:t}=r;return e(Zn,{Array:function(l){return u(l,0,zr(l),null)},"Array, number":function(l,o){return u(l,o,zr(l),null)},"Array, BigNumber":function(l,o){return u(l,o.toNumber(),zr(l),null)},"Array, string":function(l,o){return u(l,0,zr(l),o)},"Array, number, string":function(l,o,i){return u(l,o,zr(l),i)},"Array, BigNumber, string":function(l,o,i){return u(l,o.toNumber(),zr(l),i)},Matrix:function(l){return u(l,0,l.size(),l.storage())},"Matrix, number":function(l,o){return u(l,o,l.size(),l.storage())},"Matrix, BigNumber":function(l,o){return u(l,o.toNumber(),l.size(),l.storage())},"Matrix, string":function(l,o){return u(l,0,l.size(),o)},"Matrix, number, string":function(l,o,i){return u(l,o,l.size(),i)},"Matrix, BigNumber, string":function(l,o,i){return u(l,o.toNumber(),l.size(),i)}});function u(c,l,o,i){if(!_r(l))throw new TypeError("Second parameter in function diag must be an integer");var s=l>0?l:0,h=l<0?-l:0;switch(o.length){case 1:return f(c,l,i,o[0],h,s);case 2:return p(c,l,i,o,h,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function f(c,l,o,i,s,h){var D=[i+s,i+h];if(o&&o!=="sparse"&&o!=="dense")throw new TypeError("Unknown matrix type ".concat(o,'"'));var v=o==="sparse"?t.diagonal(D,c,l):a.diagonal(D,c,l);return o!==null?v:v.valueOf()}function p(c,l,o,i,s,h){if(Sr(c)){var D=c.diagonal(l);return o!==null?o!==D.storage()?n(D,o):D:D.valueOf()}for(var v=Math.min(i[0]-s,i[1]-h),m=[],d=0;d<v;d++)m[d]=c[d+s][d+h];return o!==null?n(m):m}}),Vn="flatten",a0=["typed","matrix"],i0=j(Vn,a0,r=>{var{typed:e,matrix:n}=r;return e(Vn,{Array:function(t){return xe(t)},Matrix:function(t){var u=xe(t.toArray());return n(u)}})}),Jn="getMatrixDataType",u0=["typed"],o0=j(Jn,u0,r=>{var{typed:e}=r;return e(Jn,{Array:function(a){return Xe(a,ee)},Matrix:function(a){return a.getDataType()}})}),Yn="identity",s0=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],f0=j(Yn,s0,r=>{var{typed:e,config:n,matrix:a,BigNumber:t,DenseMatrix:u,SparseMatrix:f}=r;return e(Yn,{"":function(){return n.matrix==="Matrix"?a([]):[]},string:function(o){return a(o)},"number | BigNumber":function(o){return c(o,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(o,i){return c(o,o,i)},"number | BigNumber, number | BigNumber":function(o,i){return c(o,i,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(o,i,s){return c(o,i,s)},Array:function(o){return p(o)},"Array, string":function(o,i){return p(o,i)},Matrix:function(o){return p(o.valueOf(),o.storage())},"Matrix, string":function(o,i){return p(o.valueOf(),i)}});function p(l,o){switch(l.length){case 0:return o?a(o):[];case 1:return c(l[0],l[0],o);case 2:return c(l[0],l[1],o);default:throw new Error("Vector containing two values expected")}}function c(l,o,i){var s=Or(l)||Or(o)?t:null;if(Or(l)&&(l=l.toNumber()),Or(o)&&(o=o.toNumber()),!_r(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!_r(o)||o<1)throw new Error("Parameters in function identity must be positive integers");var h=s?new t(1):1,D=s?new s(0):0,v=[l,o];if(i){if(i==="sparse")return f.diagonal(v,h,0,D);if(i==="dense")return u.diagonal(v,h,0,D);throw new TypeError('Unknown matrix type "'.concat(i,'"'))}for(var m=ft([],v,D),d=l<o?l:o,w=0;w<d;w++)m[w][w]=h;return m}}),Gn="kron",c0=["typed","matrix","multiplyScalar"],l0=j(Gn,c0,r=>{var{typed:e,matrix:n,multiplyScalar:a}=r;return e(Gn,{"Matrix, Matrix":function(f,p){return n(t(f.toArray(),p.toArray()))},"Matrix, Array":function(f,p){return n(t(f.toArray(),p))},"Array, Matrix":function(f,p){return n(t(f,p.toArray()))},"Array, Array":t});function t(u,f){if(zr(u).length===1&&(u=[u]),zr(f).length===1&&(f=[f]),zr(u).length>2||zr(f).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(u.length)+", y = "+JSON.stringify(f.length)+")");var p=[],c=[];return u.map(function(l){return f.map(function(o){return c=[],p.push(c),l.map(function(i){return o.map(function(s){return c.push(a(i,s))})})})})&&p}});function pi(){throw new Error('No "bignumber" implementation available')}function v0(){throw new Error('No "fraction" implementation available')}function di(){throw new Error('No "matrix" implementation available')}var Qn="range",h0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],p0=j(Qn,h0,r=>{var{typed:e,config:n,matrix:a,bignumber:t,smaller:u,smallerEq:f,larger:p,largerEq:c,add:l,isPositive:o}=r;return e(Qn,{string:s,"string, boolean":s,"number, number":function(m,d){return i(h(m,d,1,!1))},"number, number, number":function(m,d,w){return i(h(m,d,w,!1))},"number, number, boolean":function(m,d,w){return i(h(m,d,1,w))},"number, number, number, boolean":function(m,d,w,y){return i(h(m,d,w,y))},"BigNumber, BigNumber":function(m,d){var w=m.constructor;return i(h(m,d,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,d,w){return i(h(m,d,w,!1))},"BigNumber, BigNumber, boolean":function(m,d,w){var y=m.constructor;return i(h(m,d,new y(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(m,d,w,y){return i(h(m,d,w,y))},"Unit, Unit, Unit":function(m,d,w){return i(h(m,d,w,!1))},"Unit, Unit, Unit, boolean":function(m,d,w,y){return i(h(m,d,w,y))}});function i(v){return n.matrix==="Matrix"?a?a(v):di():v}function s(v,m){var d=D(v);if(!d)throw new SyntaxError('String "'+v+'" is no valid range');return n.number==="BigNumber"?(t===void 0&&pi(),i(h(t(d.start),t(d.end),t(d.step)))):i(h(d.start,d.end,d.step,m))}function h(v,m,d,w){for(var y=[],F=o(d)?w?f:u:w?c:p,E=v;F(E,m);)y.push(E),E=l(E,d);return y}function D(v){var m=v.split(":"),d=m.map(function(y){return Number(y)}),w=d.some(function(y){return isNaN(y)});if(w)return null;switch(d.length){case 2:return{start:d[0],end:d[1],step:1};case 3:return{start:d[0],end:d[2],step:d[1]};default:return null}}}),Xn="reshape",d0=["typed","isInteger","matrix"],m0=j(Xn,d0,r=>{var{typed:e,isInteger:n}=r;return e(Xn,{"Matrix, Array":function(t,u){return t.reshape(u,!0)},"Array, Array":function(t,u){return u.forEach(function(f){if(!n(f))throw new TypeError("Invalid size for dimension: "+f)}),Wt(t,u)}})}),Kn="size",D0=["typed","config","?matrix"],g0=j(Kn,D0,r=>{var{typed:e,config:n,matrix:a}=r;return e(Kn,{Matrix:function(u){return u.create(u.size())},Array:zr,string:function(u){return n.matrix==="Array"?[u.length]:a([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:a?a([]):di()}})}),Wn="subset",y0=["typed","matrix","zeros","add"],w0=j(Wn,y0,r=>{var{typed:e,matrix:n,zeros:a,add:t}=r;return e(Wn,{"Matrix, Index":function(p,c){return $e(c)?n():(st(p,c),p.subset(c))},"Array, Index":e.referTo("Matrix, Index",function(f){return function(p,c){var l=f(n(p),c);return c.isScalar()?l:l.valueOf()}}),"Object, Index":E0,"string, Index":A0,"Matrix, Index, any, any":function(p,c,l,o){return $e(c)?p:(st(p,c),p.clone().subset(c,u(l,c),o))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(f){return function(p,c,l,o){var i=f(n(p),c,l,o);return i.isMatrix?i.valueOf():i}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(f){return function(p,c,l){return f(n(p),c,l,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(f){return function(p,c,l){return f(p,c,l,void 0)}}),"string, Index, string":Hn,"string, Index, string, string":Hn,"Object, Index, any":F0});function u(f,p){if(typeof f=="string")throw new Error("can't boradcast a string");if(p._isScalar)return f;var c=p.size();if(c.every(l=>l>0))try{return t(f,a(c))}catch{return f}else return f}});function A0(r,e){if(!gt(e))throw new TypeError("Index expected");if($e(e))return"";if(st(Array.from(r),e),e.size().length!==1)throw new yr(e.size().length,1);var n=r.length;Mr(e.min()[0],n),Mr(e.max()[0],n);var a=e.dimension(0),t="";return a.forEach(function(u){t+=r.charAt(u)}),t}function Hn(r,e,n,a){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if($e(e))return r;if(st(Array.from(r),e),e.size().length!==1)throw new yr(e.size().length,1);if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";var t=e.dimension(0),u=t.size()[0];if(u!==n.length)throw new yr(t.size()[0],n.length);var f=r.length;Mr(e.min()[0]),Mr(e.max()[0]);for(var p=[],c=0;c<f;c++)p[c]=r.charAt(c);if(t.forEach(function(i,s){p[i]=n.charAt(s[0])}),p.length>f)for(var l=f-1,o=p.length;l<o;l++)p[l]||(p[l]=a);return p.join("")}function E0(r,e){if(!$e(e)){if(e.size().length!==1)throw new yr(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return _a(r,n)}}function F0(r,e,n){if($e(e))return r;if(e.size().length!==1)throw new yr(e.size(),1);var a=e.dimension(0);if(typeof a!="string")throw new TypeError("String expected as index to retrieve an object property");var t=Ar(r);return Ba(t,a,n),t}var kn="transpose",C0=["typed","matrix"],b0=j(kn,C0,r=>{var{typed:e,matrix:n}=r;return e(kn,{Array:f=>a(n(f)).valueOf(),Matrix:a,any:Ar});function a(f){var p=f.size(),c;switch(p.length){case 1:c=f.clone();break;case 2:{var l=p[0],o=p[1];if(o===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Tr(p)+")");switch(f.storage()){case"dense":c=t(f,l,o);break;case"sparse":c=u(f,l,o);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Tr(p)+")")}return c}function t(f,p,c){for(var l=f._data,o=[],i,s=0;s<c;s++){i=o[s]=[];for(var h=0;h<p;h++)i[h]=Ar(l[h][s])}return f.createDenseMatrix({data:o,size:[c,p],datatype:f._datatype})}function u(f,p,c){for(var l=f._values,o=f._index,i=f._ptr,s=l?[]:void 0,h=[],D=[],v=[],m=0;m<p;m++)v[m]=0;var d,w,y;for(d=0,w=o.length;d<w;d++)v[o[d]]++;for(var F=0,E=0;E<p;E++)D.push(F),F+=v[E],v[E]=D[E];for(D.push(F),y=0;y<c;y++)for(var g=i[y],C=i[y+1],b=g;b<C;b++){var A=v[o[b]]++;h[A]=y,l&&(s[A]=Ar(l[b]))}return f.createSparseMatrix({values:s,index:h,ptr:D,size:[c,p],datatype:f._datatype})}}),jn="ctranspose",M0=["typed","transpose","conj"],S0=j(jn,M0,r=>{var{typed:e,transpose:n,conj:a}=r;return e(jn,{any:function(u){return a(n(u))}})}),ra="zeros",N0=["typed","config","matrix","BigNumber"],_0=j(ra,N0,r=>{var{typed:e,config:n,matrix:a,BigNumber:t}=r;return e(ra,{"":function(){return n.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(l){var o=l[l.length-1];if(typeof o=="string"){var i=l.pop();return u(l,i)}else return n.matrix==="Array"?u(l):u(l,"default")},Array:u,Matrix:function(l){var o=l.storage();return u(l.valueOf(),o)},"Array | Matrix, string":function(l,o){return u(l.valueOf(),o)}});function u(c,l){var o=f(c),i=o?new t(0):0;if(p(c),l){var s=a(l);return c.length>0?s.resize(c,i):s}else{var h=[];return c.length>0?ft(h,c,i):h}}function f(c){var l=!1;return c.forEach(function(o,i,s){Or(o)&&(l=!0,s[i]=o.toNumber())}),l}function p(c){c.forEach(function(l){if(typeof l!="number"||!_r(l)||l<0)throw new Error("Parameters in function zeros must be positive integers")})}}),B0="numeric",x0=["number","?bignumber","?fraction"],z0=j(B0,x0,r=>{var{number:e,bignumber:n,fraction:a}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:f=>e(f),BigNumber:n?f=>n(f):pi,Fraction:a?f=>a(f):v0};return function(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var o=ee(p);if(!(o in t))throw new TypeError("Cannot convert "+p+' of type "'+o+'"; valid input types are '+Object.keys(t).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+p+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===o?p:u[c](p)}}),ea="divideScalar",T0=["typed","numeric"],O0=j(ea,T0,r=>{var{typed:e,numeric:n}=r;return e(ea,{"number, number":function(t,u){return t/u},"Complex, Complex":function(t,u){return t.div(u)},"BigNumber, BigNumber":function(t,u){return t.div(u)},"Fraction, Fraction":function(t,u){return t.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,t)=>a.divide(t),"number | Fraction | Complex | BigNumber, Unit":(a,t)=>t.divideInto(a)})}),ta="pow",I0=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],$0=j(ta,I0,r=>{var{typed:e,config:n,identity:a,multiply:t,matrix:u,inv:f,number:p,fraction:c,Complex:l}=r;return e(ta,{"number, number":o,"Complex, Complex":function(D,v){return D.pow(v)},"BigNumber, BigNumber":function(D,v){return v.isInteger()||D>=0||n.predictable?D.pow(v):new l(D.toNumber(),0).pow(v.toNumber(),0)},"Fraction, Fraction":function(D,v){var m=D.pow(v);if(m!=null)return m;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return o(D.valueOf(),v.valueOf())},"Array, number":i,"Array, BigNumber":function(D,v){return i(D,v.toNumber())},"Matrix, number":s,"Matrix, BigNumber":function(D,v){return s(D,v.toNumber())},"Unit, number | BigNumber":function(D,v){return D.pow(v)}});function o(h,D){if(n.predictable&&!_r(D)&&h<0)try{var v=c(D),m=p(v);if((D===m||Math.abs((D-m)/D)<1e-14)&&v.d%2===1)return(v.n%2===0?1:-1)*Math.pow(-h,D)}catch{}return n.predictable&&(h<-1&&D===1/0||h>-1&&h<0&&D===-1/0)?NaN:_r(D)||h>=0||n.predictable?ui(h,D):h*h<1&&D===1/0||h*h>1&&D===-1/0?0:new l(h,0).pow(D,0)}function i(h,D){if(!_r(D))throw new TypeError("For A^b, b must be an integer (value is "+D+")");var v=zr(h);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");if(D<0)try{return i(f(h),-D)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+D+")"):w}for(var m=a(v[0]).valueOf(),d=h;D>=1;)(D&1)===1&&(m=t(d,m)),D>>=1,d=t(d,d);return m}function s(h,D){return u(i(h.valueOf(),D))}});function bt(r){var{DenseMatrix:e}=r;return function(a,t,u){var f=a.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Tr(f)+")");var p=f[0],c=f[1];if(p!==c)throw new RangeError("Matrix must be square (size: "+Tr(f)+")");var l=[];if(Sr(t)){var o=t.size(),i=t._data;if(o.length===1){if(o[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var s=0;s<p;s++)l[s]=[i[s]];return new e({data:l,size:[p,1],datatype:t._datatype})}if(o.length===2){if(o[0]!==p||o[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(at(t)){if(u){l=[];for(var h=0;h<p;h++)l[h]=[i[h][0]];return new e({data:l,size:[p,1],datatype:t._datatype})}return t}if(Ne(t)){for(var D=0;D<p;D++)l[D]=[0];for(var v=t._values,m=t._index,d=t._ptr,w=d[1],y=d[0];y<w;y++){var F=m[y];l[F][0]=v[y]}return new e({data:l,size:[p,1],datatype:t._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Er(t)){var E=zr(t);if(E.length===1){if(E[0]!==p)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var g=0;g<p;g++)l[g]=[t[g]];return new e({data:l,size:[p,1]})}if(E.length===2){if(E[0]!==p||E[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<p;C++)l[C]=[t[C][0]];return new e({data:l,size:[p,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var na="lsolve",q0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],P0=j(na,q0,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:p}=r,c=bt({DenseMatrix:p});return e(na,{"SparseMatrix, Array | Matrix":function(s,h){return o(s,h)},"DenseMatrix, Array | Matrix":function(s,h){return l(s,h)},"Array, Array | Matrix":function(s,h){var D=n(s),v=l(D,h);return v.valueOf()}});function l(i,s){s=c(i,s,!0);for(var h=s._data,D=i._size[0],v=i._size[1],m=[],d=i._data,w=0;w<v;w++){var y=h[w][0]||0,F=void 0;if(f(y,0))F=0;else{var E=d[w][w];if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");F=a(y,E);for(var g=w+1;g<D;g++)h[g]=[u(h[g][0]||0,t(F,d[g][w]))]}m[w]=[F]}return new p({data:m,size:[D,1]})}function o(i,s){s=c(i,s,!0);for(var h=s._data,D=i._size[0],v=i._size[1],m=i._values,d=i._index,w=i._ptr,y=[],F=0;F<v;F++){var E=h[F][0]||0;if(f(E,0))y[F]=[0];else{for(var g=0,C=[],b=[],A=w[F],S=w[F+1],M=A;M<S;M++){var N=d[M];N===F?g=m[M]:N>F&&(C.push(m[M]),b.push(N))}if(f(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=a(E,g),T=0,I=b.length;T<I;T++){var B=b[T];h[B]=[u(h[B][0]||0,t(O,C[T]))]}y[F]=[O]}}return new p({data:y,size:[D,1]})}}),aa="usolve",R0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],U0=j(aa,R0,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:p}=r,c=bt({DenseMatrix:p});return e(aa,{"SparseMatrix, Array | Matrix":function(s,h){return o(s,h)},"DenseMatrix, Array | Matrix":function(s,h){return l(s,h)},"Array, Array | Matrix":function(s,h){var D=n(s),v=l(D,h);return v.valueOf()}});function l(i,s){s=c(i,s,!0);for(var h=s._data,D=i._size[0],v=i._size[1],m=[],d=i._data,w=v-1;w>=0;w--){var y=h[w][0]||0,F=void 0;if(f(y,0))F=0;else{var E=d[w][w];if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");F=a(y,E);for(var g=w-1;g>=0;g--)h[g]=[u(h[g][0]||0,t(F,d[g][w]))]}m[w]=[F]}return new p({data:m,size:[D,1]})}function o(i,s){s=c(i,s,!0);for(var h=s._data,D=i._size[0],v=i._size[1],m=i._values,d=i._index,w=i._ptr,y=[],F=v-1;F>=0;F--){var E=h[F][0]||0;if(f(E,0))y[F]=[0];else{for(var g=0,C=[],b=[],A=w[F],S=w[F+1],M=S-1;M>=A;M--){var N=d[M];N===F?g=m[M]:N<F&&(C.push(m[M]),b.push(N))}if(f(g,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=a(E,g),T=0,I=b.length;T<I;T++){var B=b[T];h[B]=[u(h[B][0],t(O,C[T]))]}y[F]=[O]}}return new p({data:y,size:[D,1]})}}),ia="usolveAll",L0=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Z0=j(ia,L0,r=>{var{typed:e,matrix:n,divideScalar:a,multiplyScalar:t,subtractScalar:u,equalScalar:f,DenseMatrix:p}=r,c=bt({DenseMatrix:p});return e(ia,{"SparseMatrix, Array | Matrix":function(s,h){return o(s,h)},"DenseMatrix, Array | Matrix":function(s,h){return l(s,h)},"Array, Array | Matrix":function(s,h){var D=n(s),v=l(D,h);return v.map(m=>m.valueOf())}});function l(i,s){for(var h=[c(i,s,!0)._data.map(b=>b[0])],D=i._data,v=i._size[0],m=i._size[1],d=m-1;d>=0;d--)for(var w=h.length,y=0;y<w;y++){var F=h[y];if(f(D[d][d],0))if(f(F[d],0)){if(y===0){var g=[...F];g[d]=1;for(var C=d-1;C>=0;C--)g[C]=u(g[C],D[C][d]);h.push(g)}}else{if(y===0)return[];h.splice(y,1),y-=1,w-=1}else{F[d]=a(F[d],D[d][d]);for(var E=d-1;E>=0;E--)F[E]=u(F[E],t(F[d],D[E][d]))}}return h.map(b=>new p({data:b.map(A=>[A]),size:[v,1]}))}function o(i,s){for(var h=[c(i,s,!0)._data.map(W=>W[0])],D=i._size[0],v=i._size[1],m=i._values,d=i._index,w=i._ptr,y=v-1;y>=0;y--)for(var F=h.length,E=0;E<F;E++){for(var g=h[E],C=[],b=[],A=w[y],S=w[y+1],M=0,N=S-1;N>=A;N--){var O=d[N];O===y?M=m[N]:O<y&&(C.push(m[N]),b.push(O))}if(f(M,0))if(f(g[y],0)){if(E===0){var J=[...g];J[y]=1;for(var q=0,z=b.length;q<z;q++){var Z=b[q];J[Z]=u(J[Z],C[q])}h.push(J)}}else{if(E===0)return[];h.splice(E,1),E-=1,F-=1}else{g[y]=a(g[y],M);for(var T=0,I=b.length;T<I;T++){var B=b[T];g[B]=u(g[B],t(g[y],C[T]))}}}return h.map(W=>new p({data:W.map(U=>[U]),size:[D,1]}))}}),vt="compare",V0=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],J0=j(vt,V0,r=>{var{typed:e,config:n,equalScalar:a,matrix:t,BigNumber:u,Fraction:f,DenseMatrix:p,concat:c}=r,l=Fe({typed:e}),o=li({typed:e,equalScalar:a}),i=Ee({typed:e,DenseMatrix:p}),s=De({typed:e,matrix:t,concat:c}),h=Pe({typed:e});return e(vt,Y0({typed:e,config:n}),{"boolean, boolean":function(v,m){return v===m?0:v>m?1:-1},"BigNumber, BigNumber":function(v,m){return qe(v,m,n.epsilon)?new u(0):new u(v.cmp(m))},"Fraction, Fraction":function(v,m){return new f(v.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,s({SS:o,DS:l,Ss:i}))}),Y0=j(vt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(vt,{"number, number":function(t,u){return oe(t,u,n.epsilon)?0:t>u?1:-1}})}),G0=function r(e,n){var a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,t=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,p=/^0/,c=function(y){return r.insensitive&&(""+y).toLowerCase()||""+y},l=c(e).replace(t,"")||"",o=c(n).replace(t,"")||"",i=l.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),s=o.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(l.match(f),16)||i.length!==1&&l.match(u)&&Date.parse(l),D=parseInt(o.match(f),16)||h&&o.match(u)&&Date.parse(o)||null,v,m;if(D){if(h<D)return-1;if(h>D)return 1}for(var d=0,w=Math.max(i.length,s.length);d<w;d++){if(v=!(i[d]||"").match(p)&&parseFloat(i[d])||i[d]||0,m=!(s[d]||"").match(p)&&parseFloat(s[d])||s[d]||0,isNaN(v)!==isNaN(m))return isNaN(v)?1:-1;if(typeof v!=typeof m&&(v+="",m+=""),v<m)return-1;if(v>m)return 1}return 0};const Se=Kt(G0);var ua="compareNatural",Q0=["typed","compare"],X0=j(ua,Q0,r=>{var{typed:e,compare:n}=r,a=n.signatures["boolean,boolean"];return e(ua,{"any, any":t});function t(c,l){var o=ee(c),i=ee(l),s;if((o==="number"||o==="BigNumber"||o==="Fraction")&&(i==="number"||i==="BigNumber"||i==="Fraction"))return s=n(c,l),s.toString()!=="0"?s>0?1:-1:Se(o,i);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(o)||h.includes(i))return s=u(t,c,l),s!==0?s:Se(o,i);if(o!==i)return Se(o,i);if(o==="Complex")return K0(c,l);if(o==="Unit")return c.equalBase(l)?t(c.value,l.value):f(t,c.formatUnits(),l.formatUnits());if(o==="boolean")return a(c,l);if(o==="string")return Se(c,l);if(o==="Object")return p(t,c,l);if(o==="null"||o==="undefined")return 0;throw new TypeError('Unsupported type of value "'+o+'"')}function u(c,l,o){return Ne(l)&&Ne(o)?f(c,l.toJSON().values,o.toJSON().values):Ne(l)?u(c,l.toArray(),o):Ne(o)?u(c,l,o.toArray()):at(l)?u(c,l.toJSON().data,o):at(o)?u(c,l,o.toJSON().data):Array.isArray(l)?Array.isArray(o)?f(c,l,o):u(c,l,[o]):u(c,[l],o)}function f(c,l,o){for(var i=0,s=Math.min(l.length,o.length);i<s;i++){var h=c(l[i],o[i]);if(h!==0)return h}return l.length>o.length?1:l.length<o.length?-1:0}function p(c,l,o){var i=Object.keys(l),s=Object.keys(o);i.sort(Se),s.sort(Se);var h=f(c,i,s);if(h!==0)return h;for(var D=0;D<i.length;D++){var v=c(l[i[D]],o[s[D]]);if(v!==0)return v}return 0}});function K0(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var ht="equal",W0=["typed","matrix","equalScalar","DenseMatrix","concat"],H0=j(ht,W0,r=>{var{typed:e,matrix:n,equalScalar:a,DenseMatrix:t,concat:u}=r,f=Fe({typed:e}),p=Ke({typed:e,DenseMatrix:t}),c=Ee({typed:e,DenseMatrix:t}),l=De({typed:e,matrix:n,concat:u});return e(ht,k0({typed:e,equalScalar:a}),l({elop:a,SS:p,DS:f,Ss:c}))}),k0=j(ht,["typed","equalScalar"],r=>{var{typed:e,equalScalar:n}=r;return e(ht,{"any, any":function(t,u){return t===null?u===null:u===null?t===null:t===void 0?u===void 0:u===void 0?t===void 0:n(t,u)}})}),pt="smaller",j0=["typed","config","matrix","DenseMatrix","concat"],rc=j(pt,j0,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:u}=r,f=Fe({typed:e}),p=Ke({typed:e,DenseMatrix:t}),c=Ee({typed:e,DenseMatrix:t}),l=De({typed:e,matrix:a,concat:u}),o=Pe({typed:e});return e(pt,ec({typed:e,config:n}),{"boolean, boolean":(i,s)=>i<s,"BigNumber, BigNumber":function(s,h){return s.lt(h)&&!qe(s,h,n.epsilon)},"Fraction, Fraction":(i,s)=>i.compare(s)===-1,"Complex, Complex":function(s,h){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:f,Ss:c}))}),ec=j(pt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(pt,{"number, number":function(t,u){return t<u&&!oe(t,u,n.epsilon)}})}),dt="smallerEq",tc=["typed","config","matrix","DenseMatrix","concat"],nc=j(dt,tc,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:u}=r,f=Fe({typed:e}),p=Ke({typed:e,DenseMatrix:t}),c=Ee({typed:e,DenseMatrix:t}),l=De({typed:e,matrix:a,concat:u}),o=Pe({typed:e});return e(dt,ac({typed:e,config:n}),{"boolean, boolean":(i,s)=>i<=s,"BigNumber, BigNumber":function(s,h){return s.lte(h)||qe(s,h,n.epsilon)},"Fraction, Fraction":(i,s)=>i.compare(s)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:f,Ss:c}))}),ac=j(dt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(dt,{"number, number":function(t,u){return t<=u||oe(t,u,n.epsilon)}})}),mt="larger",ic=["typed","config","matrix","DenseMatrix","concat"],uc=j(mt,ic,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:u}=r,f=Fe({typed:e}),p=Ke({typed:e,DenseMatrix:t}),c=Ee({typed:e,DenseMatrix:t}),l=De({typed:e,matrix:a,concat:u}),o=Pe({typed:e});return e(mt,oc({typed:e,config:n}),{"boolean, boolean":(i,s)=>i>s,"BigNumber, BigNumber":function(s,h){return s.gt(h)&&!qe(s,h,n.epsilon)},"Fraction, Fraction":(i,s)=>i.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:f,Ss:c}))}),oc=j(mt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(mt,{"number, number":function(t,u){return t>u&&!oe(t,u,n.epsilon)}})}),Dt="largerEq",sc=["typed","config","matrix","DenseMatrix","concat"],fc=j(Dt,sc,r=>{var{typed:e,config:n,matrix:a,DenseMatrix:t,concat:u}=r,f=Fe({typed:e}),p=Ke({typed:e,DenseMatrix:t}),c=Ee({typed:e,DenseMatrix:t}),l=De({typed:e,matrix:a,concat:u}),o=Pe({typed:e});return e(Dt,cc({typed:e,config:n}),{"boolean, boolean":(i,s)=>i>=s,"BigNumber, BigNumber":function(s,h){return s.gte(h)||qe(s,h,n.epsilon)},"Fraction, Fraction":(i,s)=>i.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},o,l({SS:p,DS:f,Ss:c}))}),cc=j(Dt,["typed","config"],r=>{var{typed:e,config:n}=r;return e(Dt,{"number, number":function(t,u){return t>=u||oe(t,u,n.epsilon)}})}),lc="ImmutableDenseMatrix",vc=["smaller","DenseMatrix"],hc=j(lc,vc,r=>{var{smaller:e,DenseMatrix:n}=r;function a(t,u){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Kr(u))throw new Error("Invalid datatype: "+u);if(Sr(t)||Er(t)){var f=new n(t,u);this._data=f._data,this._size=f._size,this._datatype=f._datatype,this._min=null,this._max=null}else if(t&&Er(t.data)&&Er(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=typeof t.min<"u"?t.min:null,this._max=typeof t.max<"u"?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+ee(t)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return a.prototype=new n,a.prototype.type="ImmutableDenseMatrix",a.prototype.isImmutableDenseMatrix=!0,a.prototype.subset=function(t){switch(arguments.length){case 1:{var u=n.prototype.subset.call(this,t);return Sr(u)?new a({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},a.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},a.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},a.prototype.clone=function(){return new a({data:Ar(this._data),size:Ar(this._size),datatype:this._datatype})},a.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},a.fromJSON=function(t){return new a(t)},a.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},a.prototype.min=function(){if(this._min===null){var t=null;this.forEach(function(u){(t===null||e(u,t))&&(t=u)}),this._min=t!==null?t:void 0}return this._min},a.prototype.max=function(){if(this._max===null){var t=null;this.forEach(function(u){(t===null||e(t,u))&&(t=u)}),this._max=t!==null?t:void 0}return this._max},a},{isClass:!0}),pc="Index",dc=["ImmutableDenseMatrix","getMatrixDataType"],mc=j(pc,dc,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:n}=r;function a(u){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var f=0,p=arguments.length;f<p;f++){var c=arguments[f],l=Er(c),o=Sr(c),i=null;if(ba(c))this._dimensions.push(c),this._isScalar=!1;else if(l||o){var s=void 0;n(c)==="boolean"?(l&&(s=t(oa(c).valueOf())),o&&(s=t(oa(c._data).valueOf())),i=c.valueOf().length):s=t(c.valueOf()),this._dimensions.push(s);var h=s.size();(h.length!==1||h[0]!==1||i!==null)&&(this._isScalar=!1)}else if(typeof c=="number")this._dimensions.push(t([c]));else if(typeof c=="string")this._dimensions.push(c);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(i)}}a.prototype.type="Index",a.prototype.isIndex=!0;function t(u){for(var f=0,p=u.length;f<p;f++)if(typeof u[f]!="number"||!_r(u[f]))throw new TypeError("Index parameters must be positive integer numbers");return new e(u)}return a.prototype.clone=function(){var u=new a;return u._dimensions=Ar(this._dimensions),u._isScalar=this._isScalar,u._sourceSize=this._sourceSize,u},a.create=function(u){var f=new a;return a.apply(f,u),f},a.prototype.size=function(){for(var u=[],f=0,p=this._dimensions.length;f<p;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?1:c.size()[0]}return u},a.prototype.max=function(){for(var u=[],f=0,p=this._dimensions.length;f<p;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?c:c.max()}return u},a.prototype.min=function(){for(var u=[],f=0,p=this._dimensions.length;f<p;f++){var c=this._dimensions[f];u[f]=typeof c=="string"?c:c.min()}return u},a.prototype.forEach=function(u){for(var f=0,p=this._dimensions.length;f<p;f++)u(this._dimensions[f],f,this)},a.prototype.dimension=function(u){return this._dimensions[u]||null},a.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},a.prototype.isScalar=function(){return this._isScalar},a.prototype.toArray=function(){for(var u=[],f=0,p=this._dimensions.length;f<p;f++){var c=this._dimensions[f];u.push(typeof c=="string"?c:c.toArray())}return u},a.prototype.valueOf=a.prototype.toArray,a.prototype.toString=function(){for(var u=[],f=0,p=this._dimensions.length;f<p;f++){var c=this._dimensions[f];typeof c=="string"?u.push(JSON.stringify(c)):u.push(c.toString())}return"["+u.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},a.fromJSON=function(u){return a.create(u.dimensions)},a},{isClass:!0});function oa(r){var e=[];return r.forEach((n,a)=>{n&&e.push(a)}),e}var Dc="FibonacciHeap",gc=["smaller","larger"],yc=j(Dc,gc,r=>{var{smaller:e,larger:n}=r,a=1/Math.log((1+Math.sqrt(5))/2);function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}t.prototype.type="FibonacciHeap",t.prototype.isFibonacciHeap=!0,t.prototype.insert=function(o,i){var s={key:o,value:i,degree:0};if(this._minimum){var h=this._minimum;s.left=h,s.right=h.right,h.right=s,s.right.left=s,e(o,h.key)&&(this._minimum=s)}else s.left=s,s.right=s,this._minimum=s;return this._size++,s},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._minimum=null,this._size=0},t.prototype.isEmpty=function(){return this._size===0},t.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var i=this._minimum,s=o.degree,h=o.child;s>0;){var D=h.right;h.left.right=h.right,h.right.left=h.left,h.left=i,h.right=i.right,i.right=h,h.right.left=h,h.parent=null,h=D,s--}return o.left.right=o.right,o.right.left=o.left,o===o.right?i=null:(i=o.right,i=l(i,this._size)),this._size--,this._minimum=i,o},t.prototype.remove=function(o){this._minimum=u(this._minimum,o,-1),this.extractMinimum()};function u(o,i,s){i.key=s;var h=i.parent;return h&&e(i.key,h.key)&&(f(o,i,h),p(o,h)),e(i.key,o.key)&&(o=i),o}function f(o,i,s){i.left.right=i.right,i.right.left=i.left,s.degree--,s.child===i&&(s.child=i.right),s.degree===0&&(s.child=null),i.left=o,i.right=o.right,o.right=i,i.right.left=i,i.parent=null,i.mark=!1}function p(o,i){var s=i.parent;s&&(i.mark?(f(o,i,s),p(s)):i.mark=!0)}var c=function(i,s){i.left.right=i.right,i.right.left=i.left,i.parent=s,s.child?(i.left=s.child,i.right=s.child.right,s.child.right=i,i.right.left=i):(s.child=i,i.right=i,i.left=i),s.degree++,i.mark=!1};function l(o,i){var s=Math.floor(Math.log(i)*a)+1,h=new Array(s),D=0,v=o;if(v)for(D++,v=v.right;v!==o;)D++,v=v.right;for(var m;D>0;){for(var d=v.degree,w=v.right;m=h[d],!!m;){if(n(v.key,m.key)){var y=m;m=v,v=y}c(m,v),h[d]=null,d++}h[d]=v,v=w,D--}o=null;for(var F=0;F<s;F++)m=h[F],m&&(o?(m.left.right=m.right,m.right.left=m.left,m.left=o,m.right=o.right,o.right=m,m.right.left=m,e(m.key,o.key)&&(o=m)):o=m);return o}return t},{isClass:!0}),wc="Spa",Ac=["addScalar","equalScalar","FibonacciHeap"],Ec=j(wc,Ac,r=>{var{addScalar:e,equalScalar:n,FibonacciHeap:a}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new a}return t.prototype.type="Spa",t.prototype.isSpa=!0,t.prototype.set=function(u,f){if(this._values[u])this._values[u].value=f;else{var p=this._heap.insert(u,f);this._values[u]=p}},t.prototype.get=function(u){var f=this._values[u];return f?f.value:0},t.prototype.accumulate=function(u,f){var p=this._values[u];p?p.value=e(p.value,f):(p=this._heap.insert(u,f),this._values[u]=p)},t.prototype.forEach=function(u,f,p){var c=this._heap,l=this._values,o=[],i=c.extractMinimum();for(i&&o.push(i);i&&i.key<=f;)i.key>=u&&(n(i.value,0)||p(i.key,i.value,this)),i=c.extractMinimum(),i&&o.push(i);for(var s=0;s<o.length;s++){var h=o[s];i=c.insert(h.key,h.value),l[i.key]=i}},t.prototype.swap=function(u,f){var p=this._values[u],c=this._values[f];if(!p&&c)p=this._heap.insert(u,c.value),this._heap.remove(c),this._values[u]=p,this._values[f]=void 0;else if(p&&!c)c=this._heap.insert(f,p.value),this._heap.remove(p),this._values[f]=c,this._values[u]=void 0;else if(p&&c){var l=p.value;p.value=c.value,c.value=l}},t},{isClass:!0}),Fc="atan",Cc=["typed"],bc=j(Fc,Cc,r=>{var{typed:e}=r;return e("atan",{number:function(a){return Math.atan(a)},Complex:function(a){return a.atan()},BigNumber:function(a){return a.atan()}})}),mi=j("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(n=>a=>{if(!a.hasBase(a.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(n,a.valueType())(a.value)})}}),sa="cos",Mc=["typed"],Sc=j(sa,Mc,r=>{var{typed:e}=r,n=mi({typed:e});return e(sa,{number:Math.cos,"Complex | BigNumber":a=>a.cos()},n)}),fa="sin",Nc=["typed"],_c=j(fa,Nc,r=>{var{typed:e}=r,n=mi({typed:e});return e(fa,{number:Math.sin,"Complex | BigNumber":a=>a.sin()},n)}),ca="setDifference",Bc=["typed","size","subset","compareNatural","Index","DenseMatrix"],xc=j(ca,Bc,r=>{var{typed:e,size:n,subset:a,compareNatural:t,Index:u,DenseMatrix:f}=r;return e(ca,{"Array | Matrix, Array | Matrix":function(c,l){var o;if(a(n(c),new u(0))===0)o=[];else{if(a(n(l),new u(0))===0)return xe(c.toArray());var i=En(xe(Array.isArray(c)?c:c.toArray()).sort(t)),s=En(xe(Array.isArray(l)?l:l.toArray()).sort(t));o=[];for(var h,D=0;D<i.length;D++){h=!1;for(var v=0;v<s.length;v++)if(t(i[D].value,s[v].value)===0&&i[D].identifier===s[v].identifier){h=!0;break}h||o.push(i[D])}}return Array.isArray(c)&&Array.isArray(l)?Fn(o):new f(Fn(o))}})}),la="add",zc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Tc=j(la,zc,r=>{var{typed:e,matrix:n,addScalar:a,equalScalar:t,DenseMatrix:u,SparseMatrix:f,concat:p}=r,c=vi({typed:e}),l=_f({typed:e,equalScalar:t}),o=hi({typed:e,DenseMatrix:u}),i=De({typed:e,matrix:n,concat:p});return e(la,{"any, any":a,"any, any, ...any":e.referToSelf(s=>(h,D,v)=>{for(var m=s(h,D),d=0;d<v.length;d++)m=s(m,v[d]);return m})},i({elop:a,DS:c,SS:l,Ss:o}))}),va="norm",Oc=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Ic=j(va,Oc,r=>{var{typed:e,abs:n,add:a,pow:t,conj:u,sqrt:f,multiply:p,equalScalar:c,larger:l,smaller:o,matrix:i,ctranspose:s,eigs:h}=r;return e(va,{number:Math.abs,Complex:function(b){return b.abs()},BigNumber:function(b){return b.abs()},boolean:function(b){return Math.abs(b)},Array:function(b){return g(i(b),2)},Matrix:function(b){return g(b,2)},"Array, number | BigNumber | string":function(b,A){return g(i(b),A)},"Matrix, number | BigNumber | string":function(b,A){return g(b,A)}});function D(C){var b=0;return C.forEach(function(A){var S=n(A);l(S,b)&&(b=S)},!0),b}function v(C){var b;return C.forEach(function(A){var S=n(A);(!b||o(S,b))&&(b=S)},!0),b||0}function m(C,b){if(b===Number.POSITIVE_INFINITY||b==="inf")return D(C);if(b===Number.NEGATIVE_INFINITY||b==="-inf")return v(C);if(b==="fro")return g(C,2);if(typeof b=="number"&&!isNaN(b)){if(!c(b,0)){var A=0;return C.forEach(function(S){A=a(t(n(S),b),A)},!0),t(A,1/b)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function d(C){var b=0;return C.forEach(function(A,S){b=a(b,p(A,u(A)))}),n(f(b))}function w(C){var b=[],A=0;return C.forEach(function(S,M){var N=M[1],O=a(b[N]||0,n(S));l(O,A)&&(A=O),b[N]=O},!0),A}function y(C){var b=C.size();if(b[0]!==b[1])throw new RangeError("Invalid matrix dimensions");var A=s(C),S=p(A,C),M=h(S).values.toArray(),N=M[M.length-1];return n(f(N))}function F(C){var b=[],A=0;return C.forEach(function(S,M){var N=M[0],O=a(b[N]||0,n(S));l(O,A)&&(A=O),b[N]=O},!0),A}function E(C,b){if(b===1)return w(C);if(b===Number.POSITIVE_INFINITY||b==="inf")return F(C);if(b==="fro")return d(C);if(b===2)return y(C);throw new Error("Unsupported parameter value "+b)}function g(C,b){var A=C.size();if(A.length===1)return m(C,b);if(A.length===2){if(A[0]&&A[1])return E(C,b);throw new RangeError("Invalid matrix dimensions")}}}),ha="dot",$c=["typed","addScalar","multiplyScalar","conj","size"],qc=j(ha,$c,r=>{var{typed:e,addScalar:n,multiplyScalar:a,conj:t,size:u}=r;return e(ha,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":c});function f(o,i){var s=l(o),h=l(i),D,v;if(s.length===1)D=s[0];else if(s.length===2&&s[1]===1)D=s[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");if(h.length===1)v=h[0];else if(h.length===2&&h[1]===1)v=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(D!==v)throw new RangeError("Vectors must have equal length ("+D+" != "+v+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function p(o,i){var s=f(o,i),h=Sr(o)?o._data:o,D=Sr(o)?o._datatype||o.getDataType():void 0,v=Sr(i)?i._data:i,m=Sr(i)?i._datatype||i.getDataType():void 0,d=l(o).length===2,w=l(i).length===2,y=n,F=a;if(D&&m&&D===m&&typeof D=="string"&&D!=="mixed"){var E=D;y=e.find(n,[E,E]),F=e.find(a,[E,E])}if(!d&&!w){for(var g=F(t(h[0]),v[0]),C=1;C<s;C++)g=y(g,F(t(h[C]),v[C]));return g}if(!d&&w){for(var b=F(t(h[0]),v[0][0]),A=1;A<s;A++)b=y(b,F(t(h[A]),v[A][0]));return b}if(d&&!w){for(var S=F(t(h[0][0]),v[0]),M=1;M<s;M++)S=y(S,F(t(h[M][0]),v[M]));return S}if(d&&w){for(var N=F(t(h[0][0]),v[0][0]),O=1;O<s;O++)N=y(N,F(t(h[O][0]),v[O][0]));return N}}function c(o,i){f(o,i);for(var s=o._index,h=o._values,D=i._index,v=i._values,m=0,d=n,w=a,y=0,F=0;y<s.length&&F<D.length;){var E=s[y],g=D[F];if(E<g){y++;continue}if(E>g){F++;continue}E===g&&(m=d(m,w(h[y],v[F])),y++,F++)}return m}function l(o){return Sr(o)?o.size():u(o)}}),pa="index",Pc=["typed","Index"],Rc=j(pa,Pc,r=>{var{typed:e,Index:n}=r;return e(pa,{"...number | string | BigNumber | Range | Array | Matrix":function(t){var u=t.map(function(p){return Or(p)?p.toNumber():Er(p)||Sr(p)?p.map(function(c){return Or(c)?c.toNumber():c}):p}),f=new n;return n.apply(f,u),f}})}),da="lup",Uc=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Lc=j(da,Uc,r=>{var{typed:e,matrix:n,abs:a,addScalar:t,divideScalar:u,multiplyScalar:f,subtractScalar:p,larger:c,equalScalar:l,unaryMinus:o,DenseMatrix:i,SparseMatrix:s,Spa:h}=r;return e(da,{DenseMatrix:function(d){return D(d)},SparseMatrix:function(d){return v(d)},Array:function(d){var w=n(d),y=D(w);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function D(m){var d=m._size[0],w=m._size[1],y=Math.min(d,w),F=Ar(m._data),E=[],g=[d,y],C=[],b=[y,w],A,S,M,N=[];for(A=0;A<d;A++)N[A]=A;for(S=0;S<w;S++){if(S>0)for(A=0;A<d;A++){var O=Math.min(A,S),T=0;for(M=0;M<O;M++)T=t(T,f(F[A][M],F[M][S]));F[A][S]=p(F[A][S],T)}var I=S,B=0,J=0;for(A=S;A<d;A++){var q=F[A][S],z=a(q);c(z,B)&&(I=A,B=z,J=q)}if(S!==I&&(N[S]=[N[I],N[I]=N[S]][0],i._swapRows(S,I,F)),S<d)for(A=S+1;A<d;A++){var Z=F[A][S];l(Z,0)||(F[A][S]=u(F[A][S],J))}}for(S=0;S<w;S++)for(A=0;A<d;A++){if(S===0&&(A<w&&(C[A]=[]),E[A]=[]),A<S){A<w&&(C[A][S]=F[A][S]),S<d&&(E[A][S]=0);continue}if(A===S){A<w&&(C[A][S]=F[A][S]),S<d&&(E[A][S]=1);continue}A<w&&(C[A][S]=0),S<d&&(E[A][S]=F[A][S])}var W=new i({data:E,size:g}),U=new i({data:C,size:b}),R=[];for(A=0,y=N.length;A<y;A++)R[N[A]]=A;return{L:W,U,p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function v(m){var d=m._size[0],w=m._size[1],y=Math.min(d,w),F=m._values,E=m._index,g=m._ptr,C=[],b=[],A=[],S=[d,y],M=[],N=[],O=[],T=[y,w],I,B,J,q=[],z=[];for(I=0;I<d;I++)q[I]=I,z[I]=I;var Z=function(R,V){var nr=z[R],k=z[V];q[nr]=V,q[k]=R,z[R]=k,z[V]=nr},W=function(){var R=new h;B<d&&(A.push(C.length),C.push(1),b.push(B)),O.push(M.length);var V=g[B],nr=g[B+1];for(J=V;J<nr;J++)I=E[J],R.set(q[I],F[J]);B>0&&R.forEach(0,B-1,function(K,G){s._forEachRow(K,C,b,A,function(ur,rr){ur>K&&R.accumulate(ur,o(f(rr,G)))})});var k=B,L=R.get(B),X=a(L);R.forEach(B+1,d-1,function(K,G){var ur=a(G);c(ur,X)&&(k=K,X=ur,L=G)}),B!==k&&(s._swapRows(B,k,S[1],C,b,A),s._swapRows(B,k,T[1],M,N,O),R.swap(B,k),Z(B,k)),R.forEach(0,d-1,function(K,G){K<=B?(M.push(G),N.push(K)):(G=u(G,L),l(G,0)||(C.push(G),b.push(K)))})};for(B=0;B<w;B++)W();return O.push(M.length),A.push(C.length),{L:new s({values:C,index:b,ptr:A,size:S}),U:new s({values:M,index:N,ptr:O,size:T}),p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),ma="qr",Zc=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Vc=j(ma,Zc,r=>{var{typed:e,matrix:n,zeros:a,identity:t,isZero:u,equal:f,sign:p,sqrt:c,conj:l,unaryMinus:o,addScalar:i,divideScalar:s,multiplyScalar:h,subtractScalar:D,complex:v}=r;return ze(e(ma,{DenseMatrix:function(F){return d(F)},SparseMatrix:function(F){return w()},Array:function(F){var E=n(F),g=d(E);return{Q:g.Q.valueOf(),R:g.R.valueOf()}}}),{_denseQRimpl:m});function m(y){var F=y._size[0],E=y._size[1],g=t([F],"dense"),C=g._data,b=y.clone(),A=b._data,S,M,N,O=a([F],"");for(N=0;N<Math.min(E,F);++N){var T=A[N][N],I=o(f(T,0)?1:p(T)),B=l(I),J=0;for(S=N;S<F;S++)J=i(J,h(A[S][N],l(A[S][N])));var q=h(I,c(J));if(!u(q)){var z=D(T,q);for(O[N]=1,S=N+1;S<F;S++)O[S]=s(A[S][N],z);var Z=o(l(s(z,q))),W=void 0;for(M=N;M<E;M++){for(W=0,S=N;S<F;S++)W=i(W,h(l(O[S]),A[S][M]));for(W=h(W,Z),S=N;S<F;S++)A[S][M]=h(D(A[S][M],h(O[S],W)),B)}for(S=0;S<F;S++){for(W=0,M=N;M<F;M++)W=i(W,h(C[S][M],O[M]));for(W=h(W,Z),M=N;M<F;++M)C[S][M]=s(D(C[S][M],h(W,l(O[M]))),B)}}}return{Q:g,R:b,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function d(y){var F=m(y),E=F.R._data;if(y._data.length>0)for(var g=E[0][0].type==="Complex"?v(0):0,C=0;C<E.length;++C)for(var b=0;b<C&&b<(E[0]||[]).length;++b)E[C][b]=g;return F}function w(y){throw new Error("qr not implemented for sparse matrices yet")}});function Jc(r,e,n,a){r._values;for(var t=r._index,u=r._ptr,f=r._size,p=r._datatype,c=f[0],l=f[1],o=null,i=[],s=[],h=0,D=0;D<l;D++){s[D]=h;for(var v=n?n[D]:D,m=u[v],d=u[v+1],w=m;w<d;w++){var y=t[w];i[h]=y,h++}}return s[l]=h,r.createSparseMatrix({values:o,index:i,ptr:s,size:[c,l],datatype:p})}function Di(r,e,n,a,t,u,f){var p=0;for(n[f]=r;p>=0;){var c=n[f+p],l=n[a+c];l===-1?(p--,u[e++]=c):(n[a+c]=n[t+l],++p,n[f+p]=l)}return e}function Yc(r,e){if(!r)return null;var n=0,a,t=[],u=[],f=0,p=e,c=2*e;for(a=0;a<e;a++)u[f+a]=-1;for(a=e-1;a>=0;a--)r[a]!==-1&&(u[p+a]=u[f+r[a]],u[f+r[a]]=a);for(a=0;a<e;a++)r[a]===-1&&(n=Di(a,n,u,f,p,t,c));return t}function Gc(r,e){if(!r)return null;var n=r._index,a=r._ptr,t=r._size,u=t[0],f=t[1],p=[],c=[],l=0,o=f,i,s;for(i=0;i<u;i++)c[o+i]=-1;for(var h=0;h<f;h++){p[h]=-1,c[l+h]=-1;for(var D=a[h],v=a[h+1],m=D;m<v;m++){var d=n[m];for(i=c[o+d];i!==-1&&i<h;i=s)s=c[l+i],c[l+i]=h,s===-1&&(p[i]=h);c[o+d]=h}}return p}function Qc(r,e,n){for(var a=r._values,t=r._index,u=r._ptr,f=r._size,p=f[1],c=0,l=0;l<p;l++){var o=u[l];for(u[l]=c;o<u[l+1];o++)e(t[o],l,a?a[o]:1,n)&&(t[c]=t[o],a&&(a[c]=a[o]),c++)}return u[p]=c,t.splice(c,t.length-c),a&&a.splice(c,a.length-c),c}function ve(r){return-r-2}var Xc="csAmd",Kc=["add","multiply","transpose"],Wc=j(Xc,Kc,r=>{var{add:e,multiply:n,transpose:a}=r;return function(o,i){if(!i||o<=0||o>3)return null;var s=i._size,h=s[0],D=s[1],v=0,m=Math.max(16,10*Math.sqrt(D));m=Math.min(D-2,m);var d=t(o,i,h,D,m);Qc(d,c,null);for(var w=d._index,y=d._ptr,F=y[D],E=[],g=[],C=0,b=D+1,A=2*(D+1),S=3*(D+1),M=4*(D+1),N=5*(D+1),O=6*(D+1),T=7*(D+1),I=E,B=u(D,y,g,C,S,I,A,T,b,O,M,N),J=f(D,y,g,N,M,O,m,b,S,I,A),q=0,z,Z,W,U,R,V,nr,k,L,X,K,G,ur,rr,or,fr;J<D;){for(W=-1;q<D&&(W=g[S+q])===-1;q++);g[A+W]!==-1&&(I[g[A+W]]=-1),g[S+q]=g[A+W];var hr=g[M+W],mr=g[b+W];J+=mr;var Dr=0;g[b+W]=-mr;var cr=y[W],wr=hr===0?cr:F,gr=wr;for(U=1;U<=hr+1;U++){for(U>hr?(V=W,nr=cr,k=g[C+W]-hr):(V=w[cr++],nr=y[V],k=g[C+V]),R=1;R<=k;R++)z=w[nr++],!((L=g[b+z])<=0)&&(Dr+=L,g[b+z]=-L,w[gr++]=z,g[A+z]!==-1&&(I[g[A+z]]=I[z]),I[z]!==-1?g[A+I[z]]=g[A+z]:g[S+g[N+z]]=g[A+z]);V!==W&&(y[V]=ve(W),g[O+V]=0)}for(hr!==0&&(F=gr),g[N+W]=Dr,y[W]=wr,g[C+W]=gr-wr,g[M+W]=-2,B=p(B,v,g,O,D),X=wr;X<gr;X++)if(z=w[X],!((K=g[M+z])<=0)){L=-g[b+z];var Fr=B-L;for(cr=y[z],G=y[z]+K-1;cr<=G;cr++)V=w[cr],g[O+V]>=B?g[O+V]-=L:g[O+V]!==0&&(g[O+V]=g[N+V]+Fr)}for(X=wr;X<gr;X++){for(z=w[X],G=y[z],ur=G+g[M+z]-1,rr=G,or=0,fr=0,cr=G;cr<=ur;cr++)if(V=w[cr],g[O+V]!==0){var $r=g[O+V]-B;$r>0?(fr+=$r,w[rr++]=V,or+=V):(y[V]=ve(W),g[O+V]=0)}g[M+z]=rr-G+1;var _=rr,x=G+g[C+z];for(cr=ur+1;cr<x;cr++){Z=w[cr];var $=g[b+Z];$<=0||(fr+=$,w[rr++]=Z,or+=Z)}fr===0?(y[z]=ve(W),L=-g[b+z],Dr-=L,mr+=L,J+=L,g[b+z]=0,g[M+z]=-1):(g[N+z]=Math.min(g[N+z],fr),w[rr]=w[_],w[_]=w[G],w[G]=W,g[C+z]=rr-G+1,or=(or<0?-or:or)%D,g[A+z]=g[T+or],g[T+or]=z,I[z]=or)}for(g[N+W]=Dr,v=Math.max(v,Dr),B=p(B+v,v,g,O,D),X=wr;X<gr;X++)if(z=w[X],!(g[b+z]>=0))for(or=I[z],z=g[T+or],g[T+or]=-1;z!==-1&&g[A+z]!==-1;z=g[A+z],B++){for(k=g[C+z],K=g[M+z],cr=y[z]+1;cr<=y[z]+k-1;cr++)g[O+w[cr]]=B;var P=z;for(Z=g[A+z];Z!==-1;){var Q=g[C+Z]===k&&g[M+Z]===K;for(cr=y[Z]+1;Q&&cr<=y[Z]+k-1;cr++)g[O+w[cr]]!==B&&(Q=0);Q?(y[Z]=ve(z),g[b+z]+=g[b+Z],g[b+Z]=0,g[M+Z]=-1,Z=g[A+Z],g[A+P]=Z):(P=Z,Z=g[A+Z])}}for(cr=wr,X=wr;X<gr;X++)z=w[X],!((L=-g[b+z])<=0)&&(g[b+z]=L,fr=g[N+z]+Dr-L,fr=Math.min(fr,D-J-L),g[S+fr]!==-1&&(I[g[S+fr]]=z),g[A+z]=g[S+fr],I[z]=-1,g[S+fr]=z,q=Math.min(q,fr),g[N+z]=fr,w[cr++]=z);g[b+W]=mr,(g[C+W]=cr-wr)===0&&(y[W]=-1,g[O+W]=0),hr!==0&&(F=cr)}for(z=0;z<D;z++)y[z]=ve(y[z]);for(Z=0;Z<=D;Z++)g[S+Z]=-1;for(Z=D;Z>=0;Z--)g[b+Z]>0||(g[A+Z]=g[S+y[Z]],g[S+y[Z]]=Z);for(V=D;V>=0;V--)g[b+V]<=0||y[V]!==-1&&(g[A+V]=g[S+y[V]],g[S+y[V]]=V);for(W=0,z=0;z<=D;z++)y[z]===-1&&(W=Di(z,W,g,S,A,E,O));return E.splice(E.length-1,1),E};function t(l,o,i,s,h){var D=a(o);if(l===1&&s===i)return e(o,D);if(l===2){for(var v=D._index,m=D._ptr,d=0,w=0;w<i;w++){var y=m[w];if(m[w]=d,!(m[w+1]-y>h))for(var F=m[w+1];y<F;y++)v[d++]=v[y]}return m[i]=d,o=a(D),n(D,o)}return n(D,o)}function u(l,o,i,s,h,D,v,m,d,w,y,F){for(var E=0;E<l;E++)i[s+E]=o[E+1]-o[E];i[s+l]=0;for(var g=0;g<=l;g++)i[h+g]=-1,D[g]=-1,i[v+g]=-1,i[m+g]=-1,i[d+g]=1,i[w+g]=1,i[y+g]=0,i[F+g]=i[s+g];var C=p(0,0,i,w,l);return i[y+l]=-2,o[l]=-1,i[w+l]=0,C}function f(l,o,i,s,h,D,v,m,d,w,y){for(var F=0,E=0;E<l;E++){var g=i[s+E];if(g===0)i[h+E]=-2,F++,o[E]=-1,i[D+E]=0;else if(g>v)i[m+E]=0,i[h+E]=-1,F++,o[E]=ve(l),i[m+l]++;else{var C=i[d+g];C!==-1&&(w[C]=E),i[y+E]=i[d+g],i[d+g]=E}}return F}function p(l,o,i,s,h){if(l<2||l+o<0){for(var D=0;D<h;D++)i[s+D]!==0&&(i[s+D]=1);l=2}return l}function c(l,o){return l!==o}});function Hc(r,e,n,a,t,u,f){var p,c,l=0,o;if(r<=e||n[a+e]<=n[t+r])return-1;n[t+r]=n[a+e];var i=n[u+r];if(n[u+r]=e,i===-1)l=1,o=r;else{for(l=2,o=i;o!==n[f+o];o=n[f+o]);for(p=i;p!==o;p=c)c=n[f+p],n[f+p]=o}return{jleaf:l,q:o}}var kc="csCounts",jc=["transpose"],rl=j(kc,jc,r=>{var{transpose:e}=r;return function(n,a,t,u){if(!n||!a||!t)return null;var f=n._size,p=f[0],c=f[1],l,o,i,s,h,D,v,m=4*c+(u?c+p+1:0),d=[],w=0,y=c,F=2*c,E=3*c,g=4*c,C=5*c+1;for(i=0;i<m;i++)d[i]=-1;var b=[],A=e(n),S=A._index,M=A._ptr;for(i=0;i<c;i++)for(o=t[i],b[o]=d[E+o]===-1?1:0;o!==-1&&d[E+o]===-1;o=a[o])d[E+o]=i;if(u){for(i=0;i<c;i++)d[t[i]]=i;for(l=0;l<p;l++){for(i=c,D=M[l],v=M[l+1],h=D;h<v;h++)i=Math.min(i,d[S[h]]);d[C+l]=d[g+i],d[g+i]=l}}for(l=0;l<c;l++)d[w+l]=l;for(i=0;i<c;i++){for(o=t[i],a[o]!==-1&&b[a[o]]--,s=u?d[g+i]:o;s!==-1;s=u?d[C+s]:-1)for(h=M[s];h<M[s+1];h++){l=S[h];var N=Hc(l,o,d,E,y,F,w);N.jleaf>=1&&b[o]++,N.jleaf===2&&b[N.q]--}a[o]!==-1&&(d[w+o]=a[o])}for(o=0;o<c;o++)a[o]!==-1&&(b[a[o]]+=b[o]);return b}}),el="csSqr",tl=["add","multiply","transpose"],nl=j(el,tl,r=>{var{add:e,multiply:n,transpose:a}=r,t=Wc({add:e,multiply:n,transpose:a}),u=rl({transpose:a});return function(c,l,o){var i=l._ptr,s=l._size,h=s[1],D,v={};if(v.q=t(c,l),c&&!v.q)return null;if(o){var m=c?Jc(l,null,v.q):l;v.parent=Gc(m);var d=Yc(v.parent,h);if(v.cp=u(m,v.parent,d,1),m&&v.parent&&v.cp&&f(m,v))for(v.unz=0,D=0;D<h;D++)v.unz+=v.cp[D]}else v.unz=4*i[h]+h,v.lnz=v.unz;return v};function f(p,c){var l=p._ptr,o=p._index,i=p._size,s=i[0],h=i[1];c.pinv=[],c.leftmost=[];var D=c.parent,v=c.pinv,m=c.leftmost,d=[],w=0,y=s,F=s+h,E=s+2*h,g,C,b,A,S;for(C=0;C<h;C++)d[y+C]=-1,d[F+C]=-1,d[E+C]=0;for(g=0;g<s;g++)m[g]=-1;for(C=h-1;C>=0;C--)for(A=l[C],S=l[C+1],b=A;b<S;b++)m[o[b]]=C;for(g=s-1;g>=0;g--)v[g]=-1,C=m[g],C!==-1&&(d[E+C]++===0&&(d[F+C]=g),d[w+g]=d[y+C],d[y+C]=g);for(c.lnz=0,c.m2=s,C=0;C<h;C++)if(g=d[y+C],c.lnz++,g<0&&(g=c.m2++),v[g]=C,!(--E[C]<=0)){c.lnz+=d[E+C];var M=D[C];M!==-1&&(d[E+M]===0&&(d[F+M]=d[F+C]),d[w+d[F+C]]=d[y+M],d[y+M]=d[w+g],d[E+M]+=d[E+C])}for(g=0;g<s;g++)v[g]<0&&(v[g]=C++);return!0}});function Jt(r,e){return r[e]<0}function gi(r,e){r[e]=ve(r[e])}function Da(r){return r<0?ve(r):r}function al(r,e,n,a,t){var u=e._index,f=e._ptr,p=e._size,c=p[1],l,o,i,s=0;for(a[0]=r;s>=0;){r=a[s];var h=t?t[r]:r;Jt(f,r)||(gi(f,r),a[c+s]=h<0?0:Da(f[h]));var D=1;for(o=a[c+s],i=h<0?0:Da(f[h+1]);o<i;o++)if(l=u[o],!Jt(f,l)){a[c+s]=o,a[++s]=l,D=0;break}D&&(s--,a[--n]=r)}return n}function il(r,e,n,a,t){var u=r._ptr,f=r._size,p=e._index,c=e._ptr,l=f[1],o,i,s,h=l;for(i=c[n],s=c[n+1],o=i;o<s;o++){var D=p[o];Jt(u,D)||(h=al(D,r,h,a,t))}for(o=h;o<l;o++)gi(u,a[o]);return h}var ul="csSpsolve",ol=["divideScalar","multiply","subtract"],sl=j(ul,ol,r=>{var{divideScalar:e,multiply:n,subtract:a}=r;return function(u,f,p,c,l,o,i){var s=u._values,h=u._index,D=u._ptr,v=u._size,m=v[1],d=f._values,w=f._index,y=f._ptr,F,E,g,C,b=il(u,f,p,c,o);for(F=b;F<m;F++)l[c[F]]=0;for(E=y[p],g=y[p+1],F=E;F<g;F++)l[w[F]]=d[F];for(var A=b;A<m;A++){var S=c[A],M=o?o[S]:S;if(!(M<0))for(E=D[M],g=D[M+1],l[S]=e(l[S],s[i?E:g-1]),F=i?E+1:E,C=i?g:g-1;F<C;F++){var N=h[F];l[N]=a(l[N],n(s[F],l[S]))}}return b}}),fl="csLu",cl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],ll=j(fl,cl,r=>{var{abs:e,divideScalar:n,multiply:a,subtract:t,larger:u,largerEq:f,SparseMatrix:p}=r,c=sl({divideScalar:n,multiply:a,subtract:t});return function(o,i,s){if(!o)return null;var h=o._size,D=h[1],v,m=100,d=100;i&&(v=i.q,m=i.lnz||m,d=i.unz||d);var w=[],y=[],F=[],E=new p({values:w,index:y,ptr:F,size:[D,D]}),g=[],C=[],b=[],A=new p({values:g,index:C,ptr:b,size:[D,D]}),S=[],M,N,O=[],T=[];for(M=0;M<D;M++)O[M]=0,S[M]=-1,F[M+1]=0;m=0,d=0;for(var I=0;I<D;I++){F[I]=m,b[I]=d;var B=v?v[I]:I,J=c(E,o,B,T,O,S,1),q=-1,z=-1;for(N=J;N<D;N++)if(M=T[N],S[M]<0){var Z=e(O[M]);u(Z,z)&&(z=Z,q=M)}else C[d]=S[M],g[d++]=O[M];if(q===-1||z<=0)return null;S[B]<0&&f(e(O[B]),a(z,s))&&(q=B);var W=O[q];for(C[d]=I,g[d++]=W,S[q]=I,y[m]=q,w[m++]=1,N=J;N<D;N++)M=T[N],S[M]<0&&(y[m]=M,w[m++]=n(O[M],W)),O[M]=0}for(F[D]=m,b[D]=d,N=0;N<m;N++)y[N]=S[y[N]];return w.splice(m,w.length-m),y.splice(m,y.length-m),g.splice(d,g.length-d),C.splice(d,C.length-d),{L:E,U:A,pinv:S}}}),ga="slu",vl=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],hl=j(ga,vl,r=>{var{typed:e,abs:n,add:a,multiply:t,transpose:u,divideScalar:f,subtract:p,larger:c,largerEq:l,SparseMatrix:o}=r,i=nl({add:a,multiply:t,transpose:u}),s=ll({abs:n,divideScalar:f,multiply:t,subtract:p,larger:c,largerEq:l,SparseMatrix:o});return e(ga,{"SparseMatrix, number, number":function(D,v,m){if(!_r(v)||v<0||v>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var d=i(v,D,!1),w=s(D,d,m);return{L:w.L,U:w.U,p:w.pinv,q:d.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ya(r,e){var n,a=e.length,t=[];if(r)for(n=0;n<a;n++)t[r[n]]=e[n];else for(n=0;n<a;n++)t[n]=e[n];return t}var wa="lusolve",pl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],dl=j(wa,pl,r=>{var{typed:e,matrix:n,lup:a,slu:t,usolve:u,lsolve:f,DenseMatrix:p}=r,c=bt({DenseMatrix:p});return e(wa,{"Array, Array | Matrix":function(s,h){s=n(s);var D=a(s),v=o(D.L,D.U,D.p,null,h);return v.valueOf()},"DenseMatrix, Array | Matrix":function(s,h){var D=a(s);return o(D.L,D.U,D.p,null,h)},"SparseMatrix, Array | Matrix":function(s,h){var D=a(s);return o(D.L,D.U,D.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(s,h,D,v){var m=t(s,D,v);return o(m.L,m.U,m.p,m.q,h)},"Object, Array | Matrix":function(s,h){return o(s.L,s.U,s.p,s.q,h)}});function l(i){if(Sr(i))return i;if(Er(i))return n(i);throw new TypeError("Invalid Matrix LU decomposition")}function o(i,s,h,D,v){i=l(i),s=l(s),h&&(v=c(i,v,!0),v._data=ya(h,v._data));var m=f(i,v),d=u(s,m);return D&&(d._data=ya(D,d._data)),d}}),Aa="det",ml=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Dl=j(Aa,ml,r=>{var{typed:e,matrix:n,subtractScalar:a,multiply:t,divideScalar:u,isZero:f,unaryMinus:p}=r;return e(Aa,{any:function(o){return Ar(o)},"Array | Matrix":function(o){var i;switch(Sr(o)?i=o.size():Array.isArray(o)?(o=n(o),i=o.size()):i=[],i.length){case 0:return Ar(o);case 1:if(i[0]===1)return Ar(o.valueOf()[0]);if(i[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Tr(i)+")");case 2:{var s=i[0],h=i[1];if(s===h)return c(o.clone().valueOf(),s);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+Tr(i)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Tr(i)+")")}}});function c(l,o,i){if(o===1)return Ar(l[0][0]);if(o===2)return a(t(l[0][0],l[1][1]),t(l[1][0],l[0][1]));for(var s=!1,h=new Array(o).fill(0).map((C,b)=>b),D=0;D<o;D++){var v=h[D];if(f(l[v][D])){var m=void 0;for(m=D+1;m<o;m++)if(!f(l[h[m]][D])){v=h[m],h[m]=h[D],h[D]=v,s=!s;break}if(m===o)return l[v][D]}for(var d=l[v][D],w=D===0?1:l[h[D-1]][D-1],y=D+1;y<o;y++)for(var F=h[y],E=D+1;E<o;E++)l[F][E]=u(a(t(l[F][E],d),t(l[F][D],l[v][E])),w)}var g=l[h[o-1]][o-1];return s?p(g):g}}),Ea="inv",gl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],yl=j(Ea,gl,r=>{var{typed:e,matrix:n,divideScalar:a,addScalar:t,multiply:u,unaryMinus:f,det:p,identity:c,abs:l}=r;return e(Ea,{"Array | Matrix":function(s){var h=Sr(s)?s.size():zr(s);switch(h.length){case 1:if(h[0]===1)return Sr(s)?n([a(1,s.valueOf()[0])]):[a(1,s[0])];throw new RangeError("Matrix must be square (size: "+Tr(h)+")");case 2:{var D=h[0],v=h[1];if(D===v)return Sr(s)?n(o(s.valueOf(),D,v),s.storage()):o(s,D,v);throw new RangeError("Matrix must be square (size: "+Tr(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Tr(h)+")")}},any:function(s){return a(1,s)}});function o(i,s,h){var D,v,m,d,w;if(s===1){if(d=i[0][0],d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,d)]]}else if(s===2){var y=p(i);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(i[1][1],y),a(f(i[0][1]),y)],[a(f(i[1][0]),y),a(i[0][0],y)]]}else{var F=i.concat();for(D=0;D<s;D++)F[D]=F[D].concat();for(var E=c(s).valueOf(),g=0;g<h;g++){var C=l(F[g][g]),b=g;for(D=g+1;D<s;)l(F[D][g])>C&&(C=l(F[D][g]),b=D),D++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");D=b,D!==g&&(w=F[g],F[g]=F[D],F[D]=w,w=E[g],E[g]=E[D],E[D]=w);var A=F[g],S=E[g];for(D=0;D<s;D++){var M=F[D],N=E[D];if(D!==g){if(M[g]!==0){for(m=a(f(M[g]),A[g]),v=g;v<h;v++)M[v]=t(M[v],u(m,A[v]));for(v=0;v<h;v++)N[v]=t(N[v],u(m,S[v]))}}else{for(m=A[g],v=g;v<h;v++)M[v]=a(M[v],m);for(v=0;v<h;v++)N[v]=a(N[v],m)}}}return E}}});function wl(r){var{addScalar:e,subtract:n,flatten:a,multiply:t,multiplyScalar:u,divideScalar:f,sqrt:p,abs:c,bignumber:l,diag:o,size:i,reshape:s,inv:h,qr:D,usolve:v,usolveAll:m,equal:d,complex:w,larger:y,smaller:F,matrixFromColumns:E,dot:g}=r;function C(U,R,V,nr){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,L=b(U,R,V,nr,k);A(U,R,V,nr,k,L);var{values:X,C:K}=S(U,R,V,nr,k);if(k){var G=M(U,R,K,L,X,V,nr);return{values:X,eigenvectors:G}}return{values:X}}function b(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?l(0):0,G=L?l(1):X?w(1):1,ur=L?l(1):1,rr=L?l(10):2,or=u(rr,rr),fr;k&&(fr=Array(R).fill(G));for(var hr=!1;!hr;){hr=!0;for(var mr=0;mr<R;mr++){for(var Dr=K,cr=K,wr=0;wr<R;wr++)mr!==wr&&(Dr=e(Dr,c(U[wr][mr])),cr=e(cr,c(U[mr][wr])));if(!d(Dr,0)&&!d(cr,0)){for(var gr=ur,Fr=Dr,$r=f(cr,rr),_=u(cr,rr);F(Fr,$r);)Fr=u(Fr,or),gr=u(gr,rr);for(;y(Fr,_);)Fr=f(Fr,or),gr=f(gr,rr);var x=F(f(e(Fr,cr),gr),u(e(Dr,cr),.95));if(x){hr=!1;for(var $=f(1,gr),P=0;P<R;P++)mr!==P&&(U[mr][P]=u(U[mr][P],$),U[P][mr]=u(U[P][mr],gr));k&&(fr[mr]=u(fr[mr],$))}}}}return k?o(fr):null}function A(U,R,V,nr,k,L){var X=nr==="BigNumber",K=nr==="Complex",G=X?l(0):K?w(0):0;X&&(V=l(V));for(var ur=0;ur<R-2;ur++){for(var rr=0,or=G,fr=ur+1;fr<R;fr++){var hr=U[fr][ur];F(c(or),c(hr))&&(or=hr,rr=fr)}if(!F(c(or),V)){if(rr!==ur+1){var mr=U[rr];U[rr]=U[ur+1],U[ur+1]=mr;for(var Dr=0;Dr<R;Dr++){var cr=U[Dr][rr];U[Dr][rr]=U[Dr][ur+1],U[Dr][ur+1]=cr}if(k){var wr=L[rr];L[rr]=L[ur+1],L[ur+1]=wr}}for(var gr=ur+2;gr<R;gr++){var Fr=f(U[gr][ur],or);if(Fr!==0){for(var $r=0;$r<R;$r++)U[gr][$r]=n(U[gr][$r],u(Fr,U[ur+1][$r]));for(var _=0;_<R;_++)U[_][ur+1]=e(U[_][ur+1],u(Fr,U[_][gr]));if(k)for(var x=0;x<R;x++)L[gr][x]=n(L[gr][x],u(Fr,L[ur+1][x]))}}}}return L}function S(U,R,V,nr,k){var L=nr==="BigNumber",X=nr==="Complex",K=L?l(1):X?w(1):1;L&&(V=l(V));for(var G=Ar(U),ur=[],rr=R,or=[],fr=k?o(Array(R).fill(K)):void 0,hr=k?o(Array(rr).fill(K)):void 0,mr=0;mr<=100;){mr+=1;for(var Dr=G[rr-1][rr-1],cr=0;cr<rr;cr++)G[cr][cr]=n(G[cr][cr],Dr);var{Q:wr,R:gr}=D(G);G=t(gr,wr);for(var Fr=0;Fr<rr;Fr++)G[Fr][Fr]=e(G[Fr][Fr],Dr);if(k&&(hr=t(hr,wr)),rr===1||F(c(G[rr-1][rr-2]),V)){mr=0,ur.push(G[rr-1][rr-1]),k&&(or.unshift([[1]]),T(hr,R),fr=t(fr,hr),rr>1&&(hr=o(Array(rr-1).fill(K)))),rr-=1,G.pop();for(var $r=0;$r<rr;$r++)G[$r].pop()}else if(rr===2||F(c(G[rr-2][rr-3]),V)){mr=0;var _=N(G[rr-2][rr-2],G[rr-2][rr-1],G[rr-1][rr-2],G[rr-1][rr-1]);ur.push(..._),k&&(or.unshift(O(G[rr-2][rr-2],G[rr-2][rr-1],G[rr-1][rr-2],G[rr-1][rr-1],_[0],_[1],V,nr)),T(hr,R),fr=t(fr,hr),rr>2&&(hr=o(Array(rr-2).fill(K)))),rr-=2,G.pop(),G.pop();for(var x=0;x<rr;x++)G[x].pop(),G[x].pop()}if(rr===0)break}if(ur.sort((Q,Y)=>+n(c(Q),c(Y))),mr>100){var $=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ur.join(", "));throw $.values=ur,$.vectors=[],$}var P=k?t(fr,I(or,R)):void 0;return{values:ur,C:P}}function M(U,R,V,nr,k,L,X){var K=h(V),G=t(K,U,V),ur=X==="BigNumber",rr=X==="Complex",or=ur?l(0):rr?w(0):0,fr=ur?l(1):rr?w(1):1,hr=[],mr=[];for(var Dr of k){var cr=B(hr,Dr,d);cr===-1?(hr.push(Dr),mr.push(1)):mr[cr]+=1}for(var wr=[],gr=hr.length,Fr=Array(R).fill(or),$r=o(Array(R).fill(fr)),_=function(){var P=hr[x],Q=n(G,t(P,$r)),Y=m(Q,Fr);for(Y.shift();Y.length<mr[x];){var ir=J(Q,R,Y,L,X);if(ir===null)break;Y.push(ir)}var tr=t(h(nr),V);Y=Y.map(ar=>t(tr,ar)),wr.push(...Y.map(ar=>({value:P,vector:a(ar)})))},x=0;x<gr;x++)_();return wr}function N(U,R,V,nr){var k=e(U,nr),L=n(u(U,nr),u(R,V)),X=u(k,.5),K=u(p(n(u(k,k),u(4,L))),.5);return[e(X,K),n(X,K)]}function O(U,R,V,nr,k,L,X,K){var G=K==="BigNumber",ur=K==="Complex",rr=G?l(0):ur?w(0):0,or=G?l(1):ur?w(1):1;if(F(c(V),X))return[[or,rr],[rr,or]];if(y(c(n(k,L)),X))return[[n(k,nr),n(L,nr)],[V,V]];var fr=n(U,k),hr=n(nr,k);return F(c(R),X)&&F(c(hr),X)?[[fr,or],[V,rr]]:[[R,rr],[hr,or]]}function T(U,R){for(var V=0;V<U.length;V++)U[V].push(...Array(R-U[V].length).fill(0));for(var nr=U.length;nr<R;nr++)U.push(Array(R).fill(0)),U[nr][nr]=1;return U}function I(U,R){for(var V=[],nr=0;nr<R;nr++)V[nr]=Array(R).fill(0);var k=0;for(var L of U){for(var X=L.length,K=0;K<X;K++)for(var G=0;G<X;G++)V[k+K][k+G]=L[K][G];k+=X}return V}function B(U,R,V){for(var nr=0;nr<U.length;nr++)if(V(U[nr],R))return nr;return-1}function J(U,R,V,nr,k){for(var L=k==="BigNumber"?l(1e3):1e3,X,K=0;K<5;++K){X=q(R,V,k);try{X=v(U,X)}catch{continue}if(y(Z(X),L))break}if(K>=5)return null;for(K=0;;){var G=v(U,X);if(F(Z(z(X,[G])),nr))break;if(++K>=10)return null;X=W(G)}return X}function q(U,R,V){var nr=V==="BigNumber",k=V==="Complex",L=Array(U).fill(0).map(X=>2*Math.random()-1);return nr&&(L=L.map(X=>l(X))),k&&(L=L.map(X=>w(X))),L=z(L,R),W(L,V)}function z(U,R){var V=i(U);for(var nr of R)nr=s(nr,V),U=n(U,t(f(g(nr,U),g(nr,nr)),nr));return U}function Z(U){return c(p(g(U,U)))}function W(U,R){var V=R==="BigNumber",nr=R==="Complex",k=V?l(1):nr?w(1):1;return t(f(k,Z(U)),U)}return C}function Al(r){var{config:e,addScalar:n,subtract:a,abs:t,atan:u,cos:f,sin:p,multiplyScalar:c,inv:l,bignumber:o,multiply:i,add:s}=r;function h(A,S){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,N=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if(N==="number")return D(A,M,O);if(N==="BigNumber")return v(A,M,O);throw TypeError("Unsupported data type: "+N)}function D(A,S,M){var N=A.length,O=Math.abs(S/N),T,I;if(M){I=new Array(N);for(var B=0;B<N;B++)I[B]=Array(N).fill(0),I[B][B]=1}for(var J=g(A);Math.abs(J[1])>=Math.abs(O);){var q=J[0][0],z=J[0][1];T=m(A[q][q],A[z][z],A[q][z]),A=E(A,T,q,z),M&&(I=w(I,T,q,z)),J=g(A)}for(var Z=Array(N).fill(0),W=0;W<N;W++)Z[W]=A[W][W];return b(Ar(Z),I,M)}function v(A,S,M){var N=A.length,O=t(S/N),T,I;if(M){I=new Array(N);for(var B=0;B<N;B++)I[B]=Array(N).fill(0),I[B][B]=1}for(var J=C(A);t(J[1])>=t(O);){var q=J[0][0],z=J[0][1];T=d(A[q][q],A[z][z],A[q][z]),A=F(A,T,q,z),M&&(I=y(I,T,q,z)),J=C(A)}for(var Z=Array(N).fill(0),W=0;W<N;W++)Z[W]=A[W][W];return b(Ar(Z),I,M)}function m(A,S,M){var N=S-A;return Math.abs(N)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(S-A))}function d(A,S,M){var N=a(S,A);return t(N)<=e.epsilon?o(-1).acos().div(4):c(.5,u(i(2,M,l(N))))}function w(A,S,M,N){for(var O=A.length,T=Math.cos(S),I=Math.sin(S),B=Array(O).fill(0),J=Array(O).fill(0),q=0;q<O;q++)B[q]=T*A[q][M]-I*A[q][N],J[q]=I*A[q][M]+T*A[q][N];for(var z=0;z<O;z++)A[z][M]=B[z],A[z][N]=J[z];return A}function y(A,S,M,N){for(var O=A.length,T=f(S),I=p(S),B=Array(O).fill(o(0)),J=Array(O).fill(o(0)),q=0;q<O;q++)B[q]=a(c(T,A[q][M]),c(I,A[q][N])),J[q]=n(c(I,A[q][M]),c(T,A[q][N]));for(var z=0;z<O;z++)A[z][M]=B[z],A[z][N]=J[z];return A}function F(A,S,M,N){for(var O=A.length,T=o(f(S)),I=o(p(S)),B=c(T,T),J=c(I,I),q=Array(O).fill(o(0)),z=Array(O).fill(o(0)),Z=i(o(2),T,I,A[M][N]),W=n(a(c(B,A[M][M]),Z),c(J,A[N][N])),U=s(c(J,A[M][M]),Z,c(B,A[N][N])),R=0;R<O;R++)q[R]=a(c(T,A[M][R]),c(I,A[N][R])),z[R]=n(c(I,A[M][R]),c(T,A[N][R]));A[M][M]=W,A[N][N]=U,A[M][N]=o(0),A[N][M]=o(0);for(var V=0;V<O;V++)V!==M&&V!==N&&(A[M][V]=q[V],A[V][M]=q[V],A[N][V]=z[V],A[V][N]=z[V]);return A}function E(A,S,M,N){for(var O=A.length,T=Math.cos(S),I=Math.sin(S),B=T*T,J=I*I,q=Array(O).fill(0),z=Array(O).fill(0),Z=B*A[M][M]-2*T*I*A[M][N]+J*A[N][N],W=J*A[M][M]+2*T*I*A[M][N]+B*A[N][N],U=0;U<O;U++)q[U]=T*A[M][U]-I*A[N][U],z[U]=I*A[M][U]+T*A[N][U];A[M][M]=Z,A[N][N]=W,A[M][N]=0,A[N][M]=0;for(var R=0;R<O;R++)R!==M&&R!==N&&(A[M][R]=q[R],A[R][M]=q[R],A[N][R]=z[R],A[R][N]=z[R]);return A}function g(A){for(var S=A.length,M=0,N=[0,1],O=0;O<S;O++)for(var T=O+1;T<S;T++)Math.abs(M)<Math.abs(A[O][T])&&(M=Math.abs(A[O][T]),N=[O,T]);return[N,M]}function C(A){for(var S=A.length,M=0,N=[0,1],O=0;O<S;O++)for(var T=O+1;T<S;T++)t(M)<t(A[O][T])&&(M=t(A[O][T]),N=[O,T]);return[N,M]}function b(A,S,M){var N=A.length,O=Array(N),T;if(M){T=Array(N);for(var I=0;I<N;I++)T[I]=Array(N)}for(var B=0;B<N;B++){for(var J=0,q=A[0],z=0;z<A.length;z++)t(A[z])<t(q)&&(J=z,q=A[J]);if(O[B]=A.splice(J,1)[0],M)for(var Z=0;Z<N;Z++)T[B][Z]=S[Z][J],S[Z].splice(J,1)}if(!M)return{values:O};var W=T.map((U,R)=>({value:O[R],vector:U}));return{values:O,eigenvectors:W}}return h}var El="eigs",Fl=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Cl=j(El,Fl,r=>{var{config:e,typed:n,matrix:a,addScalar:t,subtract:u,equal:f,abs:p,atan:c,cos:l,sin:o,multiplyScalar:i,divideScalar:s,inv:h,bignumber:D,multiply:v,add:m,larger:d,column:w,flatten:y,number:F,complex:E,sqrt:g,diag:C,size:b,reshape:A,qr:S,usolve:M,usolveAll:N,im:O,re:T,smaller:I,matrixFromColumns:B,dot:J}=r,q=Al({config:e,addScalar:t,subtract:u,column:w,flatten:y,equal:f,abs:p,atan:c,cos:l,sin:o,multiplyScalar:i,inv:h,bignumber:D,complex:E,multiply:v,add:m}),z=wl({config:e,addScalar:t,subtract:u,multiply:v,multiplyScalar:i,flatten:y,divideScalar:s,sqrt:g,abs:p,bignumber:D,diag:C,size:b,reshape:A,qr:S,inv:h,usolve:M,usolveAll:N,equal:f,complex:E,larger:d,smaller:I,matrixFromColumns:B,dot:J});return n("eigs",{Array:function(L){return Z(a(L))},"Array, number|BigNumber":function(L,X){return Z(a(L),{precision:X})},"Array, Object"(k,L){return Z(a(k),L)},Matrix:function(L){return Z(L,{matricize:!0})},"Matrix, number|BigNumber":function(L,X){return Z(L,{precision:X,matricize:!0})},"Matrix, Object":function(L,X){var K={matricize:!0};return ze(K,X),Z(L,K)}});function Z(k){var L,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K="eigenvectors"in X?X.eigenvectors:!0,G=(L=X.precision)!==null&&L!==void 0?L:e.epsilon,ur=W(k,G,K);return X.matricize&&(ur.values=a(ur.values),K&&(ur.eigenvectors=ur.eigenvectors.map(rr=>{var{value:or,vector:fr}=rr;return{value:or,vector:a(fr)}}))),K&&Object.defineProperty(ur,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ur}function W(k,L,X){var K=k.toArray(),G=k.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: ".concat(Tr(G),")"));var ur=G[0];if(R(K,ur,L)&&(V(K,ur),U(K,ur,L))){var rr=nr(k,K,ur);return q(K,ur,L,rr,X)}var or=nr(k,K,ur);return z(K,ur,L,or,X)}function U(k,L,X){for(var K=0;K<L;K++)for(var G=K;G<L;G++)if(d(D(p(u(k[K][G],k[G][K]))),X))return!1;return!0}function R(k,L,X){for(var K=0;K<L;K++)for(var G=0;G<L;G++)if(d(D(p(O(k[K][G]))),X))return!1;return!0}function V(k,L){for(var X=0;X<L;X++)for(var K=0;K<L;K++)k[X][K]=T(k[X][K])}function nr(k,L,X){var K=k.datatype();if(K==="number"||K==="BigNumber"||K==="Complex")return K;for(var G=!1,ur=!1,rr=!1,or=0;or<X;or++)for(var fr=0;fr<X;fr++){var hr=L[or][fr];if(Nr(hr)||Gt(hr))G=!0;else if(Or(hr))ur=!0;else if(Yt(hr))rr=!0;else throw TypeError("Unsupported type in Matrix: "+ee(hr))}if(ur&&rr&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),rr){for(var mr=0;mr<X;mr++)for(var Dr=0;Dr<X;Dr++)L[mr][Dr]=E(L[mr][Dr]);return"Complex"}if(ur){for(var cr=0;cr<X;cr++)for(var wr=0;wr<X;wr++)L[cr][wr]=D(L[cr][wr]);return"BigNumber"}if(G){for(var gr=0;gr<X;gr++)for(var Fr=0;Fr<X;Fr++)L[gr][Fr]=F(L[gr][Fr]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Re=Ho({config:Vr}),Mt=es({}),St=is({}),jt=ss({}),Pr=ws({Matrix:jt}),sr=ju({BigNumber:Re,Complex:Mt,DenseMatrix:Pr,Fraction:St}),We=rf({typed:sr}),ge=tf({typed:sr}),bl=bc({typed:sr}),rn=Us({BigNumber:Re,typed:sr}),en=Vs({Complex:Mt,typed:sr}),Nt=Qf({typed:sr}),Ml=Sc({typed:sr}),Hr=_s({config:Vr,typed:sr}),Sl=o0({typed:sr}),Nl=Kf({typed:sr}),yi=Es({typed:sr}),_l=Cs({typed:sr}),wi=Ms({typed:sr}),se=Of({typed:sr}),tn=qs({typed:sr}),Bl=Hf({typed:sr}),xl=Pf({BigNumber:Re,Fraction:St,complex:en,typed:sr}),zl=_c({typed:sr}),Ue=zs({Matrix:jt,equalScalar:Hr,typed:sr}),Ce=af({typed:sr}),nn=Lf({Complex:Mt,config:Vr,typed:sr}),He=ks({typed:sr}),Ai=Gs({Fraction:St,typed:sr}),dr=Xs({DenseMatrix:Pr,Matrix:jt,SparseMatrix:Ue,typed:sr}),Tl=z0({bignumber:rn,fraction:Ai,number:tn}),Ol=m0({isInteger:yi,matrix:dr,typed:sr}),_t=g0({matrix:dr,config:Vr,typed:sr}),an=b0({matrix:dr,typed:sr}),Ye=_0({BigNumber:Re,config:Vr,matrix:dr,typed:sr}),ye=jf({isInteger:yi,matrix:dr,typed:sr}),Il=S0({conj:Nt,transpose:an,typed:sr}),$l=n0({DenseMatrix:Pr,SparseMatrix:Ue,matrix:dr,typed:sr}),fe=O0({numeric:Tl,typed:sr}),Ei=H0({DenseMatrix:Pr,concat:ye,equalScalar:Hr,matrix:dr,typed:sr}),un=i0({matrix:dr,typed:sr}),Bt=f0({BigNumber:Re,DenseMatrix:Pr,SparseMatrix:Ue,config:Vr,matrix:dr,typed:sr}),ql=l0({matrix:dr,multiplyScalar:se,typed:sr}),Fi=fc({DenseMatrix:Pr,concat:ye,config:Vr,matrix:dr,typed:sr}),Pl=P0({DenseMatrix:Pr,divideScalar:fe,equalScalar:Hr,matrix:dr,multiplyScalar:se,subtractScalar:Ce,typed:sr}),Rl=Ws({flatten:un,matrix:dr,size:_t,typed:sr}),Ul=Vc({addScalar:ge,complex:en,conj:Nt,divideScalar:fe,equal:Ei,identity:Bt,isZero:wi,matrix:dr,multiplyScalar:se,sign:xl,sqrt:nn,subtractScalar:Ce,typed:sr,unaryMinus:He,zeros:Ye}),ke=rc({DenseMatrix:Pr,concat:ye,config:Vr,matrix:dr,typed:sr}),Le=Vf({DenseMatrix:Pr,concat:ye,equalScalar:Hr,matrix:dr,subtractScalar:Ce,typed:sr,unaryMinus:He}),Ci=U0({DenseMatrix:Pr,divideScalar:fe,equalScalar:Hr,matrix:dr,multiplyScalar:se,subtractScalar:Ce,typed:sr}),we=Tc({DenseMatrix:Pr,SparseMatrix:Ue,addScalar:ge,concat:ye,equalScalar:Hr,matrix:dr,typed:sr}),Ll=J0({BigNumber:Re,DenseMatrix:Pr,Fraction:St,concat:ye,config:Vr,equalScalar:Hr,matrix:dr,typed:sr}),pe=qc({addScalar:ge,conj:Nt,multiplyScalar:se,size:_t,typed:sr}),Zl=hc({DenseMatrix:Pr,smaller:ke}),on=mc({ImmutableDenseMatrix:Zl,getMatrixDataType:Sl}),Ze=uc({DenseMatrix:Pr,concat:ye,config:Vr,matrix:dr,typed:sr}),Wr=$f({addScalar:ge,dot:pe,equalScalar:Hr,matrix:dr,multiplyScalar:se,typed:sr}),Vl=hl({SparseMatrix:Ue,abs:We,add:we,divideScalar:fe,larger:Ze,largerEq:Fi,multiply:Wr,subtract:Le,transpose:an,typed:sr}),ie=w0({add:we,matrix:dr,typed:sr,zeros:Ye}),Jl=Z0({DenseMatrix:Pr,divideScalar:fe,equalScalar:Hr,matrix:dr,multiplyScalar:se,subtractScalar:Ce,typed:sr}),Yl=X0({compare:Ll,typed:sr}),Gl=Dl({divideScalar:fe,isZero:wi,matrix:dr,multiply:Wr,subtractScalar:Ce,typed:sr,unaryMinus:He}),Ql=yc({larger:Ze,smaller:ke}),ce=Rc({Index:on,typed:sr}),Xl=nc({DenseMatrix:Pr,concat:ye,config:Vr,matrix:dr,typed:sr}),sn=p0({bignumber:rn,matrix:dr,add:we,config:Vr,isPositive:_l,larger:Ze,largerEq:Fi,smaller:ke,smallerEq:Xl,typed:sr}),bi=xc({DenseMatrix:Pr,Index:on,compareNatural:Yl,size:_t,subset:ie,typed:sr}),Kl=Ec({FibonacciHeap:Ql,addScalar:ge,equalScalar:Hr}),Wl=e0({Index:on,matrix:dr,range:sn,typed:sr}),Mi=yl({abs:We,addScalar:ge,det:Gl,divideScalar:fe,identity:Bt,matrix:dr,multiply:Wr,typed:sr,unaryMinus:He}),Hl=Lc({DenseMatrix:Pr,Spa:Kl,SparseMatrix:Ue,abs:We,addScalar:ge,divideScalar:fe,equalScalar:Hr,larger:Ze,matrix:dr,multiplyScalar:se,subtractScalar:Ce,typed:sr,unaryMinus:He}),kl=$0({Complex:Mt,config:Vr,fraction:Ai,identity:Bt,inv:Mi,matrix:dr,multiply:Wr,number:tn,typed:sr}),jl=dl({DenseMatrix:Pr,lsolve:Pl,lup:Hl,matrix:dr,slu:Vl,typed:sr,usolve:Ci}),rv=Cl({abs:We,add:we,addScalar:ge,atan:bl,bignumber:rn,column:Wl,complex:en,config:Vr,cos:Ml,diag:$l,divideScalar:fe,dot:pe,equal:Ei,flatten:un,im:Nl,inv:Mi,larger:Ze,matrix:dr,matrixFromColumns:Rl,multiply:Wr,multiplyScalar:se,number:tn,qr:Ul,re:Bl,reshape:Ol,sin:zl,size:_t,smaller:ke,sqrt:nn,subtract:Le,typed:sr,usolve:Ci,usolveAll:Jl}),xt=Ic({abs:We,add:we,conj:Nt,ctranspose:Il,eigs:rv,equalScalar:Hr,larger:Ze,matrix:dr,multiply:Wr,pow:kl,smaller:ke,sqrt:nn,typed:sr});function ev(r){const e=[r[0]*3,r[0]*3+1,r[0]*3+2],n=[r[1]*3,r[1]*3+1,r[1]*3+2];return[...e,...n]}function tv(r){const e=[r[0]*6,r[0]*6+1,r[0]*6+2,r[0]*6+3,r[0]*6+4,r[0]*6+5],n=[r[1]*6,r[1]*6+1,r[1]*6+2,r[1]*6+3,r[1]*6+4,r[1]*6+5];return[...e,...n]}const Si={0:ev,1:tv};function nv(r,e){let n=[];return r==null||r.forEach((a,t)=>{a[0]&&n.push(t*3),a[1]&&n.push(t*3+1),a[2]&&n.push(t*3+2)}),bi(sn(0,e),n)}function av(r,e){let n=[];return r==null||r.forEach((a,t)=>{a[0]&&n.push(t*6),a[1]&&n.push(t*6+1),a[2]&&n.push(t*6+2),a[3]&&n.push(t*6+3),a[4]&&n.push(t*6+4),a[5]&&n.push(t*6+5)}),bi(sn(0,e),n)}const iv={0:nv,1:av};function uv(r,e,n){var f,p,c,l;const a=((p=(f=r.sections)==null?void 0:f.get(e))==null?void 0:p.area)||0,t=((l=(c=r.materials)==null?void 0:c.get(e))==null?void 0:l.elasticity)||0;let u=dr([[1,-1],[-1,1]]);return Wr(u,t*a/n)}function ov(r,e,n){var h,D,v,m,d,w,y,F,E,g,C,b;const a=((D=(h=r.sections)==null?void 0:h.get(e))==null?void 0:D.momentOfInertiaZ)||0,t=((m=(v=r.sections)==null?void 0:v.get(e))==null?void 0:m.momentOfInertiaY)||0,u=((w=(d=r.materials)==null?void 0:d.get(e))==null?void 0:w.elasticity)||0,f=((F=(y=r.sections)==null?void 0:y.get(e))==null?void 0:F.area)||0,p=((g=(E=r.materials)==null?void 0:E.get(e))==null?void 0:g.shearModulus)||0,c=((b=(C=r.sections)==null?void 0:C.get(e))==null?void 0:b.torsionalConstant)||0,l=u*f/n,o=u*a/n**3,i=u*t/n**3,s=p*c/n;return dr([[l,0,0,0,0,0,-l,0,0,0,0,0],[0,12*o,0,0,0,6*n*o,0,-12*o,0,0,0,6*n*o],[0,0,12*i,0,-6*n*i,0,0,0,-12*i,0,-6*n*i,0],[0,0,0,s,0,0,0,0,0,-s,0,0],[0,0,-6*n*i,0,4*i*n**2,0,0,0,6*n*i,0,2*i*n**2,0],[0,6*n*o,0,0,0,4*o*n**2,0,-6*n*o,0,0,0,2*o*n**2],[-l,0,0,0,0,0,l,0,0,0,0,0],[0,-12*o,0,0,0,-6*o*n,0,12*o,0,0,0,-6*o*n],[0,0,-12*i,0,6*n*i,0,0,0,12*i,0,6*n*i,0],[0,0,0,-s,0,0,0,0,0,s,0,0],[0,0,-6*n*i,0,2*i*n**2,0,0,0,6*n*i,0,4*i*n**2,0],[0,6*n*o,0,0,0,2*o*n**2,0,-6*n*o,0,0,0,4*o*n**2]])}const Ni={0:uv,1:ov};function sv(r,e){const n=Le(e,r),a=xt(n),t=pe(n,dr([1,0,0]))/a,u=pe(n,dr([0,1,0]))/a,f=pe(n,dr([0,0,1]))/a;return dr([[t,u,f,0,0,0],[0,0,0,t,u,f]])}function fv(r,e){const n=Le(e,r),a=xt(n),t=pe(n,dr([1,0,0]))/a,u=pe(n,dr([0,1,0]))/a,f=pe(n,dr([0,0,1]))/a,p=Math.sqrt(t**2+u**2);let c=dr([[t,u,f],[-u/p,t/p,0],[-t*f/p,-u*f/p,p]]);return f===1&&(c=dr([[0,0,1],[0,1,0],[-1,0,0]])),f===-1&&(c=dr([[0,0,-1],[0,1,0],[1,0,0]])),ql(Bt(4),c)}const _i={0:sv,1:fv};function cv(r,e,n,a){var h;const t=r.length*(a===0?3:6);let u=Ye(t,t);e.forEach((D,v)=>{const m=r[D[0]],d=r[D[1]],w=xt(Le(d,m)),y=Ni[a](n,v,w),F=_i[a](m,d),E=Wr(an(F),Wr(y,F)),g=Si[a](D),C=ie(u,ce(g,g));u=ie(u,ce(g,g),we(C,E))});let f=Ye([t]);(h=n.pointLoads)==null||h.forEach((D,v)=>{const m={0:[v*3,v*3+1,v*3+2],1:[v*6,v*6+1,v*6+2,v*6+3,v*6+4,v*6+5]},d=ie(f,ce(m[a]));f=ie(f,ce(m[a]),we(d,a==0?D.slice(0,3):D))});const p=iv[a](n.pointSupports,t),c=ie(f,ce(p)),l=ie(u,ce(p,p)),o=jl(l,c),i=ie(Ye(t),ce(p),un(o));let s=Wr(u,i);return{deformations:i.toArray(),reactions:s.toArray()}}function lv(r,e,n){var c;let a=0;const t=(c=n.sections)==null?void 0:c.values().next().value;("momentOfInertiaZ"in t||"momentOfInertiaZ"in t)&&(a=1);const{deformations:u,reactions:f}=cv(r,e,n,a),p={nodes:new Map,elements:new Map};return r.forEach((l,o)=>{var D,v;const i={0:[u[o*3],u[o*3+1],u[o*3+2],0,0,0],1:[u[o*6],u[o*6+1],u[o*6+2],u[o*6+3],u[o*6+4],u[o*6+5]]},s={0:[f[o*3],f[o*3+1],f[o*3+2],0,0,0],1:[f[o*6],f[o*6+1],f[o*6+2],f[o*6+3],f[o*6+4],f[o*6+5]]},h=(D=n.pointSupports)==null?void 0:D.get(o);(v=p.nodes)==null||v.set(o,{deformation:i[a],...h&&{reaction:s[a]}})}),e.forEach((l,o)=>{var F;const i=r[l[0]],s=r[l[1]],h=xt(Le(s,i)),D=ie(u,ce(Si[a](l))),v=_i[a](i,s),m=Wr(v,D),d=Ni[a](n,o,h);let w=Wr(d,m).toArray();const y={0:{normal:[-w[0],-w[0]]},1:{normal:[w[0],w[6]],shearY:[w[1],w[7]],shearZ:[w[2],w[8]],torsion:[w[3],w[9]],bendingY:[w[4],w[10]],bendingZ:[w[5],w[11]]}};(F=p.elements)==null||F.set(o,y[a])}),p}export{lv as a};
